{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///external \"prop-types\"","webpack:///external \"classnames\"","webpack:///external \"@babel/runtime/helpers/slicedToArray\"","webpack:///external \"@babel/runtime/helpers/extends\"","webpack:///external \"@babel/runtime/helpers/defineProperty\"","webpack:///external \"@babel/runtime/helpers/toConsumableArray\"","webpack:///external \"@babel/runtime/helpers/objectWithoutProperties\"","webpack:///external \"@babel/runtime/helpers/assertThisInitialized\"","webpack:///external \"swiper/react\"","webpack:///external \"react-dom\"","webpack:///external \"react-map-interaction\"","webpack:///external \"swiper\"","webpack:///external \"@babel/runtime/helpers/getPrototypeOf\"","webpack:///external \"focus-trap-react\"","webpack:///external \"@babel/runtime/helpers/classCallCheck\"","webpack:///external \"@babel/runtime/helpers/createClass\"","webpack:///external \"@babel/runtime/helpers/inherits\"","webpack:///external \"@babel/runtime/helpers/possibleConstructorReturn\"","webpack:///./src/asset/svg/icon sync nonrecursive \\.svg$","webpack:///./src/asset/svg/icon/_placeholder.svg","webpack:///./src/asset/svg/icon/add.svg","webpack:///./src/asset/svg/icon/arrow-back.svg","webpack:///./src/asset/svg/icon/arrow-forward.svg","webpack:///./src/asset/svg/icon/autoloadit.svg","webpack:///./src/asset/svg/icon/autoworks.svg","webpack:///./src/asset/svg/icon/close.svg","webpack:///./src/asset/svg/icon/error.svg","webpack:///./src/asset/svg/icon/fullscreen-exit.svg","webpack:///./src/asset/svg/icon/fullscreen.svg","webpack:///./src/asset/svg/icon/logo.svg","webpack:///./src/asset/svg/icon/mute.svg","webpack:///./src/asset/svg/icon/navigate-next.svg","webpack:///./src/asset/svg/icon/navigate-previous.svg","webpack:///./src/asset/svg/icon/pause.svg","webpack:///./src/asset/svg/icon/photo.svg","webpack:///./src/asset/svg/icon/play.svg","webpack:///./src/asset/svg/icon/refresh.svg","webpack:///./src/asset/svg/icon/remove.svg","webpack:///./src/asset/svg/icon/rotate-camera.svg","webpack:///./src/asset/svg/icon/three-sixty.svg","webpack:///./src/asset/svg/icon/touch.svg","webpack:///./src/asset/svg/icon/video.svg","webpack:///./src/asset/svg/icon/volume-down.svg","webpack:///./src/asset/svg/icon/volume-up.svg","webpack:///./src/asset/svg/icon/warning.svg","webpack:///./src/asset/svg/icon/zoom-in.svg","webpack:///./src/component/Primitive/PannellumReact/lib/libpannellum.js","webpack:///./src/component/Primitive/PannellumReact/lib/pannellum.js","webpack:///./src/component/Primitive/PannellumReact/lib/RequestAnimationFrame.js","webpack:///./src/lib/css-string-minifier.js","webpack:///./src/component/Context/HotspotDebugContext/index.jsx","webpack:///./src/component/Structure/Player/Player.module.scss","webpack:///./src/component/Structure/Header/Header.module.scss","webpack:///./src/lib/svg-dimensions-formatter.js","webpack:///./src/lib/ratio-scaler.js","webpack:///./src/component/Primitive/Icon/Icon.module.scss","webpack:///./src/component/Primitive/Icon/index.jsx","webpack:///./src/component/Primitive/VisuallyHidden/VisuallyHidden.module.scss","webpack:///./src/component/Primitive/VisuallyHidden/index.jsx","webpack:///./src/component/Structure/Header/index.jsx","webpack:///./src/component/Structure/InfoPanel/InfoPanel.module.scss","webpack:///./src/component/Primitive/Panel/Panel.module.scss","webpack:///./src/component/Primitive/ScrollArea/ScrollArea.module.scss","webpack:///./src/component/Primitive/ScrollArea/index.jsx","webpack:///./src/component/Primitive/Panel/index.jsx","webpack:///./src/component/Primitive/Rule/Rule.module.scss","webpack:///./src/component/Primitive/Rule/index.jsx","webpack:///./src/component/Primitive/Stack/Stack.module.scss","webpack:///./src/component/Primitive/Stack/index.jsx","webpack:///./src/component/Primitive/Tag/Tag.module.scss","webpack:///./src/component/Primitive/Tag/index.jsx","webpack:///./src/component/Primitive/Inline/Inline.module.scss","webpack:///./src/component/Primitive/Inline/index.jsx","webpack:///./src/component/Primitive/TagList/index.jsx","webpack:///./src/component/Primitive/Type/Type.module.scss","webpack:///./src/component/Primitive/Element/index.jsx","webpack:///./src/component/Primitive/Type/index.jsx","webpack:///./src/component/Structure/InfoPanel/index.jsx","webpack:///./src/hook/useEscapeKey.js","webpack:///./src/hook/useOutsideClick.js","webpack:///./src/component/Primitive/Modal/Modal.module.scss","webpack:///./src/component/Primitive/Modal/index.jsx","webpack:///./src/component/Primitive/ModalHeader/ModalHeader.module.scss","webpack:///./src/component/Primitive/IconButton/IconButton.module.scss","webpack:///./src/component/Primitive/SmartLink/index.jsx","webpack:///./src/component/Primitive/IconButton/index.jsx","webpack:///./src/component/Primitive/ButtonGroup/component/ButtonGroupWrapper/ButtonGroupWrapper.module.scss","webpack:///./src/component/Primitive/ButtonGroup/component/ButtonGroupWrapper/index.jsx","webpack:///./src/component/Primitive/ButtonGroup/component/ButtonGroupItem/ButtonGroupItem.module.scss","webpack:///./src/component/Primitive/ButtonGroup/component/ButtonGroupItem/index.jsx","webpack:///./src/component/Primitive/ButtonGroup/index.jsx","webpack:///./src/component/Primitive/TypeNav/index.jsx","webpack:///./src/component/Primitive/ModalHeader/index.jsx","webpack:///./src/component/Primitive/Spinner/Spinner.module.scss","webpack:///./src/component/Primitive/Spinner/index.jsx","webpack:///./src/component/Primitive/Splash/Splash.module.scss","webpack:///./src/component/Primitive/Splash/index.jsx","webpack:///./src/component/Primitive/Viewer/Viewer.module.scss","webpack:///./src/component/Primitive/FilmstripFrame/FilmstripFrame.module.scss","webpack:///./src/component/Primitive/HotspotMini/HotspotMini.module.scss","webpack:///./src/component/Primitive/HotspotMini/index.jsx","webpack:///./src/component/Primitive/ImageFrame/ImageFrame.module.scss","webpack:///./src/component/Primitive/ImageFrame/index.jsx","webpack:///./src/component/Primitive/ResponsiveImage/index.jsx","webpack:///./src/component/Primitive/ResponsiveMedia/ResponsiveMedia.module.scss","webpack:///./src/component/Primitive/ResponsiveMedia/index.jsx","webpack:///./src/component/Primitive/FilmstripFrame/index.jsx","webpack:///./src/shape/hotspot-interior.js","webpack:///./src/component/Primitive/Interior/Interior.module.scss","webpack:///./src/component/Primitive/Hotspot/Hotspot.module.scss","webpack:///./src/component/Primitive/ButtonSingle/index.jsx","webpack:///./src/component/Primitive/PannellumReact/index.jsx","webpack:///./src/component/Primitive/Hotspot/index.jsx","webpack:///./src/component/Primitive/InteriorPanorama/InteriorPanorama.module.scss","webpack:///./src/component/Primitive/InteriorPanorama/index.jsx","webpack:///./src/component/Primitive/Interior/index.jsx","webpack:///./src/shape/hotspot-standard.js","webpack:///./src/component/Primitive/Rotator/Rotator.module.scss","webpack:///./src/component/Primitive/Rotator/component/Rotation.jsx","webpack:///./src/component/Primitive/HotspotFrame/HotspotFrame.module.scss","webpack:///./src/component/Primitive/HotspotFrame/index.jsx","webpack:///./src/component/Primitive/LoadingProgress/LoadingProgress.module.scss","webpack:///./src/component/Primitive/Progress/Progress.module.scss","webpack:///./src/component/Primitive/Progress/index.jsx","webpack:///./src/component/Primitive/LoadingProgress/index.jsx","webpack:///./src/component/Primitive/Rotator/index.jsx","webpack:///./src/component/Primitive/VideoPlayer/VideoPlayer.module.scss","webpack:///./src/component/Primitive/VideoPlayer/lib/detect-ios.js","webpack:///./src/component/Primitive/MediaMute/index.jsx","webpack:///./src/component/Primitive/MediaScrubber/MediaScrubber.module.scss","webpack:///./src/lib/time-formatter.js","webpack:///./src/component/Primitive/MediaRange/MediaRange.module.scss","webpack:///./src/component/Primitive/MediaRange/index.jsx","webpack:///./src/component/Primitive/ShrinkWrap/component/ShrinkWrapWrapper/ShrinkWrapWrapper.module.scss","webpack:///./src/component/Primitive/ShrinkWrap/component/ShrinkWrapWrapper/index.jsx","webpack:///./src/component/Primitive/ShrinkWrap/component/ShrinkWrapItem/ShrinkWrapItem.module.scss","webpack:///./src/component/Primitive/ShrinkWrap/component/ShrinkWrapItem/index.jsx","webpack:///./src/component/Primitive/ShrinkWrap/index.jsx","webpack:///./src/component/Primitive/MediaScrubber/index.jsx","webpack:///./src/component/Primitive/MediaVolume/index.jsx","webpack:///./src/component/Primitive/Video/index.jsx","webpack:///./src/component/Primitive/VideoPlayer/index.jsx","webpack:///./src/component/Primitive/ViewerCarousel/ViewerCarousel.module.scss","webpack:///./src/component/Primitive/PaginationButton/PaginationButton.module.scss","webpack:///./src/component/Primitive/PaginationButton/index.jsx","webpack:///./src/component/Primitive/ViewerCarousel/index.jsx","webpack:///./src/component/Primitive/ViewerHeader/ViewerHeader.module.scss","webpack:///./src/component/Primitive/ViewerHeader/index.jsx","webpack:///./src/component/Primitive/Zoomer/Zoomer.module.scss","webpack:///./src/lib/map-translation-converter.js","webpack:///./src/component/Primitive/Minimap/Minimap.module.scss","webpack:///./src/component/Primitive/Minimap/index.jsx","webpack:///./src/component/Primitive/ZoomerImage/ZoomerImage.module.scss","webpack:///./src/component/Primitive/ZoomerImage/index.jsx","webpack:///./src/component/Primitive/Zoomer/index.jsx","webpack:///./src/component/Primitive/Viewer/index.jsx","webpack:///./src/component/Primitive/ViewerPlaceholder/ViewerPlaceholder.module.scss","webpack:///./src/component/Primitive/ViewerPlaceholder/index.jsx","webpack:///./src/component/Structure/Player/index.jsx","webpack:///./src/component/Primary/AutoWorksPlayerLibrary/index.jsx"],"names":["root","factory","exports","module","define","amd","a","i","this","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","_extends","assign","target","arguments","length","source","apply","_ref","_ref2","props","viewBox","fill","_ref3","opacity","xlinkHref","overflow","clipPath","width","height","transform","_ref4","window","libpannellum","document","undefined","Renderer","container","program","gl","vs","fs","fallbackImgSize","world","vtmps","pose","image","imageType","dynamic","texCoordBuffer","cubeVertBuf","cubeVertTexCoordBuf","cubeVertIndBuf","globalParams","canvas","createElement","multiresNodeSort","b","level","timestamp","multiresNodeRenderSort","diff","MultiresNode","vertices","side","x","y","path","replace","testMultiresNode","rotPersp","node","pitch","yaw","hfov","v","check1","checkInView","slice","check2","check3","check4","testX","testY","checkSquareInView","z","Math","sqrt","theta","asin","ydiff","atan2","PI","abs","acos","sin","cos","inCurrent","k","nodeCache","nodeCacheTimestamp","currentNodes","push","cubeSize","cubeResolution","pow","maxLevel","numTiles","ceil","invTileResolution","doubleTileSize","tileResolution","lastTileSize","f","ntmp","children","f1","f2","f3","i1","i2","i3","fullpath","j","rotateMatrix","angle","axis","transposeMatrix4","style","appendChild","init","_image","_imageType","_dynamic","haov","vaov","voffset","callback","params","console","log","type","detachShader","deleteShader","bindBuffer","ARRAY_BUFFER","ELEMENT_ARRAY_BUFFER","texture","deleteTexture","deleteProgram","cubeImgWidth","faceMissing","fillMissingFaces","imgSize","nbytes","imageArray","Uint8ClampedArray","rgb","backgroundColor","backgroundSquare","ImageData","navigator","userAgent","toLowerCase","match","getContext","alpha","depth","getError","handleWebGLError1286","documentElement","appVersion","indexOf","basePath","maxWidth","max","getParameter","MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE","horizonPitch","horizonRoll","glBindType","TEXTURE_2D","viewport","drawingBufferWidth","drawingBufferHeight","createShader","VERTEX_SHADER","vertexSrc","vMulti","shaderSource","compileShader","FRAGMENT_SHADER","fragmentSrc","fragEquirectangular","TEXTURE_CUBE_MAP","fragCube","fragMulti","createProgram","attachShader","linkProgram","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","getProgramParameter","LINK_STATUS","getProgramInfoLog","useProgram","drawInProgress","color","clearColor","clear","COLOR_BUFFER_BIT","texCoordLocation","getAttribLocation","enableVertexAttribArray","createBuffer","bufferData","Float32Array","STATIC_DRAW","vertexAttribPointer","FLOAT","aspectRatio","getUniformLocation","uniform1f","psi","h","vo","rot","uniform4fv","concat","createTexture","bindTexture","texImage2D","TEXTURE_CUBE_MAP_POSITIVE_X","RGB","UNSIGNED_BYTE","TEXTURE_CUBE_MAP_NEGATIVE_X","TEXTURE_CUBE_MAP_POSITIVE_Y","TEXTURE_CUBE_MAP_NEGATIVE_Y","TEXTURE_CUBE_MAP_POSITIVE_Z","TEXTURE_CUBE_MAP_NEGATIVE_Z","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_MAG_FILTER","vertPosLocation","Uint16Array","perspUniform","cubeUniform","err","removeChild","className","fallbackPath","sides","loaded","onLoad","faceCanvas","faceContext","drawImage","imgData","getImageData","data","putImageData","incLoaded","faceImg","Image","crossOrigin","onload","onerror","src","encodeURI","extension","destroy","contains","getExtension","loseContext","resize","pixelRatio","devicePixelRatio","clientWidth","clientHeight","setPose","render","focal","roll","orig_pitch","orig_yaw","min","w","roll_adj","vfov","atan","tan","drawArrays","TRIANGLES","perspMatrix","aspect","znear","zfar","fovy","makePersp","newLevel","checkZoom","matrix","uniformMatrix4fv","sort","removed","splice","pendingTextureRequests","textureLoad","setTimeout","processNextTile","textureLoaded","drawElements","UNSIGNED_SHORT","multiresDraw","returnImage","toDataURL","transforms","u","zoom","faces","face","querySelector","webkitTransform","isLoading","getCanvas","loadTexture","cacheTop","textureImageCache","TextureImageLoader","self","loadFn","img","tex","til","shift","releaseTextureImageLoader","addEventListener","PendingTextureRequest","_crossOrigin","vpp","applyRotPerspToVec","winX","winY","winZ","ret","round","join","fragEquiCubeBase","renderer","imagetype","pannellum","Viewer","initialConfig","config","preview","panoImage","prevTime","autoRotateStart","origHfov","origPitch","_this","isUserInteracting","latestInteraction","Date","now","onPointerDownPointerX","onPointerDownPointerY","onPointerDownPointerDist","onPointerDownYaw","onPointerDownPitch","keysDown","Array","fullscreenActive","error","listenersAdded","speed","animating","orientation","orientationYawOffset","autoRotateSpeed","animatedMove","externalEventListeners","specifiedPhotoSphereExcludes","update","hotspotsCreated","defaultConfig","minHfov","maxHfov","minPitch","maxPitch","minYaw","maxYaw","vOffset","autoRotate","autoRotateInactivityDelay","autoRotateStopDelay","northOffset","showFullscreenCtrl","doubleClickZoom","keyboardZoom","mouseZoom","showZoomCtrl","autoLoad","showControls","orientationOnByDefault","hotSpotDebug","avoidShowingBackground","animationTimingFunction","draggable","disableKeyboardCtrl","touchPanSpeedCoeffFactor","capturedKeyNumbers","loadButtonLabel","loadingLabel","bylineLabel","noPanoramaError","fileAccessError","malformedURLError","iOS8WebGLError","genericWebGLError","textureSizeError","unknownError","getElementById","classList","add","tabIndex","uiContainer","renderContainer","dragFix","aboutMsg","innerHTML","aboutMessage","event","pos","mousePosition","left","top","clearTimeout","t1","t2","display","preventDefault","infoDisplay","hotSpotDebugIndicator","title","author","load","box","boxp","lbox","lbar","lbarFill","msg","errorMsg","controls","processOptions","zoomIn","setHfov","animateInit","zoomOut","fullscreen","toggleFullscreen","fullscreenEnabled","mozFullScreenEnabled","webkitFullscreenEnabled","msFullscreenEnabled","stopOrientation","startOrientation","stopPropagation","orientationSupport","startOrientationIfSupported","DeviceOrientationEvent","deviceOrientationTest","removeEventListener","beta","gamma","compass","div","getElementsByTagName","JSON","parse","stringify","multiRes","test","panorama","anError","strings","itemsToLoad","onImageLoad","onError","href","textContent","outerHTML","cubeMap","absoluteURL","sanitizeURL","URL","revokeObjectURL","xhr","XMLHttpRequest","onloadend","status","reader","response","FileReader","result","flagIndex","start","ignoreGPanoXMP","xmpData","substring","getTag","tag","Number","xmp","fullWidth","croppedWidth","fullHeight","croppedHeight","topPixels","heading","createObjectURL","readAsBinaryString","readAsText","onprogress","lengthComputable","unit","numerator","denominator","percent","total","toFixed","open","responseType","setRequestHeader","withCredentials","send","remove","url","RegExp","onDocumentMouseDown","onDocumentMouseMove","onDocumentMouseUp","onDocumentMouseWheel","onDocumentDoubleClick","onFullScreenChange","onDocumentResize","onDocumentKeyPress","onDocumentKeyUp","clearKeys","pointerAction","touchAction","onDocumentPointerDown","onDocumentPointerMove","onDocumentPointerUp","onDocumentTouchStart","onDocumentTouchMove","onDocumentTouchEnd","pointerEnabled","renderInitCallback","renderInit","fireEvent","bounds","getBoundingClientRect","clientX","clientY","focus","coords","mouseEventToCoords","stopAnimation","lookAt","canvasWidth","canvasHeight","pos0","targetTouches","pos1","clientDist","touchmovePanSpeedCoeff","firstScene","mergeConfig","default","pointerIDs","pointerCoordinates","pointerType","pointerId","defined","wheelDeltaY","wheelDelta","detail","keynumber","which","keycode","changeKey","keyChanged","performance","animateMove","normTime","startTime","duration","startPosition","endPosition","callbackArgs","animate","tmpyaw","hoffcut","hfov2","vfov2","yawRange","isNaN","renderHotSpots","onRender","requestAnimationFrame","newTime","isKeyDown","prevPitch","prevYaw","prevZoom","timeDiff","yawDiff","maxSpeed","keyRepeat","autoRotateStartTime","Quaternion","computeQuaternion","quaternion","taitBryanToQuaternion","multiply","orientationListener","q","toEulerAngles","sceneFadeDuration","fadeImg","hotSpots","forEach","createHotSpot","createHotSpots","hs","cssClass","escapeHTML","span","text","video","paddingTop","sceneId","onclick","ontouchend","clicked","loadScene","targetPitch","targetYaw","targetHfov","createTooltipFunc","createTooltipArgs","scrollWidth","marginLeft","offsetWidth","marginTop","scrollHeight","clickHandlerFunc","clickHandlerArgs","renderHotSpot","hsPitchSin","hsPitchCos","configPitchSin","configPitchCos","yawCos","visibility","yawSin","hfovTan","coord","rollSin","rollCos","offsetHeight","MozTransform","photoSphereExcludes","scenes","scene","isPreview","backgroundImage","previewTitle","previewAuthor","link","message","exitFullscreen","mozCancelFullScreen","webkitCancelFullScreen","msExitFullscreen","requestFullscreen","mozRequestFullScreen","msRequestFullscreen","webkitRequestFullScreen","isFullScreen","innerWidth","screen","innerHeight","mozFullScreen","webkitIsFullScreen","msFullscreenElement","constrainHfov","newHfov","fadeDone","workingPitch","workingYaw","workingHfov","transition","current","parentNode","destroyHotSpots","String","split","trim","isLoaded","Boolean","getPitch","setPitch","animated","getPitchBounds","setPitchBounds","getYaw","setYaw","getYawBounds","setYawBounds","getHfov","getHfovBounds","setHfovBounds","getNorthOffset","setNorthOffset","getHorizonRoll","setHorizonRoll","getHorizonPitch","setHorizonPitch","startAutoRotate","stopAutoRotate","getRenderer","setUpdate","bool","getScene","addScene","removeScene","getConfig","getContainer","addHotSpot","removeHotSpot","hotSpotId","isOrientationSupported","isOrientationActive","on","listener","off","viewer","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","element","minifyCssString","cssString","HotspotDebugContext","React","createContext","HotspotDebugContextProvider","active","Provider","propTypes","isRequired","Consumer","svgDimensionsFormatter","svg","svgProps","viewBoxSplit","parseInt","ratioScaler","native","ratio","svgs","types","Icon","a11yText","vAlign","SvgType","targetDimensions","nativeDimensions","ratioDimensions","classNames","styles","role","lineHeight","string","oneOf","number","VisuallyHidden","Header","HeaderInner","ScrollArea","hideScrollbar","horizontal","Panel","Rule","RuleEl","functional","Stack","gap","defaultProps","Tag","Inline","as","shrink","InlineEl","TagList","Element","other","ElementEl","Type","bold","size","tight","displayName","InfoPanel","textSecondary","tags","headingSecondary","arrayOf","useEscapeKey","useEffect","handleKeyDown","keyCode","useOutsideClick","ref","handleClick","Modal","ariaLabel","onClose","watermark","colors","zIndex","useRef","handleClose","area","body","createPortal","aria-label","aria-modal","dangerouslySetInnerHTML","__html","accent","accentText","actions","func","SmartLink","disabled","setRef","to","rel","IconButton","icon","iconHeight","iconWidth","increaseHitArea","light","primary","rounded","small","solid","ButtonGroupWrapper","inverse","ButtonGroupItem","inactive","ButtonGroupItemEl","ButtonGroup","Item","typeMap","exterior","interior","photo","TypeNav","activeType","availableTypes","onChange","onClick","array","ModalHeader","description","paths","Spinner","paused","revealDelay","aria-live","animationDelay","Splash","onComplete","useState","exiting","setExiting","complete","setComplete","exitingDurationOffset","exitingTimer","completeTimer","transitionDuration","HotspotMini","ImageFrame","srcSetFormatter","srcSet","ResponsiveImage","alt","loading","sizes","shape","formatRatio","parseFloat","ResponsiveMedia","paddingBottom","FilmstripFrame","caption","hotspot","tooltip","autoFocus","ButtonSingle","Pannellum","state","hotspots","hotspotArray","isArray","random","toString","substr","hotspotTooltip","tooltipArg","handleClickHotspot","handleClickArg","jsonConfig","hotspotDebug","onScenechange","onScenechangefadedone","onErrorcleared","onMousedown","onMouseup","onTouchstart","onTouchend","renderImage","args","hotSpotDiv","setAttribute","hDiv","outDiv","inDiv","prevProps","prevState","snapshot","divStyle","imageNode","PureComponent","oneOfType","Hotspot","centered","tooltipPosition","revealed","setRevealed","timer","HotspotInner","HotspotTooltip","InteriorPanorama","onHotspotClick","position","hfovScale","Interior","poster","setActive","trackedHfov","updateHfov","initialised","setInitialised","contextHotspotDebug","useContext","derivedHotspotDebug","thisViewer","getViewer","firstHotspot","find","defaultPosition","nextHfov","shapeHotspotInterior","Rotation","autoPlay","scroll","pauseOnHover","cycle","reverse","vertical","initialFrame","hovered","toggleHovered","setCurrent","autoplayActive","toggleAutoplayActive","pointerPosition","updatePointerPosition","startFrame","updateStartFrame","setCurrentFrame","frame","newCurrent","stop","touchStart","calculatePointerPosition","touchMove","notTouched","currentTarget","pointer","offset","delta","floor","touchEnd","changedTouches","offsetTop","offsetLeft","onTouchStart","onTouchMove","onTouchEnd","onMouseDown","onMouseMove","onWheel","deltaY","onMouseEnter","onMouseLeave","onKeyDown","tagName","prevKey","nextKey","Children","child","cloneElement","HotspotFrame","scale","wrapperCoords","rawX","rawY","Progress","progress","LoadingProgress","Rotator","images","initialIndex","reverseDirection","activeImageIndex","updateActiveImageIndex","autoplay","toggleAutoplay","revealHotspots","setRevealHotspots","loadedCount","updateLoadedCount","loadingComplete","setLoadingComplete","loadTimerComplete","setLoadTimerComplete","loadedImages","updateLoadedImages","isFirefox","setIsFirefox","wrapperWidth","updateWrapperWidth","wrapper","handleImageLoad","currentSrc","arr","newLoadedCount","backgroundSize","backgroundRepeat","entries","onReady","objectOf","shapeHotspotStandard","isIos","includes","platform","MediaVolume","muted","formatTime","seconds","filter","MediaRange","label","step","ShrinkWrapWrapper","fixed","mobileStack","ShrinkWrapItem","noWrap","spacing","ShrinkWrap","MediaScrubber","volume","Video","buffered","loop","playsInline","preload","VideoPlayer","onProgress","playing","togglePlaying","updateVolume","updateProgress","updateDuration","forceControls","toggleForceControls","volumeMode","setVolumeMode","toggleMuted","waiting","toggleWaiting","playerRef","videoRef","handleMetaLoaded","handlePlay","handlePause","handleTimeUpdate","timeInt","currentTime","handleEnterFullscreen","webkitEnterFullscreen","handleExitFullscreen","fullscreenElement","webkitDisplayingFullscreen","webkitExitFullscreen","handleFullscreenChange","handleWaiting","handleOrientationChange","once","pause","VideoPlayerInner","VideoPlayerInnerInner","VideoPlayerInnerOverlay","VideoPlayerControls","VideoPlayerControlsInner","MediaControls","VideoPlayerScrubber","play","VideoPlayerVolume","MediaMute","newVolume","volumeInt","PaginationButton","direction","ViewerCarousel","activeItem","history","initialSlide","showcase","slides","thumbnails","swiperPlugins","Keyboard","History","SwiperCore","use","activeSlide","setActiveSlide","viewerSwiper","setViewerSwiper","thumbsSwiper","setThumbsSwiper","mounted","setMounted","slideTo","index","onSwiper","onSlideChange","realIndex","allowTouchMove","keyboard","slide","data-history","slidesPerView","centeredSlides","centeredSlidesBounds","centerInsufficientSlides","spaceBetween","clickedIndex","thumbnail","slidePrev","slideNext","replaceState","ViewerHeader","onZoom","mapTranslationToDecimal","offsetX","offsetY","mapTranslationToPixel","Minimap","translation","formattedValue","updateFormattedValue","newTranslation","disableZoom","borderWidth","ZoomerImage","minScale","maxScale","defaultScale","ZoomerImageContent","minimap","Zoomer","priorityLoading","updateScale","decimalTranslation","updateDecimalTranslation","clamp","newScale","spinning","disableImageZoom","items","onNavChange","onVideoProgress","onViewerChange","rotatorScroll","thumbnailRatio","interiorMouseZoom","item","icons","captions","hasHotspots","ViewerPlaceholder","ViewerPlaceholderFilmstrip","ViewerPlaceholderFilmstripFrame","Player","containerClass","hideBranding","infoChildren","infoHeading","infoHeadingSecondary","infoHidden","infoOnLeft","infoTags","infoText","infoTextSecondary","infoHeightMatch","modalZIndex","onNavigation","onShowcaseEnter","onShowcaseExit","showcaseDescription","showcaseHeading","splashDuration","showcaseActive","toggleShowcaseActive","updateActiveItem","setAvailableTypes","splashComplete","setSplashComplete","showInfo","handleModalClose","handleNavChange","findIndex","handleUpdateActiveItem","activeItemData","Set","handleSetAvailableTypes","mergedColors","commonViewerProps","hotspotId","PlayerContent","PlayerHeader","PlayerViewer","textAlign","PlayerInfo","PlayerInfoInner","heightMatch","AutoWorksPlayer"],"mappings":"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","file":"AutoWorksPlayer.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 50);\n","module.exports = require(\"react\");","module.exports = require(\"prop-types\");","module.exports = require(\"classnames\");","module.exports = require(\"@babel/runtime/helpers/slicedToArray\");","module.exports = require(\"@babel/runtime/helpers/extends\");","module.exports = require(\"@babel/runtime/helpers/defineProperty\");","module.exports = require(\"@babel/runtime/helpers/toConsumableArray\");","module.exports = require(\"@babel/runtime/helpers/objectWithoutProperties\");","module.exports = require(\"@babel/runtime/helpers/assertThisInitialized\");","module.exports = require(\"swiper/react\");","module.exports = require(\"react-dom\");","module.exports = require(\"react-map-interaction\");","module.exports = require(\"swiper\");","module.exports = require(\"@babel/runtime/helpers/getPrototypeOf\");","module.exports = require(\"focus-trap-react\");","module.exports = require(\"@babel/runtime/helpers/classCallCheck\");","module.exports = require(\"@babel/runtime/helpers/createClass\");","module.exports = require(\"@babel/runtime/helpers/inherits\");","module.exports = require(\"@babel/runtime/helpers/possibleConstructorReturn\");","var map = {\n\t\"./_placeholder.svg\": 20,\n\t\"./add.svg\": 21,\n\t\"./arrow-back.svg\": 22,\n\t\"./arrow-forward.svg\": 23,\n\t\"./autoloadit.svg\": 24,\n\t\"./autoworks.svg\": 25,\n\t\"./close.svg\": 26,\n\t\"./error.svg\": 27,\n\t\"./fullscreen-exit.svg\": 28,\n\t\"./fullscreen.svg\": 29,\n\t\"./logo.svg\": 30,\n\t\"./mute.svg\": 31,\n\t\"./navigate-next.svg\": 32,\n\t\"./navigate-previous.svg\": 33,\n\t\"./pause.svg\": 34,\n\t\"./photo.svg\": 35,\n\t\"./play.svg\": 36,\n\t\"./refresh.svg\": 37,\n\t\"./remove.svg\": 38,\n\t\"./rotate-camera.svg\": 39,\n\t\"./three-sixty.svg\": 40,\n\t\"./touch.svg\": 41,\n\t\"./video.svg\": 42,\n\t\"./volume-down.svg\": 43,\n\t\"./volume-up.svg\": 44,\n\t\"./warning.svg\": 45,\n\t\"./zoom-in.svg\": 46\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 19;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M23 1v22H1V1h22m1-1H0v24h24V0z\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 3v18h18V3H3zm8 16H5v-6h6v6zm0-8H5V5h6v6zm8 8h-6v-6h6v6zm0-8h-6V5h6v6z\"\n});\n\nfunction SvgPlaceholder(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n}\n\nexport default SvgPlaceholder;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nfunction SvgAdd(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n}\n\nexport default SvgAdd;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"\n});\n\nfunction SvgArrowBack(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n}\n\nexport default SvgArrowBack;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z\"\n});\n\nfunction SvgArrowForward(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n}\n\nexport default SvgArrowForward;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#FFF\",\n  d: \"M322 56.1c0-1.6.1-4.7.1-7.5v-4.7c0-.4-.1-.4-1.3-.4h-2.7c-.8 0-1.2-.6-1.2-1.1 0-.6.4-1.1 1.1-1.1h10.3c.8 0 1.1.7 1.1 1.1 0 .6-.3 1.1-1 1.1h-1.9c-2 0-2 0-2 .4 0 1.4-.1 3.5-.1 5.5 0 2.5 0 5.1.1 6.7 0 .7-.6 1.1-1.2 1.1-.7 0-1.3-.4-1.3-1.1zm-21.4-.1c0 .7-.6 1.1-1.2 1.1s-1.2-.4-1.2-1.1c0-2.5.1-5.3.1-8.1 0-2 0-3.9-.1-5.6 0-.9.9-1.1 1.3-1.1.6 0 1.2.3 1.2 1 0 1.7-.1 3.7-.1 5.8-.1 2.7-.1 5.4 0 8zm-28.7-12.7c-1 0-2.1 0-2.2 1.1-.1.9-.1 3.3-.1 5.6 0 1.7 0 3.2.1 4 .1 1 .7 1.1 2.5 1.1 2.2 0 6.5 0 6.5-6 0-3.4-2-5.8-5.2-5.8h-1.6m.3 14.1c-1.6 0-4.6 0-4.8-3-.1-1-.1-2.7-.1-4.5 0-2.3.1-4.8.1-5.9.2-2.9 2.2-3 4.8-3h1.6c4.8.3 7.4 3.7 7.4 8.1-.1 8.3-6.9 8.3-9 8.3m-25.8-7.9c-.6-2-1.3-3.9-1.6-4.9-.1-.4-.2-.6-.4-.6-.1 0-.2.2-.4.6-.3.8-1.6 4.8-1.6 5 0 .1 0 .1.2.1h3.7c.1 0 .2 0 .2-.1-.1 0-.1-.1-.1-.1m3.5 7.6c-.5 0-1-.2-1.2-.8-.2-.6-.8-2.3-1.4-4.3 0-.1-.1-.2-.2-.2H242c-.1 0-.2.1-.2.2-.5 1.7-1 3.2-1.3 4.2-.2.6-.7.9-1.2.9-.6 0-1.2-.4-1.2-1.1 0-.4.1-.5 4.6-13.5.3-1 1.1-1.4 1.8-1.4.8 0 1.6.5 1.9 1.5 1.3 3.8 4 11.1 4.7 12.8.1.2.1.4.1.6-.1.7-.7 1.1-1.3 1.1m-29.2-7.9c0-3.6-2.5-6-5.5-6s-5.5 2.4-5.5 6 2.5 6 5.5 6 5.5-2.4 5.5-6m-13.4 0c0-4.7 3.4-8.2 7.9-8.2s8 3.4 8 8.2c0 4.9-3.4 8.2-8 8.2-4.5 0-7.9-3.3-7.9-8.2m-25.4-6.8c0-.8.6-1.2 1.2-1.2s1.2.4 1.2 1.3v.1c-.1 1.3-.1 5.8-.1 8.7v2.5c.1 1 .5 1 3.3 1h3c.7 0 1.1.5 1.1 1.1 0 .6-.4 1.2-1.3 1.2h-5.4c-1.9-.1-3-.8-3.1-2.7v-1.9c0-2.9.1-7.5.1-9.6v-.5zm-19.5 6.8c0-3.6-2.5-6-5.5-6s-5.5 2.4-5.5 6 2.5 6 5.5 6 5.5-2.4 5.5-6m-13.4 0c0-4.7 3.4-8.2 7.9-8.2s8 3.4 8 8.2c0 4.9-3.4 8.2-8 8.2-4.5 0-7.9-3.3-7.9-8.2m-23 6.9c0-1.6.1-4.7.1-7.5v-4.7c0-.4-.1-.4-1.3-.4h-2.7c-.8 0-1.2-.6-1.2-1.1 0-.6.4-1.1 1.1-1.1h10.3c.8 0 1.1.7 1.1 1.1 0 .6-.3 1.1-1 1.1h-1.9c-2 0-2 0-2 .4 0 1.4-.1 3.5-.1 5.5 0 2.5 0 5.1.1 6.7 0 .7-.6 1.1-1.2 1.1-.7 0-1.3-.4-1.3-1.1zm-33.7-5.3v-8.5c0-.6.4-1.1 1.2-1.1.6 0 1.2.4 1.2 1.1v8.6c0 2.8 1.9 4.2 3.7 4.2 1.9 0 3.9-1.5 3.9-4.4v-8.4c0-.9.8-1.1 1.2-1.1.6 0 1.2.4 1.2 1.1 0 1.7-.1 3.2-.1 4.5v3.7c.1 4.6-3.2 6.8-6.2 6.8-3 .1-6.1-2.1-6.1-6.5m-20.2-1.3c-.6-2-1.3-3.9-1.6-4.9-.1-.4-.2-.6-.3-.6-.1 0-.2.2-.4.6-.3.8-1.6 4.8-1.6 5 0 .1 0 .1.2.1h3.7c.1 0 .2 0 .2-.1-.2 0-.2-.1-.2-.1m3.5 7.6c-.5 0-1-.2-1.2-.8-.2-.6-.8-2.3-1.4-4.3 0-.1-.1-.2-.2-.2h-5.1c-.1 0-.2.1-.2.2-.5 1.7-1 3.2-1.3 4.2-.2.6-.7.9-1.2.9-.6 0-1.2-.4-1.2-1.1 0-.4.1-.5 4.6-13.5.3-1 1.1-1.4 1.8-1.4.8 0 1.6.5 1.9 1.5 1.3 3.8 4 11.1 4.7 12.8.1.2.1.4.1.6-.1.7-.7 1.1-1.3 1.1\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"#FFF\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14.4 59.5c-.1-.6-.2-1.1-.2-1.7-7.8-1.7-12.6-4.9-12.6-8 0-2.5 3-5 8.1-6.7l-1.4 1.2c-.3.4-.3.9-.1 1.2.2.2.4.3.6.3.2 0 .4-.1.5-.2l5.3-4.7-6.9-1.5c-.4-.1-.9.2-1 .6-.1.4.2.9.6 1l2.1.5c-6.1 2-9.6 5-9.6 8.4.2 4.3 6 7.9 14.6 9.6M38 41.2c-.1.4.2.9.6 1 7.1 1.7 11.5 4.6 11.5 7.7 0 4.4-9.8 9.1-24.3 9.1-2.4 0-4.6-.1-6.7-.4.1.6.2 1.1.3 1.7 2 .2 4.2.3 6.4.3 14.5 0 25.9-4.7 25.9-10.7 0-3.9-4.8-7.4-12.8-9.3h-.2c-.2-.1-.6.2-.7.6\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M34.4 62.3h-.2c-.4 0-.7.3-.8.6-1.7 7.2-4.5 11.7-7.5 11.7-4.3 0-8.9-10-8.9-24.8S21.6 25 25.9 25c4.3 0 8.9 10 8.9 24.8v1.5l-.8-1.9c-.2-.4-.7-.6-1.1-.4-.4.2-.6.7-.4 1.1l2.9 6.6 3.4-6.3c.2-.4.1-.9-.3-1.1-.4-.2-.9-.1-1.1.3l-1 1.8v-1.5c0-14.8-4.6-26.5-10.5-26.5S15.4 35 15.4 49.9c0 14.8 4.6 26.5 10.5 26.5 3.8 0 7.2-4.9 9.1-13 .1-.5-.2-1-.6-1.1\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M180.6 15.7h-3.1V.3h3.1v15.4zm24.1 0h-3.1V4.1l-3.8 10.1h-3.2l-3.8-10.1v11.5h-3.1V.3h4.5l4 10.4 4-10.4h4.5v15.4zm21.3 0h-3.3l-1.3-3.6h-6.6l-1.3 3.6h-3.2l6-15.4h3.7l6 15.4zm-10.1-6.4h4.5l-2.2-6-2.3 6zm28.2-6.9l-2.2 2.2c-.9-1-2.1-1.6-3.7-1.6-2.8 0-4.9 2.1-4.9 5.1 0 3.1 2.1 5.1 4.8 5.1 2.5 0 4-1.2 4.4-3.4h-3.9V7.1h7.1V8c0 4.7-3.2 8-7.5 8s-8.1-3-8.1-8c0-4.7 3.4-8 8.1-8 2.5 0 4.6.9 5.9 2.4zm19.5 13.3h-11.5V.3h11.4v2.8h-8.4v3.4h8v2.8h-8v3.5h8.4v2.9zm17.2-11.5c-1.2-.7-2.7-1.3-4.4-1.3-1.7 0-2.9.7-2.9 1.8s1.3 1.5 3.2 1.8l.9.1c2.8.5 4.9 1.6 4.9 4.3 0 3.4-3 5-6.3 5-2.3 0-4.8-.7-6.5-2l1.6-2.5c1.1.9 2.9 1.7 4.9 1.7 1.7 0 3-.7 3-1.9 0-1.1-1.1-1.5-3.3-1.8l-1-.2c-2.7-.4-4.7-1.6-4.7-4.4 0-3.2 2.9-4.9 6.1-4.9 2.2 0 3.9.5 5.9 1.6l-1.4 2.7zM304.1.3c3.6 0 5.8 1.3 5.8 4.3 0 1.6-.9 2.8-2.2 3.3 1.4.5 2.6 1.8 2.6 3.5 0 3-2.1 4.4-5.8 4.4h-6.7V.3h6.3zM300.9 3v3.6h3.1c1.5 0 2.7-.3 2.7-1.8S305.5 3 304 3h-3.1zm0 6.3V13h3.4c1.7 0 2.8-.4 2.8-1.9 0-1.4-1.1-1.8-2.8-1.8h-3.4zm22.5.3v6.1h-3.1V9.6L314.4.3h3.6l3.9 6.5 3.9-6.5h3.5l-5.9 9.3z\",\n  opacity: 0.5,\n  fill: \"#FFF\"\n});\n\nfunction SvgAutoloadit(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 330 78\"\n  }, props), _ref, _ref2, _ref3);\n}\n\nexport default SvgAutoloadit;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"autoworks_svg__a\",\n  d: \"M53 .9v12.4C66.3 17.2 76 29.5 76 44c0 17.7-14.3 32-32 32S12 61.7 12 44c0-14.5 9.7-26.8 23-30.7V.9C15 5.1 0 22.8 0 44c0 24.3 19.7 44 44 44s44-19.7 44-44C88 22.8 73 5.1 53 .9z\"\n}));\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"clipPath\", {\n  id: \"autoworks_svg__b\"\n}, /*#__PURE__*/React.createElement(\"use\", {\n  xlinkHref: \"#autoworks_svg__a\",\n  overflow: \"visible\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  clipPath: \"url(#autoworks_svg__b)\"\n}, /*#__PURE__*/React.createElement(\"image\", {\n  overflow: \"visible\",\n  width: 90,\n  height: 90,\n  xlinkHref: \"data:image/png;base64,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 rkJggg==\",\n  transform: \"translate(-1 -1)\"\n}));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#FFF\",\n  d: \"M28.5 84.3L22.2 98H9.7l8.6-19.2 4.9-11L44 21.5l20.8 46.3 4.9 11L78.3 98H65.8l-6.3-13.7-4.9-10.7L44 50.3 33.4 73.6z\"\n});\n\nfunction SvgAutoworks(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 88 98\"\n  }, props), _ref, _ref2, _ref3, _ref4);\n}\n\nexport default SvgAutoworks;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18.6 16.9c.5.5.5 1.2 0 1.7-.2.2-.5.3-.9.3s-.6-.1-.9-.3L12 13.7l-4.9 4.9c-.3.3-.6.4-.9.4-.3 0-.6-.1-.9-.3-.5-.5-.5-1.2 0-1.7l4.9-4.9-4.8-5c-.5-.5-.5-1.2 0-1.7s1.2-.5 1.7 0l4.9 4.9 4.9-4.9c.5-.5 1.2-.5 1.7 0s.5 1.2 0 1.7L13.7 12l4.9 4.9z\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nfunction SvgClose(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n}\n\nexport default SvgClose;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"\n});\n\nfunction SvgError(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n}\n\nexport default SvgError;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nfunction SvgFullscreenExit(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n}\n\nexport default SvgFullscreenExit;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nfunction SvgFullscreen(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n}\n\nexport default SvgFullscreen;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M71.7 9.8c-.7 0-1.3.6-1.3 1.3s.6 1.3 1.3 1.3c.7 0 1.3-.6 1.3-1.3s-.6-1.3-1.3-1.3zM7 8.4L5.3 4.7 3.7 8.4c.5.2 1.1.3 1.7.3s1.1-.1 1.6-.3zm2.3.8l1.3 3h-2l-1-2.2c-.8.3-1.6.4-2.4.4-.8 0-1.7-.2-2.4-.4l-1 2.2H0l1.3-3 .8-1.7L5.3.2l3.2 7.3.8 1.7zm55.4-2.9c0-2.3-1.9-4.2-4.2-4.2S56.3 4 56.3 6.3c0 2.3 1.9 4.2 4.2 4.2s4.2-1.9 4.2-4.2zm1.8 0c0 3.4-2.7 6.1-6 6.1s-6-2.7-6-6.1 2.7-6.1 6-6.1 6 2.7 6 6.1zM38.2 2.2h3.2v10h1.9v-10h3.2V.3h-8.3v1.9zM26.6.3h1.9v6.5c0 3.4-1.3 5.6-4.6 5.6s-4.6-2.1-4.6-5.5V.3h1.9v7.4c0 1.8 1 2.9 2.7 2.9s2.7-1.1 2.7-2.8V.3zm96.2 5.1V2.3h1.8c1 0 1.9.3 1.9 1.6 0 1.2-1 1.5-1.9 1.5h-1.8zm5.7-1.6c0-2.2-1.6-3.3-3.9-3.3h-3.7v11.9h1.9V7.2h.7l3.5 5.2h2.3L125.6 7c2-.3 2.9-1.6 2.9-3.2zm12.1 2.3V.5h-1.9v11.9h1.9V6.1zm6.1-5.6h-2.2l-3.9 5.6v.1l4.2 6.2h2.4L142.9 6zm14.2 4.9c-1.4-.6-2.4-.9-2.4-2 0-.8.7-1.3 1.5-1.3.9 0 1.4.3 2 1l1.4-1.2c-.6-.9-1.7-1.7-3.3-1.7-2 0-3.5 1.3-3.5 3.3 0 1.8 1.3 2.7 3.2 3.4 1.2.5 2.2 1 2.2 2 0 1.1-.8 1.7-1.8 1.7-1.3 0-2.1-.9-2.4-1.9l-1.6 1c.4 1.2 1.6 2.8 4.1 2.8 2.2 0 3.8-1.4 3.8-3.6-.2-1.8-1.5-2.8-3.2-3.5m-55.3 5.2c-2.3 0-4.2-1.9-4.2-4.2s1.9-4.2 4.2-4.2c2.3 0 4.2 1.9 4.2 4.2s-2 4.2-4.2 4.2m0-10.3c-3.3 0-6 2.7-6 6.1s2.7 6.1 6 6.1 6-2.7 6-6.1-2.7-6.1-6-6.1M82.8.5l-3.3 7.6L76.2.5h-2.1l5.4 12.1 4.4-9.8zm3.3 7.6l-1.3-3.2-1.1 2.4 2.4 5.3L91.5.5h-2z\"\n});\n\nfunction SvgLogo(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 164 13\"\n  }, props), _ref);\n}\n\nexport default SvgLogo;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.5 12A4.5 4.5 0 0014 7.97v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.796 8.796 0 0021 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06a8.99 8.99 0 003.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nfunction SvgMute(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n}\n\nexport default SvgMute;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nfunction SvgNavigateNext(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n}\n\nexport default SvgNavigateNext;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nfunction SvgNavigatePrevious(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n}\n\nexport default SvgNavigatePrevious;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19h4V5H6v14zm8-14v14h4V5h-4z\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nfunction SvgPause(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n}\n\nexport default SvgPause;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.9 4.5H2c-1.1 0-2 .9-2 2v6.9c0 1.1.9 2 2 2h9.9c1.1 0 2-.9 2-2V6.5c.1-1.1-.9-2-2-2zM2 5.6h9.9c.5 0 .9.4.9.9v5.8L9.9 9c-.5-.6-1.3-.6-1.8 0l-2.5 2.9-.9-1c-.5-.5-1.3-.5-1.7 0l-1.8 2V6.5c-.1-.5.3-.9.8-.9z\"\n});\n\nfunction SvgPhoto(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 14 20\"\n  }, props), _ref);\n}\n\nexport default SvgPhoto;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 5v14l11-7z\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nfunction SvgPlay(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n}\n\nexport default SvgPlay;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17.65 6.35A7.958 7.958 0 0012 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0112 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nfunction SvgRefresh(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n}\n\nexport default SvgRefresh;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13H5v-2h14v2z\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nfunction SvgRemove(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n}\n\nexport default SvgRemove;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.8 10.7V5.4c0-.7-.5-1.2-1.2-1.2h-2.5l-.4-1.1c-.1-.3-.4-.5-.7-.5H8c-.3 0-.6.2-.7.5l-.5 1.1H4.4c-.7 0-1.2.5-1.2 1.2v5.3c-2.1.6-3.2 1.5-3.2 2.6 0 2.2 4.5 3.4 9.1 3.5l-.9.9c-.2.1-.2.3-.2.4 0 .1.1.2.3.3.1 0 .3 0 .4-.1l1.6-1.6c.2-.2.2-.4 0-.6l-1.6-1.6c-.2-.1-.4-.1-.6 0-.1.2-.1.5 0 .6l.9.9C4.1 15.8.8 14.5.8 13.3c0-.6.9-1.3 2.4-1.8v1c0 .7.5 1.2 1.2 1.2h11.2c.7 0 1.2-.5 1.2-1.2v-1c1.5.5 2.4 1.2 2.4 1.8 0 1.1-2.9 2.5-7.6 2.7-.2 0-.4.2-.4.4s.2.4.4.4c4-.2 8.4-1.4 8.4-3.5 0-1.1-1.1-2-3.2-2.6zm-6.8.6c-1.5 0-2.8-1.2-2.8-2.8C7.2 7 8.5 5.8 10 5.8s2.8 1.2 2.8 2.8c0 .7-.3 1.4-.8 2-.5.4-1.3.7-2 .7zm4.8-4.7c-.2 0-.4-.2-.4-.4s.2-.4.4-.4.4.2.4.4-.2.4-.4.4z\"\n});\n\nfunction SvgRotateCamera(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\"\n  }, props), _ref);\n}\n\nexport default SvgRotateCamera;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 7C6.48 7 2 9.24 2 12c0 2.24 2.94 4.13 7 4.77V20l4-4-4-4v2.73c-3.15-.56-5-1.9-5-2.73 0-1.06 3.04-3 8-3s8 1.94 8 3c0 .73-1.46 1.89-4 2.53v2.05c3.53-.77 6-2.53 6-4.58 0-2.76-4.48-5-10-5z\"\n});\n\nfunction SvgThreeSixty(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n}\n\nexport default SvgThreeSixty;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  opacity: 0.3,\n  fill: \"#3B3C41\",\n  d: \"M18.6 69v-2.6c0-3.1-7.1-9.4-9.3-11.2-1.2-1.2-3-3.7-3.7-5.4L1.2 38c-.1-.3-.4-.8.1-1.1.9-.4 1.8-.7 2.8-.7 2.3 0 4.5 1.3 5.8 3.4l3.2 5c.2.3.5.5.8.5h.3c.4-.1.7-.5.7-1V10.7C15 9.2 16.2 8 17.6 8c1.5 0 2.7 1.2 2.9 2.8l1 15.4.1 1.3c0 .5.5.9 1 .9s1-.5 1-1v-1.2c0-1.1.9-2 2.1-2 2.8 0 5.1 2.3 5.1 5 0 .6.4 1 1 1s1-.4 1-1V28c0-1.1.9-2 2.1-2 2.8 0 5.1 2.3 5.1 5 0 .6.4 1 1 1s1-.4 1-1v-1.2c0-1.1.9-2 2.1-2 1.4 0 2.7.5 3.7 1.5.9.9 1.4 2.2 1.4 3.5v14.8c0 1.9-.8 4.9-1.7 6.3-.6.9-5.6 9.2-5.6 12.3V69H18.6z\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#FFF\",\n  d: \"M17.6 9c1 0 1.8.8 1.9 1.8l1 15.4.1 1.3c.1 1.1.9 1.9 2 1.9h.1c1.1 0 1.9-.9 1.9-2v-1.2c0-.5.5-1 1.1-1 2.3 0 4.1 1.8 4.1 4 0 1.1.9 2 2 2s2-.9 2-2V28c0-.5.5-1 1.1-1 2.3 0 4.1 1.8 4.1 4 0 1.1.9 2 2 2s2-.9 2-2v-1.2c0-.5.5-1 1.1-1 1.1 0 2.2.4 3 1.2.7.7 1.1 1.7 1.1 2.8v14.9c0 1.7-.7 4.5-1.5 5.8-1.3 2.2-5.7 9.6-5.7 12.8V68H19.6v-1.6c0-3.3-6-8.9-9.6-11.9-1.1-1.1-2.8-3.5-3.4-5.1L2.1 37.6c.6-.3 1.3-.4 2-.4 1.9 0 3.8 1.1 5 2.9l3.2 5c.4.6 1 .9 1.7.9.2 0 .4 0 .6-.1.9-.3 1.4-1 1.4-1.9V10.7c0-.9.7-1.7 1.6-1.7m0-2c-2 0-3.6 1.7-3.6 3.7v33.4l-3.2-5c-1.5-2.4-4-3.8-6.7-3.8-1.1 0-2.2.2-3.2.8-.9.5-1.1 1.4-.6 2.3l4.5 11.8c.6 1.8 2.4 4.4 3.8 5.8 0 0 8.9 7.6 8.9 10.4V70h25.2v-3.6c0-2.9 5.4-11.8 5.4-11.8 1.1-1.7 1.8-4.9 1.8-6.8V33c.1-3.3-2.6-6-6-6-1.7 0-3.1 1.4-3.1 3v1.2c0-3.3-2.7-6-6.1-6-1.7 0-3.1 1.4-3.1 3v1.2c0-3.3-2.7-6-6.1-6-1.7 0-3.1 1.4-3.1 3v1.2l-.1-1.3-1-15.4c0-2.3-1.7-3.9-3.7-3.9z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#FFF\",\n  d: \"M25.6 21.6c-.2 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4 4-4.1 4-10.8 0-14.9-1.9-1.9-4.5-3-7.2-3s-5.3 1.1-7.2 3c-4 4.1-4 10.8 0 14.9.4.4.4 1 0 1.4-.4.4-1 .4-1.4 0-4.7-4.9-4.7-12.8 0-17.6C11.4 1.3 14.4 0 17.7 0s6.3 1.3 8.6 3.7c4.7 4.9 4.7 12.8 0 17.6-.2.2-.4.3-.7.3z\"\n});\n\nfunction SvgTouch(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 50 70\"\n  }, props), _ref, _ref2, _ref3);\n}\n\nexport default SvgTouch;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 3c-3.9 0-7 3.1-7 7s3.1 7 7 7 7-3.1 7-7c0-1.9-.7-3.6-2.1-4.9S8.9 3 7 3zm3.5 7.2l-5 3.4c-.1.1-.2.1-.3 0-.1 0-.1-.1-.1-.2V6.6c0-.1.1-.2.1-.2h.3l5 3.4c.1.1.1.1.1.2s0 .2-.1.2z\"\n});\n\nfunction SvgVideo(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 14 20\"\n  }, props), _ref);\n}\n\nexport default SvgVideo;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 9v6h4l5 5V4l-5 5H7z\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nfunction SvgVolumeDown(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n}\n\nexport default SvgVolumeDown;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 9v6h4l5 5V4L7 9H3zm13.5 3A4.5 4.5 0 0014 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nfunction SvgVolumeUp(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n}\n\nexport default SvgVolumeUp;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z\"\n});\n\nfunction SvgWarning(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n}\n\nexport default SvgWarning;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"\n});\n\nfunction SvgZoomIn(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2, _ref3);\n}\n\nexport default SvgZoomIn;","/* eslint-disable */\n\n/*\n * libpannellum - A WebGL and CSS 3D transform based Panorama Renderer\n * Copyright (c) 2012-2018 Matthew Petroff\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nwindow.libpannellum = (function(window, document, undefined) {\n\n\n\n  /**\n * Creates a new panorama renderer.\n * @constructor\n * @param {HTMLElement} container - The container element for the renderer.\n */\n  function Renderer(container) {\n    var canvas = document.createElement('canvas');\n    canvas.style.width = canvas.style.height = '100%';\n    container.appendChild(canvas);\n\n    var program, gl, vs, fs;\n    var fallbackImgSize;\n    var world;\n    var vtmps;\n    var pose;\n    var image, imageType, dynamic;\n    var texCoordBuffer, cubeVertBuf, cubeVertTexCoordBuf, cubeVertIndBuf;\n    var globalParams;\n\n    /**\n     * Initialize renderer.\n     * @memberof Renderer\n     * @instance\n     * @param {Image|Array|Object} image - Input image; format varies based on\n     *      `imageType`. For `equirectangular`, this is an image; for\n     *      `cubemap`, this is an array of images for the cube faces in the\n     *      order [+z, +x, -z, -x, +y, -y]; for `multires`, this is a\n     *      configuration object.\n     * @param {string} imageType - The type of the image: `equirectangular`,\n     *      `cubemap`, or `multires`.\n     * @param {boolean} dynamic - Whether or not the image is dynamic (e.g. video).\n     * @param {number} haov - Initial horizontal angle of view.\n     * @param {number} vaov - Initial vertical angle of view.\n     * @param {number} voffset - Initial vertical offset angle.\n     * @param {function} callback - Load callback function.\n     * @param {Object} [params] - Other configuration parameters (`horizonPitch`, `horizonRoll`, `backgroundColor`).\n     */\n    this.init = function(_image, _imageType, _dynamic, haov, vaov, voffset, callback, params) {\n      // Default argument for image type\n      if (_imageType === undefined)\n      {_imageType = 'equirectangular';}\n\n      if (_imageType != 'equirectangular' && _imageType != 'cubemap' &&\n            _imageType != 'multires') {\n        console.log('Error: invalid image type specified!');\n        throw { type: 'config error' };\n      }\n\n      imageType = _imageType;\n      image = _image;\n      dynamic = _dynamic;\n      globalParams = params || {};\n\n      // Clear old data\n      if (program) {\n        if (vs) {\n          gl.detachShader(program, vs);\n          gl.deleteShader(vs);\n        }\n        if (fs) {\n          gl.detachShader(program, fs);\n          gl.deleteShader(fs);\n        }\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n        if (program.texture)\n        {gl.deleteTexture(program.texture);}\n        if (program.nodeCache)\n        {for (var i = 0; i < program.nodeCache.length; i++)\n          {gl.deleteTexture(program.nodeCache[i].texture);}}\n        gl.deleteProgram(program);\n        program = undefined;\n      }\n      pose = undefined;\n\n      var s;\n      var faceMissing = false;\n      var cubeImgWidth;\n      if (imageType == 'cubemap') {\n        for (s = 0; s < 6; s++) {\n          if (image[s].width > 0) {\n            if (cubeImgWidth === undefined)\n            {cubeImgWidth = image[s].width;}\n            if (cubeImgWidth != image[s].width)\n            {console.log('Cube faces have inconsistent widths: ' + cubeImgWidth + ' vs. ' + image[s].width);}\n          } else\n          {faceMissing = true;}\n        }\n      }\n      function fillMissingFaces(imgSize) {\n        if (faceMissing) { // Fill any missing fallback/cubemap faces with background\n          var nbytes = imgSize * imgSize * 4; // RGB, plus non-functional alpha\n          var imageArray = new Uint8ClampedArray(nbytes);\n          var rgb = params.backgroundColor ? params.backgroundColor : [0, 0, 0];\n          rgb[0] *= 255;\n          rgb[1] *= 255;\n          rgb[2] *= 255;\n          // Maybe filling could be done faster, see e.g. https://stackoverflow.com/questions/1295584/most-efficient-way-to-create-a-zero-filled-javascript-array\n          for (var i = 0; i < nbytes; i++) {\n            imageArray[i++] = rgb[0];\n            imageArray[i++] = rgb[1];\n            imageArray[i++] = rgb[2];\n          }\n          var backgroundSquare = new ImageData(imageArray, imgSize, imgSize);\n          for (s = 0; s < 6; s++) {\n            if (image[s].width == 0)\n            {image[s] = backgroundSquare;}\n          }\n        }\n      }\n\n      // This awful browser specific test exists because iOS 8/9 and IE 11\n      // don't display non-power-of-two cubemap textures but also don't\n      // throw an error (tested on an iPhone 5c / iOS 8.1.3 / iOS 9.2 /\n      // iOS 10.3.1).\n      // Therefore, the WebGL context is never created for these browsers for\n      // NPOT cubemaps, and the CSS 3D transform fallback renderer is used\n      // instead.\n      if (!(imageType == 'cubemap' &&\n            (cubeImgWidth & (cubeImgWidth - 1)) !== 0 &&\n            (navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/) ||\n            navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 9_/) ||\n            navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 10_/) ||\n            navigator.userAgent.match(/Trident.*rv[ :]*11\\./)))) {\n        // Enable WebGL on canvas\n        if (!gl)\n        {gl = canvas.getContext('experimental-webgl', { alpha: false, depth: false });}\n        if (gl && gl.getError() == 1286)\n        {handleWebGLError1286();}\n      }\n\n      // If there is no WebGL, fall back to CSS 3D transform renderer.\n      // This will discard the image loaded so far and load the fallback image.\n      // While browser specific tests are usually frowned upon, the\n      // fallback viewer only really works with WebKit/Blink and IE 10/11\n      // (it doesn't work properly in Firefox).\n      if (!gl && ((imageType == 'multires' && image.hasOwnProperty('fallbackPath')) ||\n            imageType == 'cubemap') &&\n            ('WebkitAppearance' in document.documentElement.style ||\n            navigator.userAgent.match(/Trident.*rv[ :]*11\\./) ||\n            navigator.appVersion.indexOf('MSIE 10') !== -1)) {\n        // Remove old world if it exists\n        if (world) {\n          container.removeChild(world);\n        }\n\n        // Initialize renderer\n        world = document.createElement('div');\n        world.className = 'pnlm-world';\n\n        // Add images\n        var path;\n        if (image.basePath) {\n          path = image.basePath + image.fallbackPath;\n        } else {\n          path = image.fallbackPath;\n        }\n        var sides = ['f', 'r', 'b', 'l', 'u', 'd'];\n        var loaded = 0;\n        var onLoad = function() {\n          // Draw image on canvas\n          var faceCanvas = document.createElement('canvas');\n          faceCanvas.className = 'pnlm-face pnlm-' + sides[this.side] + 'face';\n          world.appendChild(faceCanvas);\n          var faceContext = faceCanvas.getContext('2d');\n          faceCanvas.style.width = this.width + 4 + 'px';\n          faceCanvas.style.height = this.height + 4 + 'px';\n          faceCanvas.width = this.width + 4;\n          faceCanvas.height = this.height + 4;\n          faceContext.drawImage(this, 2, 2);\n          var imgData = faceContext.getImageData(0, 0, faceCanvas.width, faceCanvas.height);\n          var data = imgData.data;\n\n          // Duplicate edge pixels\n          var i;\n          var j;\n          for (i = 2; i < faceCanvas.width - 2; i++) {\n            for (j = 0; j < 4; j++) {\n              data[(i + faceCanvas.width) * 4 + j] = data[(i + faceCanvas.width * 2) * 4 + j];\n              data[(i + faceCanvas.width * (faceCanvas.height - 2)) * 4 + j] = data[(i + faceCanvas.width * (faceCanvas.height - 3)) * 4 + j];\n            }\n          }\n          for (i = 2; i < faceCanvas.height - 2; i++) {\n            for (j = 0; j < 4; j++) {\n              data[(i * faceCanvas.width + 1) * 4 + j] = data[(i * faceCanvas.width + 2) * 4 + j];\n              data[((i + 1) * faceCanvas.width - 2) * 4 + j] = data[((i + 1) * faceCanvas.width - 3) * 4 + j];\n            }\n          }\n          for (j = 0; j < 4; j++) {\n            data[(faceCanvas.width + 1) * 4 + j] = data[(faceCanvas.width * 2 + 2) * 4 + j];\n            data[(faceCanvas.width * 2 - 2) * 4 + j] = data[(faceCanvas.width * 3 - 3) * 4 + j];\n            data[(faceCanvas.width * (faceCanvas.height - 2) + 1) * 4 + j] = data[(faceCanvas.width * (faceCanvas.height - 3) + 2) * 4 + j];\n            data[(faceCanvas.width * (faceCanvas.height - 1) - 2) * 4 + j] = data[(faceCanvas.width * (faceCanvas.height - 2) - 3) * 4 + j];\n          }\n          for (i = 1; i < faceCanvas.width - 1; i++) {\n            for (j = 0; j < 4; j++) {\n              data[i * 4 + j] = data[(i + faceCanvas.width) * 4 + j];\n              data[(i + faceCanvas.width * (faceCanvas.height - 1)) * 4 + j] = data[(i + faceCanvas.width * (faceCanvas.height - 2)) * 4 + j];\n            }\n          }\n          for (i = 1; i < faceCanvas.height - 1; i++) {\n            for (j = 0; j < 4; j++) {\n              data[(i * faceCanvas.width) * 4 + j] = data[(i * faceCanvas.width + 1) * 4 + j];\n              data[((i + 1) * faceCanvas.width - 1) * 4 + j] = data[((i + 1) * faceCanvas.width - 2) * 4 + j];\n            }\n          }\n          for (j = 0; j < 4; j++) {\n            data[j] = data[(faceCanvas.width + 1) * 4 + j];\n            data[(faceCanvas.width - 1) * 4 + j] = data[(faceCanvas.width * 2 - 2) * 4 + j];\n            data[(faceCanvas.width * (faceCanvas.height - 1)) * 4 + j] = data[(faceCanvas.width * (faceCanvas.height - 2) + 1) * 4 + j];\n            data[(faceCanvas.width * faceCanvas.height - 1) * 4 + j] = data[(faceCanvas.width * (faceCanvas.height - 1) - 2) * 4 + j];\n          }\n\n          // Draw image width duplicated edge pixels on canvas\n          faceContext.putImageData(imgData, 0, 0);\n\n          incLoaded.call(this);\n        };\n        var incLoaded = function() {\n          if (this.width > 0) {\n            if (fallbackImgSize === undefined)\n            {fallbackImgSize = this.width;}\n            if (fallbackImgSize != this.width)\n            {console.log('Fallback faces have inconsistent widths: ' + fallbackImgSize + ' vs. ' + this.width);}\n          } else\n          {faceMissing = true;}\n          loaded++;\n          if (loaded == 6) {\n            fallbackImgSize = this.width;\n            container.appendChild(world);\n            callback();\n          }\n        };\n        faceMissing = false;\n        for (s = 0; s < 6; s++) {\n          var faceImg = new Image();\n          faceImg.crossOrigin = globalParams.crossOrigin ? globalParams.crossOrigin : 'anonymous';\n          faceImg.side = s;\n          faceImg.onload = onLoad;\n          faceImg.onerror = incLoaded; // ignore missing face to support partial fallback image\n          if (imageType == 'multires') {\n            faceImg.src = encodeURI(path.replace('%s', sides[s]) + '.' + image.extension);\n          } else {\n            faceImg.src = encodeURI(image[s].src);\n          }\n        }\n        fillMissingFaces(fallbackImgSize);\n        return;\n      } else if (!gl) {\n        console.log('Error: no WebGL support detected!');\n        throw { type: 'no webgl' };\n      }\n      if (imageType == 'cubemap')\n      {fillMissingFaces(cubeImgWidth);}\n      if (image.basePath) {\n        image.fullpath = image.basePath + image.path;\n      } else {\n        image.fullpath = image.path;\n      }\n      image.invTileResolution = 1 / image.tileResolution;\n\n      var vertices = createCube();\n      vtmps = [];\n      for (s = 0; s < 6; s++) {\n        vtmps[s] = vertices.slice(s * 12, s * 12 + 12);\n        vertices = createCube();\n      }\n\n      // Make sure image isn't too big\n      var width = 0, maxWidth = 0;\n      if (imageType == 'equirectangular') {\n        width = Math.max(image.width, image.height);\n        maxWidth = gl.getParameter(gl.MAX_TEXTURE_SIZE);\n      } else if (imageType == 'cubemap') {\n        width = cubeImgWidth;\n        maxWidth = gl.getParameter(gl.MAX_CUBE_MAP_TEXTURE_SIZE);\n      }\n      if (width > maxWidth) {\n        console.log('Error: The image is too big; it\\'s ' + width + 'px wide, '+\n                        'but this device\\'s maximum supported size is ' + maxWidth + 'px.');\n        throw { type: 'webgl size error', width: width, maxWidth: maxWidth };\n      }\n\n      // Store horizon pitch and roll if applicable\n      if (params !== undefined && (params.horizonPitch !== undefined || params.horizonRoll !== undefined))\n      {pose = [params.horizonPitch == undefined ? 0 : params.horizonPitch,\n        params.horizonRoll == undefined ? 0 : params.horizonRoll];}\n\n      // Set 2d texture binding\n      var glBindType = gl.TEXTURE_2D;\n\n      // Create viewport for entire canvas\n      gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n\n      // Create vertex shader\n      vs = gl.createShader(gl.VERTEX_SHADER);\n      var vertexSrc = v;\n      if (imageType == 'multires') {\n        vertexSrc = vMulti;\n      }\n      gl.shaderSource(vs, vertexSrc);\n      gl.compileShader(vs);\n\n      // Create fragment shader\n      fs = gl.createShader(gl.FRAGMENT_SHADER);\n      var fragmentSrc = fragEquirectangular;\n      if (imageType == 'cubemap') {\n        glBindType = gl.TEXTURE_CUBE_MAP;\n        fragmentSrc = fragCube;\n      } else if (imageType == 'multires') {\n        fragmentSrc = fragMulti;\n      }\n      gl.shaderSource(fs, fragmentSrc);\n      gl.compileShader(fs);\n\n      // Link WebGL program\n      program = gl.createProgram();\n      gl.attachShader(program, vs);\n      gl.attachShader(program, fs);\n      gl.linkProgram(program);\n\n      // Log errors\n      if (!gl.getShaderParameter(vs, gl.COMPILE_STATUS))\n      {console.log(gl.getShaderInfoLog(vs));}\n      if (!gl.getShaderParameter(fs, gl.COMPILE_STATUS))\n      {console.log(gl.getShaderInfoLog(fs));}\n      if (!gl.getProgramParameter(program, gl.LINK_STATUS))\n      {console.log(gl.getProgramInfoLog(program));}\n\n      // Use WebGL program\n      gl.useProgram(program);\n\n      program.drawInProgress = false;\n\n      // Set background clear color (does not apply to cubemap/fallback image)\n      var color = params.backgroundColor ? params.backgroundColor : [0, 0, 0];\n      gl.clearColor(color[0], color[1], color[2], 1.0);\n      gl.clear(gl.COLOR_BUFFER_BIT);\n\n      // Look up texture coordinates location\n      program.texCoordLocation = gl.getAttribLocation(program, 'a_texCoord');\n      gl.enableVertexAttribArray(program.texCoordLocation);\n\n      if (imageType != 'multires') {\n        // Provide texture coordinates for rectangle\n        if (!texCoordBuffer)\n        {texCoordBuffer = gl.createBuffer();}\n        gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1,1,1,1,1,-1,-1,1,1,-1,-1,-1]), gl.STATIC_DRAW);\n        gl.vertexAttribPointer(program.texCoordLocation, 2, gl.FLOAT, false, 0, 0);\n\n        // Pass aspect ratio\n        program.aspectRatio = gl.getUniformLocation(program, 'u_aspectRatio');\n        gl.uniform1f(program.aspectRatio, gl.drawingBufferWidth / gl.drawingBufferHeight);\n\n        // Locate psi, theta, focal length, horizontal extent, vertical extent, and vertical offset\n        program.psi = gl.getUniformLocation(program, 'u_psi');\n        program.theta = gl.getUniformLocation(program, 'u_theta');\n        program.f = gl.getUniformLocation(program, 'u_f');\n        program.h = gl.getUniformLocation(program, 'u_h');\n        program.v = gl.getUniformLocation(program, 'u_v');\n        program.vo = gl.getUniformLocation(program, 'u_vo');\n        program.rot = gl.getUniformLocation(program, 'u_rot');\n\n        // Pass horizontal extent, vertical extent, and vertical offset\n        gl.uniform1f(program.h, haov / (Math.PI * 2.0));\n        gl.uniform1f(program.v, vaov / Math.PI);\n        gl.uniform1f(program.vo, voffset / Math.PI * 2);\n\n        // Set background color\n        if (imageType == 'equirectangular') {\n          program.backgroundColor = gl.getUniformLocation(program, 'u_backgroundColor');\n          gl.uniform4fv(program.backgroundColor, color.concat([1]));\n        }\n\n        // Create texture\n        program.texture = gl.createTexture();\n        gl.bindTexture(glBindType, program.texture);\n\n        // Upload images to texture depending on type\n        if (imageType == 'cubemap') {\n          // Load all six sides of the cube map\n          gl.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image[1]);\n          gl.texImage2D(gl.TEXTURE_CUBE_MAP_NEGATIVE_X, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image[3]);\n          gl.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_Y, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image[4]);\n          gl.texImage2D(gl.TEXTURE_CUBE_MAP_NEGATIVE_Y, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image[5]);\n          gl.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_Z, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image[0]);\n          gl.texImage2D(gl.TEXTURE_CUBE_MAP_NEGATIVE_Z, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image[2]);\n        } else {\n          // Upload image to the texture\n          gl.texImage2D(glBindType, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image);\n        }\n\n        // Set parameters for rendering any size\n        gl.texParameteri(glBindType, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(glBindType, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(glBindType, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n        gl.texParameteri(glBindType, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\n      } else {\n        // Look up vertex coordinates location\n        program.vertPosLocation = gl.getAttribLocation(program, 'a_vertCoord');\n        gl.enableVertexAttribArray(program.vertPosLocation);\n\n        // Create buffers\n        if (!cubeVertBuf)\n        {cubeVertBuf = gl.createBuffer();}\n        if (!cubeVertTexCoordBuf)\n        {cubeVertTexCoordBuf = gl.createBuffer();}\n        if (!cubeVertIndBuf)\n        {cubeVertIndBuf = gl.createBuffer();}\n\n        // Bind texture coordinate buffer and pass coordinates to WebGL\n        gl.bindBuffer(gl.ARRAY_BUFFER, cubeVertTexCoordBuf);\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([0,0,1,0,1,1,0,1]), gl.STATIC_DRAW);\n\n        // Bind square index buffer and pass indicies to WebGL\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, cubeVertIndBuf);\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array([0,1,2,0,2,3]), gl.STATIC_DRAW);\n\n        // Find uniforms\n        program.perspUniform = gl.getUniformLocation(program, 'u_perspMatrix');\n        program.cubeUniform = gl.getUniformLocation(program, 'u_cubeMatrix');\n        //program.colorUniform = gl.getUniformLocation(program, 'u_color');\n\n        program.level = -1;\n\n        program.currentNodes = [];\n        program.nodeCache = [];\n        program.nodeCacheTimestamp = 0;\n      }\n\n      // Check if there was an error\n      var err = gl.getError();\n      if (err !== 0) {\n        console.log('Error: Something went wrong with WebGL!', err);\n        throw { type: 'webgl error' };\n      }\n\n      callback();\n    };\n\n    /**\n     * Destroy renderer.\n     * @memberof Renderer\n     * @instance\n     */\n    this.destroy = function() {\n      if (container !== undefined) {\n        if (canvas !== undefined && container.contains(canvas)) {\n          container.removeChild(canvas);\n        }\n        if (world !== undefined && container.contains(world)) {\n          container.removeChild(world);\n        }\n      }\n      if (gl) {\n        // The spec says this is only supposed to simulate losing the WebGL\n        // context, but in practice it tends to actually free the memory.\n        var extension = gl.getExtension('WEBGL_lose_context');\n        if (extension)\n        {extension.loseContext();}\n      }\n    };\n\n    /**\n     * Resize renderer (call after resizing container).\n     * @memberof Renderer\n     * @instance\n     */\n    this.resize = function() {\n      var pixelRatio = window.devicePixelRatio || 1;\n      canvas.width = canvas.clientWidth * pixelRatio;\n      canvas.height = canvas.clientHeight * pixelRatio;\n      if (gl) {\n        if (gl.getError() == 1286)\n        {handleWebGLError1286();}\n        gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n        if (imageType != 'multires') {\n          gl.uniform1f(program.aspectRatio, canvas.clientWidth / canvas.clientHeight);\n        }\n      }\n    };\n    // Initialize canvas size\n    this.resize();\n\n    /**\n     * Set renderer horizon pitch and roll.\n     * @memberof Renderer\n     * @instance\n     */\n    this.setPose = function(horizonPitch, horizonRoll) {\n      pose = [horizonPitch, horizonRoll];\n    };\n\n    /**\n     * Render new view of panorama.\n     * @memberof Renderer\n     * @instance\n     * @param {number} pitch - Pitch to render at (in radians).\n     * @param {number} yaw - Yaw to render at (in radians).\n     * @param {number} hfov - Horizontal field of view to render with (in radians).\n     * @param {Object} [params] - Extra configuration parameters.\n     * @param {number} [params.roll] - Camera roll (in radians).\n     * @param {boolean} [params.returnImage] - Return rendered image?\n     */\n    this.render = function(pitch, yaw, hfov, params) {\n      var focal, i, s, roll = 0;\n      if (params === undefined)\n      {params = {};}\n      if (params.roll)\n      {roll = params.roll;}\n\n      // Apply pitch and roll transformation if applicable\n      if (pose !== undefined) {\n        var horizonPitch = pose[0],\n          horizonRoll = pose[1];\n\n        // Calculate new pitch and yaw\n        var orig_pitch = pitch,\n          orig_yaw = yaw,\n          x = Math.cos(horizonRoll) * Math.sin(pitch) * Math.sin(horizonPitch) +\n                    Math.cos(pitch) * (Math.cos(horizonPitch) * Math.cos(yaw) +\n                    Math.sin(horizonRoll) * Math.sin(horizonPitch) * Math.sin(yaw)),\n          y = -Math.sin(pitch) * Math.sin(horizonRoll) +\n                    Math.cos(pitch) * Math.cos(horizonRoll) * Math.sin(yaw),\n          z = Math.cos(horizonRoll) * Math.cos(horizonPitch) * Math.sin(pitch) +\n                    Math.cos(pitch) * (-Math.cos(yaw) * Math.sin(horizonPitch) +\n                    Math.cos(horizonPitch) * Math.sin(horizonRoll) * Math.sin(yaw));\n        pitch = Math.asin(Math.max(Math.min(z, 1), -1));\n        yaw = Math.atan2(y, x);\n\n        // Calculate roll\n        var v = [Math.cos(orig_pitch) * (Math.sin(horizonRoll) * Math.sin(horizonPitch) * Math.cos(orig_yaw) -\n                    Math.cos(horizonPitch) * Math.sin(orig_yaw)),\n          Math.cos(orig_pitch) * Math.cos(horizonRoll) * Math.cos(orig_yaw),\n          Math.cos(orig_pitch) * (Math.cos(horizonPitch) * Math.sin(horizonRoll) * Math.cos(orig_yaw) +\n                    Math.sin(orig_yaw) * Math.sin(horizonPitch))],\n          w = [-Math.cos(pitch) * Math.sin(yaw), Math.cos(pitch) * Math.cos(yaw)];\n        var roll_adj = Math.acos(Math.max(Math.min((v[0]*w[0] + v[1]*w[1]) /\n                (Math.sqrt(v[0]*v[0]+v[1]*v[1]+v[2]*v[2]) *\n                Math.sqrt(w[0]*w[0]+w[1]*w[1])), 1), -1));\n        if (v[2] < 0)\n        {roll_adj = 2 * Math.PI - roll_adj;}\n        roll += roll_adj;\n      }\n\n      // If no WebGL\n      if (!gl && (imageType == 'multires' || imageType == 'cubemap')) {\n        // Determine face transforms\n        s = fallbackImgSize / 2;\n\n        var transforms = {\n          f: 'translate3d(-' + (s + 2) + 'px, -' + (s + 2) + 'px, -' + s + 'px)',\n          b: 'translate3d(' + (s + 2) + 'px, -' + (s + 2) + 'px, ' + s + 'px) rotateX(180deg) rotateZ(180deg)',\n          u: 'translate3d(-' + (s + 2) + 'px, -' + s + 'px, ' + (s + 2) + 'px) rotateX(270deg)',\n          d: 'translate3d(-' + (s + 2) + 'px, ' + s + 'px, -' + (s + 2) + 'px) rotateX(90deg)',\n          l: 'translate3d(-' + s + 'px, -' + (s + 2) + 'px, ' + (s + 2) + 'px) rotateX(180deg) rotateY(90deg) rotateZ(180deg)',\n          r: 'translate3d(' + s + 'px, -' + (s + 2) + 'px, -' + (s + 2) + 'px) rotateY(270deg)'\n        };\n        focal = 1 / Math.tan(hfov / 2);\n        var zoom = focal * canvas.clientWidth / 2 + 'px';\n        var transform = 'perspective(' + zoom + ') translateZ(' + zoom + ') rotateX(' + pitch + 'rad) rotateY(' + yaw + 'rad) ';\n\n        // Apply face transforms\n        var faces = Object.keys(transforms);\n        for (i = 0; i < 6; i++) {\n          var face = world.querySelector('.pnlm-' + faces[i] + 'face');\n          if (!face)\n          {continue;} // ignore missing face to support partial cubemap/fallback image\n          face.style.webkitTransform = transform + transforms[faces[i]];\n          face.style.transform = transform + transforms[faces[i]];\n        }\n        return;\n      }\n\n      if (imageType != 'multires') {\n        // Calculate focal length from vertical field of view\n        var vfov = 2 * Math.atan(Math.tan(hfov * 0.5) / (gl.drawingBufferWidth / gl.drawingBufferHeight));\n        focal = 1 / Math.tan(vfov * 0.5);\n\n        // Pass psi, theta, roll, and focal length\n        gl.uniform1f(program.psi, yaw);\n        gl.uniform1f(program.theta, pitch);\n        gl.uniform1f(program.rot, roll);\n        gl.uniform1f(program.f, focal);\n\n        if (dynamic === true) {\n          // Update texture if dynamic\n          if (imageType == 'equirectangular') {\n            gl.bindTexture(gl.TEXTURE_2D, program.texture);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image);\n          }\n        }\n\n        // Draw using current buffer\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\n\n      } else {\n        // Create perspective matrix\n        var perspMatrix = makePersp(hfov, gl.drawingBufferWidth / gl.drawingBufferHeight, 0.1, 100.0);\n\n        // Find correct zoom level\n        checkZoom(hfov);\n\n        // Create rotation matrix\n        var matrix = identityMatrix3();\n        matrix = rotateMatrix(matrix, -roll, 'z');\n        matrix = rotateMatrix(matrix, -pitch, 'x');\n        matrix = rotateMatrix(matrix, yaw, 'y');\n        matrix = makeMatrix4(matrix);\n\n        // Set matrix uniforms\n        gl.uniformMatrix4fv(program.perspUniform, false, new Float32Array(transposeMatrix4(perspMatrix)));\n        gl.uniformMatrix4fv(program.cubeUniform, false, new Float32Array(transposeMatrix4(matrix)));\n\n        // Find current nodes\n        var rotPersp = rotatePersp(perspMatrix, matrix);\n        program.nodeCache.sort(multiresNodeSort);\n        if (program.nodeCache.length > 200 &&\n                program.nodeCache.length > program.currentNodes.length + 50) {\n          // Remove older nodes from cache\n          var removed = program.nodeCache.splice(200, program.nodeCache.length - 200);\n          for (var i = 0; i < removed.length; i++) {\n            // Explicitly delete textures\n            gl.deleteTexture(removed[i].texture);\n          }\n        }\n        program.currentNodes = [];\n\n        var sides = ['f', 'b', 'u', 'd', 'l', 'r'];\n        for (s = 0; s < 6; s++) {\n          var ntmp = new MultiresNode(vtmps[s], sides[s], 1, 0, 0, image.fullpath);\n          testMultiresNode(rotPersp, ntmp, pitch, yaw, hfov);\n        }\n\n        program.currentNodes.sort(multiresNodeRenderSort);\n\n        // Unqueue any pending requests for nodes that are no longer visible\n        for (i = pendingTextureRequests.length - 1; i >= 0; i--) {\n          if (program.currentNodes.indexOf(pendingTextureRequests[i].node) === -1) {\n            pendingTextureRequests[i].node.textureLoad = false;\n            pendingTextureRequests.splice(i, 1);\n          }\n        }\n\n        // Allow one request to be pending, so that we can create a texture buffer for that in advance of loading actually beginning\n        if (pendingTextureRequests.length === 0) {\n          for (i = 0; i < program.currentNodes.length; i++) {\n            var node = program.currentNodes[i];\n            if (!node.texture && !node.textureLoad) {\n              node.textureLoad = true;\n\n              setTimeout(processNextTile, 0, node);\n\n              // Only process one tile per frame to improve responsiveness\n              break;\n            }\n          }\n        }\n\n        // Draw tiles\n        multiresDraw();\n      }\n\n      if (params.returnImage !== undefined) {\n        return canvas.toDataURL('image/png');\n      }\n    };\n\n    /**\n     * Check if images are loading.\n     * @memberof Renderer\n     * @instance\n     * @returns {boolean} Whether or not images are loading.\n     */\n    this.isLoading = function() {\n      if (gl && imageType == 'multires') {\n        for ( var i = 0; i < program.currentNodes.length; i++ ) {\n          if (!program.currentNodes[i].textureLoaded) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n\n    /**\n     * Retrieve renderer's canvas.\n     * @memberof Renderer\n     * @instance\n     * @returns {HTMLElement} Renderer's canvas.\n     */\n    this.getCanvas = function() {\n      return canvas;\n    };\n\n    /**\n     * Sorting method for multires nodes.\n     * @private\n     * @param {MultiresNode} a - First node.\n     * @param {MultiresNode} b - Second node.\n     * @returns {number} Base tiles first, then higher timestamp first.\n     */\n    function multiresNodeSort(a, b) {\n      // Base tiles are always first\n      if (a.level == 1 && b.level != 1) {\n        return -1;\n      }\n      if (b.level == 1 && a.level != 1) {\n        return 1;\n      }\n\n      // Higher timestamp first\n      return b.timestamp - a.timestamp;\n    }\n\n    /**\n     * Sorting method for multires node rendering.\n     * @private\n     * @param {MultiresNode} a - First node.\n     * @param {MultiresNode} b - Second node.\n     * @returns {number} Lower zoom levels first, then closest to center first.\n     */\n    function multiresNodeRenderSort(a, b) {\n      // Lower zoom levels first\n      if (a.level != b.level) {\n        return a.level - b.level;\n      }\n\n      // Lower distance from center first\n      return a.diff - b.diff;\n    }\n\n    /**\n     * Draws multires nodes.\n     * @private\n     */\n    function multiresDraw() {\n      if (!program.drawInProgress) {\n        program.drawInProgress = true;\n        gl.clear(gl.COLOR_BUFFER_BIT);\n        for ( var i = 0; i < program.currentNodes.length; i++ ) {\n          if (program.currentNodes[i].textureLoaded > 1) {\n            //var color = program.currentNodes[i].color;\n            //gl.uniform4f(program.colorUniform, color[0], color[1], color[2], 1.0);\n\n            // Bind vertex buffer and pass vertices to WebGL\n            gl.bindBuffer(gl.ARRAY_BUFFER, cubeVertBuf);\n            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(program.currentNodes[i].vertices), gl.STATIC_DRAW);\n            gl.vertexAttribPointer(program.vertPosLocation, 3, gl.FLOAT, false, 0, 0);\n\n            // Prep for texture\n            gl.bindBuffer(gl.ARRAY_BUFFER, cubeVertTexCoordBuf);\n            gl.vertexAttribPointer(program.texCoordLocation, 2, gl.FLOAT, false, 0, 0);\n\n            // Bind texture and draw tile\n            gl.bindTexture(gl.TEXTURE_2D, program.currentNodes[i].texture); // Bind program.currentNodes[i].texture to TEXTURE0\n            gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);\n          }\n        }\n        program.drawInProgress = false;\n      }\n    }\n\n    /**\n     * Creates new multires node.\n     * @constructor\n     * @private\n     * @param {number[]} vertices - Node's verticies.\n     * @param {string} side - Node's cube face.\n     * @param {number} level - Node's zoom level.\n     * @param {number} x - Node's x position.\n     * @param {number} y - Node's y position.\n     * @param {string} path - Node's path.\n     */\n    function MultiresNode(vertices, side, level, x, y, path) {\n      this.vertices = vertices;\n      this.side = side;\n      this.level = level;\n      this.x = x;\n      this.y = y;\n      this.path = path.replace('%s',side).replace('%l',level).replace('%x',x).replace('%y',y);\n    }\n\n    /**\n     * Test if multires node is visible. If it is, add it to current nodes,\n     * load its texture, and load appropriate child nodes.\n     * @private\n     * @param {number[]} rotPersp - Rotated perspective matrix.\n     * @param {MultiresNode} node - Multires node to check.\n     * @param {number} pitch - Pitch to check at.\n     * @param {number} yaw - Yaw to check at.\n     * @param {number} hfov - Horizontal field of view to check at.\n     */\n    function testMultiresNode(rotPersp, node, pitch, yaw, hfov) {\n      if (checkSquareInView(rotPersp, node.vertices)) {\n        // Calculate central angle between center of view and center of tile\n        var v = node.vertices;\n        var x = v[0] + v[3] + v[6] + v[ 9];\n        var y = v[1] + v[4] + v[7] + v[10];\n        var z = v[2] + v[5] + v[8] + v[11];\n        var r = Math.sqrt(x*x + y*y + z*z);\n        var theta = Math.asin(z / r);\n        var phi = Math.atan2(y, x);\n        var ydiff = phi - yaw;\n        ydiff += (ydiff > Math.PI) ? -2 * Math.PI : (ydiff < -Math.PI) ? 2 * Math.PI : 0;\n        ydiff = Math.abs(ydiff);\n        node.diff = Math.acos(Math.sin(pitch) * Math.sin(theta) + Math.cos(pitch) * Math.cos(theta) * Math.cos(ydiff));\n\n        // Add node to current nodes and load texture if needed\n        var inCurrent = false;\n        for (var k = 0; k < program.nodeCache.length; k++) {\n          if (program.nodeCache[k].path == node.path) {\n            inCurrent = true;\n            program.nodeCache[k].timestamp = program.nodeCacheTimestamp++;\n            program.nodeCache[k].diff = node.diff;\n            program.currentNodes.push(program.nodeCache[k]);\n            break;\n          }\n        }\n        if (!inCurrent) {\n          //node.color = [Math.random(), Math.random(), Math.random()];\n          node.timestamp = program.nodeCacheTimestamp++;\n          program.currentNodes.push(node);\n          program.nodeCache.push(node);\n        }\n\n        // TODO: Test error\n        // Create child nodes\n        if (node.level < program.level) {\n          var cubeSize = image.cubeResolution * Math.pow(2, node.level - image.maxLevel);\n          var numTiles = Math.ceil(cubeSize * image.invTileResolution) - 1;\n          var doubleTileSize = cubeSize % image.tileResolution * 2;\n          var lastTileSize = (cubeSize * 2) % image.tileResolution;\n          if (lastTileSize === 0) {\n            lastTileSize = image.tileResolution;\n          }\n          if (doubleTileSize === 0) {\n            doubleTileSize = image.tileResolution * 2;\n          }\n          var f = 0.5;\n          if (node.x == numTiles || node.y == numTiles) {\n            f = 1.0 - image.tileResolution / (image.tileResolution + lastTileSize);\n          }\n          var i = 1.0 - f;\n          var children = [];\n          var vtmp, ntmp;\n          var f1 = f, f2 = f, f3 = f, i1 = i, i2 = i, i3 = i;\n          // Handle non-symmetric tiles\n          if (lastTileSize < image.tileResolution) {\n            if (node.x == numTiles && node.y != numTiles) {\n              f2 = 0.5;\n              i2 = 0.5;\n              if (node.side == 'd' || node.side == 'u') {\n                f3 = 0.5;\n                i3 = 0.5;\n              }\n            } else if (node.x != numTiles && node.y == numTiles) {\n              f1 = 0.5;\n              i1 = 0.5;\n              if (node.side == 'l' || node.side == 'r') {\n                f3 = 0.5;\n                i3 = 0.5;\n              }\n            }\n          }\n          // Handle small tiles that have fewer than four children\n          if (doubleTileSize <= image.tileResolution) {\n            if (node.x == numTiles) {\n              f1 = 0;\n              i1 = 1;\n              if (node.side == 'l' || node.side == 'r') {\n                f3 = 0;\n                i3 = 1;\n              }\n            }\n            if (node.y == numTiles) {\n              f2 = 0;\n              i2 = 1;\n              if (node.side == 'd' || node.side == 'u') {\n                f3 = 0;\n                i3 = 1;\n              }\n            }\n          }\n\n          vtmp = [           v[0],             v[1],             v[2],\n            v[0]*f1+v[3]*i1,    v[1]*f+v[4]*i,  v[2]*f3+v[5]*i3,\n            v[0]*f1+v[6]*i1,  v[1]*f2+v[7]*i2,  v[2]*f3+v[8]*i3,\n            v[0]*f+v[9]*i, v[1]*f2+v[10]*i2, v[2]*f3+v[11]*i3\n          ];\n          ntmp = new MultiresNode(vtmp, node.side, node.level + 1, node.x*2, node.y*2, image.fullpath);\n          children.push(ntmp);\n          if (!(node.x == numTiles && doubleTileSize <= image.tileResolution)) {\n            vtmp = [v[0]*f1+v[3]*i1,    v[1]*f+v[4]*i,  v[2]*f3+v[5]*i3,\n              v[3],             v[4],             v[5],\n              v[3]*f+v[6]*i,  v[4]*f2+v[7]*i2,  v[5]*f3+v[8]*i3,\n              v[0]*f1+v[6]*i1,  v[1]*f2+v[7]*i2,  v[2]*f3+v[8]*i3\n            ];\n            ntmp = new MultiresNode(vtmp, node.side, node.level + 1, node.x*2+1, node.y*2, image.fullpath);\n            children.push(ntmp);\n          }\n          if (!(node.x == numTiles && doubleTileSize <= image.tileResolution) &&\n                    !(node.y == numTiles && doubleTileSize <= image.tileResolution)) {\n            vtmp = [v[0]*f1+v[6]*i1,  v[1]*f2+v[7]*i2,  v[2]*f3+v[8]*i3,\n              v[3]*f+v[6]*i,  v[4]*f2+v[7]*i2,  v[5]*f3+v[8]*i3,\n              v[6],             v[7],             v[8],\n              v[9]*f1+v[6]*i1,   v[10]*f+v[7]*i, v[11]*f3+v[8]*i3\n            ];\n            ntmp = new MultiresNode(vtmp, node.side, node.level + 1, node.x*2+1, node.y*2+1, image.fullpath);\n            children.push(ntmp);\n          }\n          if (!(node.y == numTiles && doubleTileSize <= image.tileResolution)) {\n            vtmp = [  v[0]*f+v[9]*i, v[1]*f2+v[10]*i2, v[2]*f3+v[11]*i3,\n              v[0]*f1+v[6]*i1,  v[1]*f2+v[7]*i2,  v[2]*f3+v[8]*i3,\n              v[9]*f1+v[6]*i1,   v[10]*f+v[7]*i, v[11]*f3+v[8]*i3,\n              v[9],            v[10],            v[11]\n            ];\n            ntmp = new MultiresNode(vtmp, node.side, node.level + 1, node.x*2, node.y*2+1, image.fullpath);\n            children.push(ntmp);\n          }\n          for (var j = 0; j < children.length; j++) {\n            testMultiresNode(rotPersp, children[j], pitch, yaw, hfov);\n          }\n        }\n      }\n    }\n\n    /**\n     * Creates cube vertex array.\n     * @private\n     * @returns {number[]} Cube vertex array.\n     */\n    function createCube() {\n      return [-1,  1, -1,  1,  1, -1,  1, -1, -1, -1, -1, -1, // Front face\n        1,  1,  1, -1,  1,  1, -1, -1,  1,  1, -1,  1, // Back face\n        -1,  1,  1,  1,  1,  1,  1,  1, -1, -1,  1, -1, // Up face\n        -1, -1, -1,  1, -1, -1,  1, -1,  1, -1, -1,  1, // Down face\n        -1,  1,  1, -1,  1, -1, -1, -1, -1, -1, -1,  1, // Left face\n        1,  1, -1,  1,  1,  1,  1, -1,  1,  1, -1, -1  // Right face\n      ];\n    }\n\n    /**\n     * Creates 3x3 identity matrix.\n     * @private\n     * @returns {number[]} Identity matrix.\n     */\n    function identityMatrix3() {\n      return [\n        1, 0, 0,\n        0, 1, 0,\n        0, 0, 1\n      ];\n    }\n\n    /**\n     * Rotates a 3x3 matrix.\n     * @private\n     * @param {number[]} m - Matrix to rotate.\n     * @param {number[]} angle - Angle to rotate by in radians.\n     * @param {string} axis - Axis to rotate about (`x`, `y`, or `z`).\n     * @returns {number[]} Rotated matrix.\n     */\n    function rotateMatrix(m, angle, axis) {\n      var s = Math.sin(angle);\n      var c = Math.cos(angle);\n      if (axis == 'x') {\n        return [\n          m[0], c*m[1] + s*m[2], c*m[2] - s*m[1],\n          m[3], c*m[4] + s*m[5], c*m[5] - s*m[4],\n          m[6], c*m[7] + s*m[8], c*m[8] - s*m[7]\n        ];\n      }\n      if (axis == 'y') {\n        return [\n          c*m[0] - s*m[2], m[1], c*m[2] + s*m[0],\n          c*m[3] - s*m[5], m[4], c*m[5] + s*m[3],\n          c*m[6] - s*m[8], m[7], c*m[8] + s*m[6]\n        ];\n      }\n      if (axis == 'z') {\n        return [\n          c*m[0] + s*m[1], c*m[1] - s*m[0], m[2],\n          c*m[3] + s*m[4], c*m[4] - s*m[3], m[5],\n          c*m[6] + s*m[7], c*m[7] - s*m[6], m[8]\n        ];\n      }\n    }\n\n    /**\n     * Turns a 3x3 matrix into a 4x4 matrix.\n     * @private\n     * @param {number[]} m - Input matrix.\n     * @returns {number[]} Expanded matrix.\n     */\n    function makeMatrix4(m) {\n      return [\n        m[0], m[1], m[2],    0,\n        m[3], m[4], m[5],    0,\n        m[6], m[7], m[8],    0,\n        0,    0,    0,    1\n      ];\n    }\n\n    /**\n     * Transposes a 4x4 matrix.\n     * @private\n     * @param {number[]} m - Input matrix.\n     * @returns {number[]} Transposed matrix.\n     */\n    function transposeMatrix4(m) {\n      return [\n        m[ 0], m[ 4], m[ 8], m[12],\n        m[ 1], m[ 5], m[ 9], m[13],\n        m[ 2], m[ 6], m[10], m[14],\n        m[ 3], m[ 7], m[11], m[15]\n      ];\n    }\n\n    /**\n     * Creates a perspective matrix.\n     * @private\n     * @param {number} hfov - Desired horizontal field of view.\n     * @param {number} aspect - Desired aspect ratio.\n     * @param {number} znear - Near distance.\n     * @param {number} zfar - Far distance.\n     * @returns {number[]} Generated perspective matrix.\n     */\n    function makePersp(hfov, aspect, znear, zfar) {\n      var fovy = 2 * Math.atan(Math.tan(hfov/2) * gl.drawingBufferHeight / gl.drawingBufferWidth);\n      var f = 1 / Math.tan(fovy/2);\n      return [\n        f/aspect,   0,  0,  0,\n        0,   f,  0,  0,\n        0,   0,  (zfar+znear)/(znear-zfar), (2*zfar*znear)/(znear-zfar),\n        0,   0, -1,  0\n      ];\n    }\n\n    /**\n     * Processes a loaded texture image into a WebGL texture.\n     * @private\n     * @param {Image} img - Input image.\n     * @param {WebGLTexture} tex - Texture to bind image to.\n     */\n    function processLoadedTexture(img, tex) {\n      gl.bindTexture(gl.TEXTURE_2D, tex);\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, img);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n      gl.bindTexture(gl.TEXTURE_2D, null);\n    }\n\n    var pendingTextureRequests = [];\n\n    // Based on http://blog.tojicode.com/2012/03/javascript-memory-optimization-and.html\n    var loadTexture = (function() {\n      var cacheTop = 4;   // Maximum number of concurrents loads\n      var textureImageCache = {};\n      var crossOrigin;\n\n      function TextureImageLoader() {\n        var self = this;\n        this.texture = this.callback = null;\n        this.image = new Image();\n        this.image.crossOrigin = crossOrigin ? crossOrigin : 'anonymous';\n        var loadFn = (function() {\n          if (self.image.width > 0 && self.image.height > 0) { // ignore missing tile to supporting partial image\n            processLoadedTexture(self.image, self.texture);\n            self.callback(self.texture, true);\n          } else {\n            self.callback(self.texture, false);\n          }\n          releaseTextureImageLoader(self);\n        });\n        this.image.addEventListener('load', loadFn);\n        this.image.addEventListener('error', loadFn); // ignore missing tile file to support partial image, otherwise retry loop causes high CPU load\n      };\n\n      TextureImageLoader.prototype.loadTexture = function(src, texture, callback) {\n        this.texture = texture;\n        this.callback = callback;\n        this.image.src = src;\n      };\n\n      function PendingTextureRequest(node, src, texture, callback) {\n        this.node = node;\n        this.src = src;\n        this.texture = texture;\n        this.callback = callback;\n      };\n\n      function releaseTextureImageLoader(til) {\n        if (pendingTextureRequests.length) {\n          var req = pendingTextureRequests.shift();\n          til.loadTexture(req.src, req.texture, req.callback);\n        } else\n        {textureImageCache[cacheTop++] = til;}\n      }\n\n      for (var i = 0; i < cacheTop; i++)\n      {textureImageCache[i] = new TextureImageLoader();}\n\n      return function(node, src, callback, _crossOrigin) {\n        crossOrigin = _crossOrigin;\n        var texture = gl.createTexture();\n        if (cacheTop)\n        {textureImageCache[--cacheTop].loadTexture(src, texture, callback);}\n        else\n        {pendingTextureRequests.push(new PendingTextureRequest(node, src, texture, callback));}\n        return texture;\n      };\n    })();\n\n    /**\n     * Loads image and creates texture for a multires node / tile.\n     * @private\n     * @param {MultiresNode} node - Input node.\n     */\n    function processNextTile(node) {\n      loadTexture(node, encodeURI(node.path + '.' + image.extension), function(texture, loaded) {\n        node.texture = texture;\n        node.textureLoaded = loaded ? 2 : 1;\n      }, globalParams.crossOrigin);\n    }\n\n    /**\n     * Finds and applies optimal multires zoom level.\n     * @private\n     * @param {number} hfov - Horizontal field of view to check at.\n     */\n    function checkZoom(hfov) {\n      // Find optimal level\n      var newLevel = 1;\n      while ( newLevel < image.maxLevel &&\n            gl.drawingBufferWidth > image.tileResolution *\n            Math.pow(2, newLevel - 1) * Math.tan(hfov / 2) * 0.707 ) {\n        newLevel++;\n      }\n\n      // Apply change\n      program.level = newLevel;\n    }\n\n    /**\n     * Rotates perspective matrix.\n     * @private\n     * @param {number[]} p - Perspective matrix.\n     * @param {number[]} r - Rotation matrix.\n     * @returns {number[]} Rotated matrix.\n     */\n    function rotatePersp(p, r) {\n      return [\n        p[ 0]*r[0], p[ 0]*r[1], p[ 0]*r[ 2],     0,\n        p[ 5]*r[4], p[ 5]*r[5], p[ 5]*r[ 6],     0,\n        p[10]*r[8], p[10]*r[9], p[10]*r[10], p[11],\n        -r[8],      -r[9],      -r[10],     0\n      ];\n    }\n\n    /**\n     * Applies rotated perspective matrix to a 3-vector\n     * (last element is inverted).\n     * @private\n     * @param {number[]} m - Rotated perspective matrix.\n     * @param {number[]} v - Input 3-vector.\n     * @returns {number[]} Resulting 4-vector.\n     */\n    function applyRotPerspToVec(m, v) {\n      return [\n        m[ 0]*v[0] + m[ 1]*v[1] + m[ 2]*v[2],\n        m[ 4]*v[0] + m[ 5]*v[1] + m[ 6]*v[2],\n        m[11] + m[ 8]*v[0] + m[ 9]*v[1] + m[10]*v[2],\n        1/(m[12]*v[0] + m[13]*v[1] + m[14]*v[2])\n      ];\n    }\n\n    /**\n     * Checks if a vertex is visible.\n     * @private\n     * @param {number[]} m - Rotated perspective matrix.\n     * @param {number[]} v - Input vertex.\n     * @returns {number} 1 or -1 if the vertex is or is not visible,\n     *      respectively.\n     */\n    function checkInView(m, v) {\n      var vpp = applyRotPerspToVec(m, v);\n      var winX = vpp[0]*vpp[3];\n      var winY = vpp[1]*vpp[3];\n      var winZ = vpp[2]*vpp[3];\n      var ret = [0, 0, 0];\n\n      if ( winX < -1 )\n      {ret[0] = -1;}\n      if ( winX > 1 )\n      {ret[0] = 1;}\n      if ( winY < -1 )\n      {ret[1] = -1;}\n      if ( winY > 1 )\n      {ret[1] = 1;}\n      if ( winZ < -1 || winZ > 1 )\n      {ret[2] = 1;}\n      return ret;\n    }\n\n    /**\n     * Checks if a square (tile) is visible.\n     * @private\n     * @param {number[]} m - Rotated perspective matrix.\n     * @param {number[]} v - Square's vertex array.\n     * @returns {boolean} Whether or not the square is visible.\n     */\n    function checkSquareInView(m, v) {\n      var check1 = checkInView(m, v.slice(0, 3));\n      var check2 = checkInView(m, v.slice(3, 6));\n      var check3 = checkInView(m, v.slice(6, 9));\n      var check4 = checkInView(m, v.slice(9, 12));\n      var testX = check1[0] + check2[0] + check3[0] + check4[0];\n      if ( testX == -4 || testX == 4 )\n      {return false;}\n      var testY = check1[1] + check2[1] + check3[1] + check4[1];\n      if ( testY == -4 || testY == 4 )\n      {return false;}\n      var testZ = check1[2] + check2[2] + check3[2] + check4[2];\n      return testZ != 4;\n\n\n    }\n\n    /**\n     * On iOS (iPhone 5c, iOS 10.3), this WebGL error occurs when the canvas is\n     * too big. Unfortuately, there's no way to test for this beforehand, so we\n     * reduce the canvas size if this error is thrown.\n     * @private\n     */\n    function handleWebGLError1286() {\n      console.log('Reducing canvas size due to error 1286!');\n      canvas.width = Math.round(canvas.width / 2);\n      canvas.height = Math.round(canvas.height / 2);\n    }\n  }\n\n  // Vertex shader for equirectangular and cube\n  var v = [\n    'attribute vec2 a_texCoord;',\n    'varying vec2 v_texCoord;',\n\n    'void main() {',\n    // Set position\n    'gl_Position = vec4(a_texCoord, 0.0, 1.0);',\n\n    // Pass the coordinates to the fragment shader\n    'v_texCoord = a_texCoord;',\n    '}'\n  ].join('');\n\n  // Vertex shader for multires\n  var vMulti = [\n    'attribute vec3 a_vertCoord;',\n    'attribute vec2 a_texCoord;',\n\n    'uniform mat4 u_cubeMatrix;',\n    'uniform mat4 u_perspMatrix;',\n\n    'varying mediump vec2 v_texCoord;',\n\n    'void main(void) {',\n    // Set position\n    'gl_Position = u_perspMatrix * u_cubeMatrix * vec4(a_vertCoord, 1.0);',\n\n    // Pass the coordinates to the fragment shader\n    'v_texCoord = a_texCoord;',\n    '}'\n  ].join('');\n\n  // Fragment shader\n  var fragEquiCubeBase = [\n    'precision mediump float;',\n\n    'uniform float u_aspectRatio;',\n    'uniform float u_psi;',\n    'uniform float u_theta;',\n    'uniform float u_f;',\n    'uniform float u_h;',\n    'uniform float u_v;',\n    'uniform float u_vo;',\n    'uniform float u_rot;',\n\n    'const float PI = 3.14159265358979323846264;',\n\n    // Texture\n    'uniform sampler2D u_image;',\n    'uniform samplerCube u_imageCube;',\n\n    // Coordinates passed in from vertex shader\n    'varying vec2 v_texCoord;',\n\n    // Background color (display for partial panoramas)\n    'uniform vec4 u_backgroundColor;',\n\n    'void main() {',\n    // Map canvas/camera to sphere\n    'float x = v_texCoord.x * u_aspectRatio;',\n    'float y = v_texCoord.y;',\n    'float sinrot = sin(u_rot);',\n    'float cosrot = cos(u_rot);',\n    'float rot_x = x * cosrot - y * sinrot;',\n    'float rot_y = x * sinrot + y * cosrot;',\n    'float sintheta = sin(u_theta);',\n    'float costheta = cos(u_theta);',\n    'float a = u_f * costheta - rot_y * sintheta;',\n    'float root = sqrt(rot_x * rot_x + a * a);',\n    'float lambda = atan(rot_x / root, a / root) + u_psi;',\n    'float phi = atan((rot_y * costheta + u_f * sintheta) / root);',\n  ].join('\\n');\n\n  // Fragment shader\n  var fragCube = fragEquiCubeBase + [\n    // Look up color from texture\n    'float cosphi = cos(phi);',\n    'gl_FragColor = textureCube(u_imageCube, vec3(cosphi*sin(lambda), sin(phi), cosphi*cos(lambda)));',\n    '}'\n  ].join('\\n');\n\n  // Fragment shader\n  var fragEquirectangular = fragEquiCubeBase + [\n    // Wrap image\n    'lambda = mod(lambda + PI, PI * 2.0) - PI;',\n\n    // Map texture to sphere\n    'vec2 coord = vec2(lambda / PI, phi / (PI / 2.0));',\n\n    // Look up color from texture\n    // Map from [-1,1] to [0,1] and flip y-axis\n    'if(coord.x < -u_h || coord.x > u_h || coord.y < -u_v + u_vo || coord.y > u_v + u_vo)',\n    'gl_FragColor = u_backgroundColor;',\n    'else',\n    'gl_FragColor = texture2D(u_image, vec2((coord.x + u_h) / (u_h * 2.0), (-coord.y + u_v + u_vo) / (u_v * 2.0)));',\n    '}'\n  ].join('\\n');\n\n  // Fragment shader\n  var fragMulti = [\n    'varying mediump vec2 v_texCoord;',\n    'uniform sampler2D u_sampler;',\n    //'uniform mediump vec4 u_color;',\n\n    'void main(void) {',\n    // Look up color from texture\n    'gl_FragColor = texture2D(u_sampler, v_texCoord);',\n    //    'gl_FragColor = u_color;',\n    '}'\n  ].join('');\n\n  return {\n    renderer: function(container, image, imagetype, dynamic) {\n      return new Renderer(container, image, imagetype, dynamic);\n    }\n  };\n\n})(window, document);\n","/* eslint-disable */\n\n/*\n * Pannellum - An HTML5 based Panorama Viewer\n * Copyright (c) 2011-2018 Matthew Petroff\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nwindow.pannellum = (function(window, document, undefined) {\n\n\n\n  /**\n * Creates a new panorama viewer.\n * @constructor\n * @param {HTMLElement|string} container - The container (div) element for the\n *      viewer, or its ID.\n * @param {Object} initialConfig - Inital configuration for viewer.\n */\n  function Viewer(container, initialConfig) {\n\n    var _this = this;\n\n    // Declare variables\n    var config,\n      renderer,\n      preview,\n      isUserInteracting = false,\n      latestInteraction = Date.now(),\n      onPointerDownPointerX = 0,\n      onPointerDownPointerY = 0,\n      onPointerDownPointerDist = -1,\n      onPointerDownYaw = 0,\n      onPointerDownPitch = 0,\n      keysDown = new Array(10),\n      fullscreenActive = false,\n      loaded,\n      error = false,\n      isTimedOut = false,\n      listenersAdded = false,\n      panoImage,\n      prevTime,\n      speed = { 'yaw': 0, 'pitch': 0, 'hfov': 0 },\n      animating = false,\n      orientation = false,\n      orientationYawOffset = 0,\n      autoRotateStart,\n      autoRotateSpeed = 0,\n      origHfov,\n      origPitch,\n      animatedMove = {},\n      externalEventListeners = {},\n      specifiedPhotoSphereExcludes = [],\n      update = false, // Should we update when still to render dynamic content\n      hotspotsCreated = false;\n\n    var defaultConfig = {\n      hfov: 100,\n      minHfov: 50,\n      maxHfov: 120,\n      pitch: 0,\n      minPitch: undefined,\n      maxPitch: undefined,\n      yaw: 0,\n      minYaw: -180,\n      maxYaw: 180,\n      roll: 0,\n      haov: 360,\n      vaov: 180,\n      vOffset: 0,\n      autoRotate: false,\n      autoRotateInactivityDelay: -1,\n      autoRotateStopDelay: undefined,\n      type: 'equirectangular',\n      northOffset: 0,\n      showFullscreenCtrl: true,\n      dynamic: false,\n      doubleClickZoom: true,\n      keyboardZoom: true,\n      mouseZoom: true,\n      showZoomCtrl: true,\n      autoLoad: false,\n      showControls: true,\n      orientationOnByDefault: false,\n      hotSpotDebug: false,\n      backgroundColor: [0, 0, 0],\n      avoidShowingBackground: false,\n      animationTimingFunction: timingFunction,\n      draggable: true,\n      disableKeyboardCtrl: false,\n      crossOrigin: 'anonymous',\n      touchPanSpeedCoeffFactor: 1,\n      capturedKeyNumbers: [16, 17, 27, 37, 38, 39, 40, 61, 65, 68, 83, 87, 107, 109, 173, 187, 189],\n    };\n\n    // Translatable / configurable strings\n    // Some strings contain '%s', which is a placeholder for inserted values\n    // When setting strings in external configuration, `\\n` should be used instead of `<br>` to insert line breaks\n    defaultConfig.strings = {\n    // Labels\n      loadButtonLabel: 'Click to<br>Load<br>Panorama',\n      loadingLabel: 'Loading...',\n      bylineLabel: 'by %s',    // One substitution: author\n\n      // Errors\n      noPanoramaError: 'No panorama image was specified.',\n      fileAccessError: 'The file %s could not be accessed.',  // One substitution: file URL\n      malformedURLError: 'There is something wrong with the panorama URL.',\n      iOS8WebGLError: \"Due to iOS 8's broken WebGL implementation, only \" +\n                    \"progressive encoded JPEGs work for your device (this \" +\n                    \"panorama uses standard encoding).\",\n      genericWebGLError: 'Your browser does not have the necessary WebGL support to display this panorama.',\n      textureSizeError: 'This panorama is too big for your device! It\\'s ' +\n                '%spx wide, but your device only supports images up to ' +\n                '%spx wide. Try another device.' +\n                ' (If you\\'re the author, try scaling down the image.)',    // Two substitutions: image width, max image width\n      unknownError: 'Unknown error. Check developer console.',\n    };\n\n    // Initialize container\n    container = typeof container === 'string' ? document.getElementById(container) : container;\n    container.classList.add('pnlm-container');\n    container.tabIndex = 0;\n\n    // Create container for ui\n    var uiContainer = document.createElement('div');\n    uiContainer.className = 'pnlm-ui';\n    container.appendChild(uiContainer);\n\n    // Create container for renderer\n    var renderContainer = document.createElement('div');\n    renderContainer.className = 'pnlm-render-container';\n    container.appendChild(renderContainer);\n    var dragFix = document.createElement('div');\n    dragFix.className = 'pnlm-dragfix';\n    uiContainer.appendChild(dragFix);\n\n    // Display about information on right click\n    var aboutMsg = document.createElement('span');\n    aboutMsg.className = 'pnlm-about-msg';\n    aboutMsg.innerHTML = '<a href=\"https://pannellum.org/\" target=\"_blank\">Pannellum</a>';\n    uiContainer.appendChild(aboutMsg);\n    dragFix.addEventListener('contextmenu', aboutMessage);\n\n    // Create info display\n    var infoDisplay = {};\n\n    // Hot spot debug indicator\n    var hotSpotDebugIndicator = document.createElement('div');\n    hotSpotDebugIndicator.className = 'pnlm-sprite pnlm-hot-spot-debug-indicator';\n    uiContainer.appendChild(hotSpotDebugIndicator);\n\n    // Panorama info\n    infoDisplay.container = document.createElement('div');\n    infoDisplay.container.className = 'pnlm-panorama-info';\n    infoDisplay.title = document.createElement('div');\n    infoDisplay.title.className = 'pnlm-title-box';\n    infoDisplay.container.appendChild(infoDisplay.title);\n    infoDisplay.author = document.createElement('div');\n    infoDisplay.author.className = 'pnlm-author-box';\n    infoDisplay.container.appendChild(infoDisplay.author);\n    uiContainer.appendChild(infoDisplay.container);\n\n    // Load box\n    infoDisplay.load = {};\n    infoDisplay.load.box = document.createElement('div');\n    infoDisplay.load.box.className = 'pnlm-load-box';\n    infoDisplay.load.boxp = document.createElement('p');\n    infoDisplay.load.box.appendChild(infoDisplay.load.boxp);\n    infoDisplay.load.lbox = document.createElement('div');\n    infoDisplay.load.lbox.className = 'pnlm-lbox';\n    infoDisplay.load.lbox.innerHTML = '<div class=\"pnlm-loading\"></div>';\n    infoDisplay.load.box.appendChild(infoDisplay.load.lbox);\n    infoDisplay.load.lbar = document.createElement('div');\n    infoDisplay.load.lbar.className = 'pnlm-lbar';\n    infoDisplay.load.lbarFill = document.createElement('div');\n    infoDisplay.load.lbarFill.className = 'pnlm-lbar-fill';\n    infoDisplay.load.lbar.appendChild(infoDisplay.load.lbarFill);\n    infoDisplay.load.box.appendChild(infoDisplay.load.lbar);\n    infoDisplay.load.msg = document.createElement('p');\n    infoDisplay.load.msg.className = 'pnlm-lmsg';\n    infoDisplay.load.box.appendChild(infoDisplay.load.msg);\n    uiContainer.appendChild(infoDisplay.load.box);\n\n    // Error message\n    infoDisplay.errorMsg = document.createElement('div');\n    infoDisplay.errorMsg.className = 'pnlm-error-msg pnlm-info-box';\n    uiContainer.appendChild(infoDisplay.errorMsg);\n\n    // Create controls\n    var controls = {};\n    controls.container = document.createElement('div');\n    controls.container.className = 'pnlm-controls-container';\n    uiContainer.appendChild(controls.container);\n\n    // Load button\n    controls.load = document.createElement('div');\n    controls.load.className = 'pnlm-load-button';\n    controls.load.addEventListener('click', function() {\n      processOptions();\n      load();\n    });\n    uiContainer.appendChild(controls.load);\n\n    // Zoom controls\n    controls.zoom = document.createElement('div');\n    controls.zoom.className = 'pnlm-zoom-controls pnlm-controls';\n    controls.zoomIn = document.createElement('div');\n    controls.zoomIn.className = 'pnlm-zoom-in pnlm-sprite pnlm-control';\n    controls.zoomIn.addEventListener('click', zoomIn);\n    controls.zoom.appendChild(controls.zoomIn);\n    controls.zoomOut = document.createElement('div');\n    controls.zoomOut.className = 'pnlm-zoom-out pnlm-sprite pnlm-control';\n    controls.zoomOut.addEventListener('click', zoomOut);\n    controls.zoom.appendChild(controls.zoomOut);\n    controls.container.appendChild(controls.zoom);\n\n    // Fullscreen toggle\n    controls.fullscreen = document.createElement('div');\n    controls.fullscreen.addEventListener('click', toggleFullscreen);\n    controls.fullscreen.className = 'pnlm-fullscreen-toggle-button pnlm-sprite pnlm-fullscreen-toggle-button-inactive pnlm-controls pnlm-control';\n    if (document.fullscreenEnabled || document.mozFullScreenEnabled || document.webkitFullscreenEnabled || document.msFullscreenEnabled)\n      {controls.container.appendChild(controls.fullscreen);}\n\n    // Device orientation toggle\n    controls.orientation = document.createElement('div');\n    controls.orientation.addEventListener('click', function(e) {\n      if (orientation)\n        {stopOrientation();}\n      else\n        {startOrientation();}\n    });\n    controls.orientation.addEventListener('mousedown', function(e) {e.stopPropagation();});\n    controls.orientation.addEventListener('touchstart', function(e) {e.stopPropagation();});\n    controls.orientation.addEventListener('pointerdown', function(e) {e.stopPropagation();});\n    controls.orientation.className = 'pnlm-orientation-button pnlm-orientation-button-inactive pnlm-sprite pnlm-controls pnlm-control';\n    var orientationSupport, startOrientationIfSupported = false;\n    function deviceOrientationTest(e) {\n      window.removeEventListener('deviceorientation', deviceOrientationTest);\n      if (e && e.alpha !== null && e.beta !== null && e.gamma !== null) {\n        controls.container.appendChild(controls.orientation);\n        orientationSupport = true;\n        if (startOrientationIfSupported)\n          {startOrientation();}\n      } else {\n        orientationSupport = false;\n      }\n    }\n    if (window.DeviceOrientationEvent) {\n      window.addEventListener('deviceorientation', deviceOrientationTest);\n    } else {\n      orientationSupport = false;\n    }\n\n    // Compass\n    var compass = document.createElement('div');\n    compass.className = 'pnlm-compass pnlm-controls pnlm-control';\n    uiContainer.appendChild(compass);\n\n    // Load and process configuration\n    if (initialConfig.firstScene) {\n    // Activate first scene if specified in URL\n      mergeConfig(initialConfig.firstScene);\n    } else if (initialConfig.default && initialConfig.default.firstScene) {\n    // Activate first scene if specified in file\n      mergeConfig(initialConfig.default.firstScene);\n    } else {\n      mergeConfig(null);\n    }\n    processOptions(true);\n\n    /**\n * Initializes viewer.\n * @private\n */\n    function init() {\n    // Display an error for IE 9 as it doesn't work but also doesn't otherwise\n    // show an error (older versions don't work at all)\n    // Based on: http://stackoverflow.com/a/10965203\n      var div = document.createElement(\"div\");\n      div.innerHTML = \"<!--[if lte IE 9]><i></i><![endif]-->\";\n      if (div.getElementsByTagName(\"i\").length == 1) {\n        anError();\n        return;\n      }\n\n      origHfov = config.hfov;\n      origPitch = config.pitch;\n\n      var i, p;\n\n      if (config.type == 'cubemap') {\n        panoImage = [];\n        for (i = 0; i < 6; i++) {\n          panoImage.push(new Image());\n          panoImage[i].crossOrigin = config.crossOrigin;\n        }\n        infoDisplay.load.lbox.style.display = 'block';\n        infoDisplay.load.lbar.style.display = 'none';\n      } else if (config.type == 'multires') {\n        var c = JSON.parse(JSON.stringify(config.multiRes));    // Deep copy\n        // Avoid \"undefined\" in path, check (optional) multiRes.basePath, too\n        // Use only multiRes.basePath if it's an absolute URL\n        if (config.basePath && config.multiRes.basePath &&\n            !(/^(?:[a-z]+:)?\\/\\//i.test(config.multiRes.basePath))) {\n          c.basePath = config.basePath + config.multiRes.basePath;\n        } else if (config.multiRes.basePath) {\n          c.basePath = config.multiRes.basePath;\n        } else if (config.basePath) {\n          c.basePath = config.basePath;\n        }\n        panoImage = c;\n      } else {\n        if (config.dynamic === true) {\n          panoImage = config.panorama;\n        } else {\n          if (config.panorama === undefined) {\n            anError(config.strings.noPanoramaError);\n            return;\n          }\n          panoImage = new Image();\n        }\n      }\n\n      // Configure image loading\n      if (config.type == 'cubemap') {\n        // Quick loading counter for synchronous loading\n        var itemsToLoad = 6;\n\n        var onLoad = function() {\n          itemsToLoad--;\n          if (itemsToLoad === 0) {\n            onImageLoad();\n          }\n        };\n\n        var onError = function(e) {\n          var a = document.createElement('a');\n          a.href = e.target.src;\n          a.textContent = a.href;\n          anError(config.strings.fileAccessError.replace('%s', a.outerHTML));\n        };\n\n        for (i = 0; i < panoImage.length; i++) {\n          p = config.cubeMap[i];\n          if (p == \"null\") { // support partial cubemap image with explicitly empty faces\n            console.log('Will use background instead of missing cubemap face ' + i);\n            onLoad();\n          } else {\n            if (config.basePath && !absoluteURL(p)) {\n              p = config.basePath + p;\n            }\n            panoImage[i].onload = onLoad;\n            panoImage[i].onerror = onError;\n            panoImage[i].src = sanitizeURL(p);\n          }\n        }\n      } else if (config.type == 'multires') {\n        onImageLoad();\n      } else {\n        p = '';\n        if (config.basePath) {\n          p = config.basePath;\n        }\n\n        if (config.dynamic !== true) {\n          // Still image\n          p = absoluteURL(config.panorama) ? config.panorama : p + config.panorama;\n\n          panoImage.onload = function() {\n            window.URL.revokeObjectURL(this.src);  // Clean up\n            onImageLoad();\n          };\n\n          var xhr = new XMLHttpRequest();\n          xhr.onloadend = function() {\n            if (xhr.status != 200) {\n              // Display error if image can't be loaded\n              var a = document.createElement('a');\n              a.href = p;\n              a.textContent = a.href;\n              anError(config.strings.fileAccessError.replace('%s', a.outerHTML));\n            }\n            var img = this.response;\n            parseGPanoXMP(img);\n            infoDisplay.load.msg.innerHTML = '';\n          };\n          xhr.onprogress = function(e) {\n            if (e.lengthComputable) {\n              // Display progress\n              var percent = e.loaded / e.total * 100;\n              infoDisplay.load.lbarFill.style.width = percent + '%';\n              var unit, numerator, denominator;\n              if (e.total > 1e6) {\n                unit = 'MB';\n                numerator = (e.loaded / 1e6).toFixed(2);\n                denominator = (e.total / 1e6).toFixed(2);\n              } else if (e.total > 1e3) {\n                unit = 'kB';\n                numerator = (e.loaded / 1e3).toFixed(1);\n                denominator = (e.total / 1e3).toFixed(1);\n              } else {\n                unit = 'B';\n                numerator = e.loaded;\n                denominator = e.total;\n              }\n              infoDisplay.load.msg.innerHTML = numerator + ' / ' + denominator + ' ' + unit;\n            } else {\n              // Display loading spinner\n              infoDisplay.load.lbox.style.display = 'block';\n              infoDisplay.load.lbar.style.display = 'none';\n            }\n          };\n          try {\n            xhr.open('GET', p, true);\n          } catch (e) {\n            // Malformed URL\n            anError(config.strings.malformedURLError);\n          }\n          xhr.responseType = 'blob';\n          xhr.setRequestHeader('Accept', 'image/*,*/*;q=0.9');\n          xhr.withCredentials = config.crossOrigin === 'use-credentials';\n          xhr.send();\n        }\n      }\n\n      if (config.draggable)\n        {uiContainer.classList.add('pnlm-grab');}\n      uiContainer.classList.remove('pnlm-grabbing');\n    }\n\n    /**\n * Test if URL is absolute or relative.\n * @private\n * @param {string} url - URL to test\n * @returns {boolean} True if absolute, else false\n */\n    function absoluteURL(url) {\n    // From http://stackoverflow.com/a/19709846\n      return new RegExp('^(?:[a-z]+:)?//', 'i').test(url) || url[0] == '/' || url.slice(0, 5) == 'blob:';\n    };\n\n    /**\n * Create renderer and initialize event listeners once image is loaded.\n * @private\n */\n    function onImageLoad() {\n      if (!renderer)\n        {renderer = new libpannellum.renderer(renderContainer);}\n\n      // Only add event listeners once\n      if (!listenersAdded) {\n        listenersAdded = true;\n        dragFix.addEventListener('mousedown', onDocumentMouseDown, false);\n        document.addEventListener('mousemove', onDocumentMouseMove, false);\n        document.addEventListener('mouseup', onDocumentMouseUp, false);\n        if (config.mouseZoom) {\n          uiContainer.addEventListener('mousewheel', onDocumentMouseWheel, false);\n          uiContainer.addEventListener('DOMMouseScroll', onDocumentMouseWheel, false);\n        }\n        if (config.doubleClickZoom) {\n          dragFix.addEventListener('dblclick', onDocumentDoubleClick, false);\n        }\n        uiContainer.addEventListener('mozfullscreenchange', onFullScreenChange, false);\n        uiContainer.addEventListener('webkitfullscreenchange', onFullScreenChange, false);\n        uiContainer.addEventListener('msfullscreenchange', onFullScreenChange, false);\n        uiContainer.addEventListener('fullscreenchange', onFullScreenChange, false);\n        window.addEventListener('resize', onDocumentResize, false);\n        window.addEventListener('orientationchange', onDocumentResize, false);\n        if (!config.disableKeyboardCtrl) {\n          container.addEventListener('keydown', onDocumentKeyPress, false);\n          container.addEventListener('keyup', onDocumentKeyUp, false);\n          container.addEventListener('blur', clearKeys, false);\n        }\n        document.addEventListener('mouseleave', onDocumentMouseUp, false);\n        if (document.documentElement.style.pointerAction === '' &&\n            document.documentElement.style.touchAction === '') {\n          dragFix.addEventListener('pointerdown', onDocumentPointerDown, false);\n          dragFix.addEventListener('pointermove', onDocumentPointerMove, false);\n          dragFix.addEventListener('pointerup', onDocumentPointerUp, false);\n          dragFix.addEventListener('pointerleave', onDocumentPointerUp, false);\n        } else {\n          dragFix.addEventListener('touchstart', onDocumentTouchStart, false);\n          dragFix.addEventListener('touchmove', onDocumentTouchMove, false);\n          dragFix.addEventListener('touchend', onDocumentTouchEnd, false);\n        }\n\n        // Deal with MS pointer events\n        if (window.navigator.pointerEnabled)\n          {container.style.touchAction = 'none';}\n      }\n\n      renderInit();\n      setHfov(config.hfov); // possibly adapt hfov after configuration and canvas is complete; prevents empty space on top or bottom by zomming out too much\n      setTimeout(function(){isTimedOut = true;}, 500);\n    }\n\n    /**\n * Parses Google Photo Sphere XMP Metadata.\n * https://developers.google.com/photo-sphere/metadata/\n * @private\n * @param {Image} image - Image to read XMP metadata from.\n */\n    function parseGPanoXMP(image) {\n      var reader = new FileReader();\n      reader.addEventListener('loadend', function() {\n        var img = reader.result;\n\n        // This awful browser specific test exists because iOS 8 does not work\n        // with non-progressive encoded JPEGs.\n        if (navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)) {\n          var flagIndex = img.indexOf('\\xff\\xc2');\n          if (flagIndex < 0 || flagIndex > 65536)\n            {anError(config.strings.iOS8WebGLError);}\n        }\n\n        var start = img.indexOf('<x:xmpmeta');\n        if (start > -1 && config.ignoreGPanoXMP !== true) {\n          var xmpData = img.substring(start, img.indexOf('</x:xmpmeta>') + 12);\n\n          // Extract the requested tag from the XMP data\n          var getTag = function(tag) {\n            var result;\n            if (xmpData.indexOf(tag + '=\"') >= 0) {\n              result = xmpData.substring(xmpData.indexOf(tag + '=\"') + tag.length + 2);\n              result = result.substring(0, result.indexOf('\"'));\n            } else if (xmpData.indexOf(tag + '>') >= 0) {\n              result = xmpData.substring(xmpData.indexOf(tag + '>') + tag.length + 1);\n              result = result.substring(0, result.indexOf('<'));\n            }\n            if (result !== undefined) {\n              return Number(result);\n            }\n            return null;\n          };\n\n            // Relevant XMP data\n          var xmp = {\n            fullWidth: getTag('GPano:FullPanoWidthPixels'),\n            croppedWidth: getTag('GPano:CroppedAreaImageWidthPixels'),\n            fullHeight: getTag('GPano:FullPanoHeightPixels'),\n            croppedHeight: getTag('GPano:CroppedAreaImageHeightPixels'),\n            topPixels: getTag('GPano:CroppedAreaTopPixels'),\n            heading: getTag('GPano:PoseHeadingDegrees'),\n            horizonPitch: getTag('GPano:PosePitchDegrees'),\n            horizonRoll: getTag('GPano:PoseRollDegrees')\n          };\n\n          if (xmp.fullWidth !== null && xmp.croppedWidth !== null &&\n                xmp.fullHeight !== null && xmp.croppedHeight !== null &&\n                xmp.topPixels !== null) {\n\n            // Set up viewer using GPano XMP data\n            if (specifiedPhotoSphereExcludes.indexOf('haov') < 0)\n              {config.haov = xmp.croppedWidth / xmp.fullWidth * 360;}\n            if (specifiedPhotoSphereExcludes.indexOf('vaov') < 0)\n              {config.vaov = xmp.croppedHeight / xmp.fullHeight * 180;}\n            if (specifiedPhotoSphereExcludes.indexOf('vOffset') < 0)\n              {config.vOffset = ((xmp.topPixels + xmp.croppedHeight / 2) / xmp.fullHeight - 0.5) * -180;}\n            if (xmp.heading !== null && specifiedPhotoSphereExcludes.indexOf('northOffset') < 0) {\n              // TODO: make sure this works correctly for partial panoramas\n              config.northOffset = xmp.heading;\n              if (config.compass !== false) {\n                config.compass = true;\n              }\n            }\n            if (xmp.horizonPitch !== null && xmp.horizonRoll !== null) {\n              if (specifiedPhotoSphereExcludes.indexOf('horizonPitch') < 0)\n                {config.horizonPitch = xmp.horizonPitch;}\n              if (specifiedPhotoSphereExcludes.indexOf('horizonRoll') < 0)\n                {config.horizonRoll = xmp.horizonRoll;}\n            }\n\n            // TODO: add support for initial view settings\n          }\n        }\n\n        // Load panorama\n        panoImage.src = window.URL.createObjectURL(image);\n      });\n      if (reader.readAsBinaryString !== undefined)\n        {reader.readAsBinaryString(image);}\n      else\n        {reader.readAsText(image);}\n    }\n\n    /**\n * Displays an error message.\n * @private\n * @param {string} errorMsg - Error message to display. If not specified, a\n *      generic WebGL error is displayed.\n */\n    function anError(errorMsg) {\n      if (errorMsg === undefined)\n        {errorMsg = config.strings.genericWebGLError;}\n      infoDisplay.errorMsg.innerHTML = '<p>' + errorMsg + '</p>';\n      controls.load.style.display = 'none';\n      infoDisplay.load.box.style.display = 'none';\n      infoDisplay.errorMsg.style.display = 'table';\n      error = true;\n      renderContainer.style.display = 'none';\n      fireEvent('error', errorMsg);\n    }\n\n    /**\n * Hides error message display.\n * @private\n */\n    function clearError() {\n      if (error) {\n        infoDisplay.load.box.style.display = 'none';\n        infoDisplay.errorMsg.style.display = 'none';\n        error = false;\n        fireEvent('errorcleared');\n      }\n    }\n\n    /**\n * Displays about message.\n * @private\n * @param {MouseEvent} event - Right click location\n */\n    function aboutMessage(event) {\n      var pos = mousePosition(event);\n      aboutMsg.style.left = pos.x + 'px';\n      aboutMsg.style.top = pos.y + 'px';\n      clearTimeout(aboutMessage.t1);\n      clearTimeout(aboutMessage.t2);\n      aboutMsg.style.display = 'block';\n      aboutMsg.style.opacity = 1;\n      aboutMessage.t1 = setTimeout(function() {aboutMsg.style.opacity = 0;}, 2000);\n      aboutMessage.t2 = setTimeout(function() {aboutMsg.style.display = 'none';}, 2500);\n      event.preventDefault();\n    }\n\n    /**\n * Calculate mouse position relative to top left of viewer container.\n * @private\n * @param {MouseEvent} event - Mouse event to use in calculation\n * @returns {Object} Calculated X and Y coordinates\n */\n    function mousePosition(event) {\n      var bounds = container.getBoundingClientRect();\n      var pos = {};\n      pos.x = event.clientX - bounds.left;\n      pos.y = event.clientY - bounds.top;\n      return pos;\n    }\n\n    /**\n * Event handler for mouse clicks. Initializes panning. Prints center and click\n * location coordinates when hot spot debugging is enabled.\n * @private\n * @param {MouseEvent} event - Document mouse down event.\n */\n    function onDocumentMouseDown(event) {\n    // Override default action\n      event.preventDefault();\n      // But not all of it\n      container.focus();\n\n      // Only do something if the panorama is loaded\n      if (!loaded || !config.draggable) {\n        return;\n      }\n\n      // Calculate mouse position relative to top left of viewer container\n      var pos = mousePosition(event);\n\n      // Log pitch / yaw of mouse click when debugging / placing hot spots\n      if (config.hotSpotDebug) {\n        var coords = mouseEventToCoords(event);\n        console.log('Pitch: ' + coords[0] + ', Yaw: ' + coords[1] + ', Center Pitch: ' +\n            config.pitch + ', Center Yaw: ' + config.yaw + ', HFOV: ' + config.hfov);\n      }\n\n      // Turn off auto-rotation if enabled\n      stopAnimation();\n\n      stopOrientation();\n      config.roll = 0;\n\n      speed.hfov = 0;\n\n      isUserInteracting = true;\n      latestInteraction = Date.now();\n\n      onPointerDownPointerX = pos.x;\n      onPointerDownPointerY = pos.y;\n\n      onPointerDownYaw = config.yaw;\n      onPointerDownPitch = config.pitch;\n\n      uiContainer.classList.add('pnlm-grabbing');\n      uiContainer.classList.remove('pnlm-grab');\n\n      fireEvent('mousedown', event);\n      animateInit();\n    }\n\n    /**\n * Event handler for double clicks. Zooms in at clicked location\n * @private\n * @param {MouseEvent} event - Document mouse down event.\n */\n    function onDocumentDoubleClick(event) {\n      if (config.minHfov === config.hfov) {\n        _this.setHfov(origHfov, 1000);\n      } else {\n        var coords = mouseEventToCoords(event);\n        _this.lookAt(coords[0], coords[1], config.minHfov, 1000);\n      }\n    }\n\n    /**\n * Calculate panorama pitch and yaw from location of mouse event.\n * @private\n * @param {MouseEvent} event - Document mouse down event.\n * @returns {number[]} [pitch, yaw]\n */\n    function mouseEventToCoords(event) {\n      var pos = mousePosition(event);\n      var canvas = renderer.getCanvas();\n      var canvasWidth = canvas.clientWidth,\n        canvasHeight = canvas.clientHeight;\n      var x = pos.x / canvasWidth * 2 - 1;\n      var y = (1 - pos.y / canvasHeight * 2) * canvasHeight / canvasWidth;\n      var focal = 1 / Math.tan(config.hfov * Math.PI / 360);\n      var s = Math.sin(config.pitch * Math.PI / 180);\n      var c = Math.cos(config.pitch * Math.PI / 180);\n      var a = focal * c - y * s;\n      var root = Math.sqrt(x*x + a*a);\n      var pitch = Math.atan((y * c + focal * s) / root) * 180 / Math.PI;\n      var yaw = Math.atan2(x / root, a / root) * 180 / Math.PI + config.yaw;\n      if (yaw < -180)\n        {yaw += 360;}\n      if (yaw > 180)\n        {yaw -= 360;}\n      return [pitch, yaw];\n    }\n\n    /**\n * Event handler for mouse moves. Pans center of view.\n * @private\n * @param {MouseEvent} event - Document mouse move event.\n */\n    function onDocumentMouseMove(event) {\n      if (isUserInteracting && loaded) {\n        latestInteraction = Date.now();\n        var canvas = renderer.getCanvas();\n        var canvasWidth = canvas.clientWidth,\n          canvasHeight = canvas.clientHeight;\n        var pos = mousePosition(event);\n        //TODO: This still isn't quite right\n        var yaw = ((Math.atan(onPointerDownPointerX / canvasWidth * 2 - 1) - Math.atan(pos.x / canvasWidth * 2 - 1)) * 180 / Math.PI * config.hfov / 90) + onPointerDownYaw;\n        speed.yaw = (yaw - config.yaw) % 360 * 0.2;\n        config.yaw = yaw;\n\n        var vfov = 2 * Math.atan(Math.tan(config.hfov/360*Math.PI) * canvasHeight / canvasWidth) * 180 / Math.PI;\n\n        var pitch = ((Math.atan(pos.y / canvasHeight * 2 - 1) - Math.atan(onPointerDownPointerY / canvasHeight * 2 - 1)) * 180 / Math.PI * vfov / 90) + onPointerDownPitch;\n        speed.pitch = (pitch - config.pitch) * 0.2;\n        config.pitch = pitch;\n      }\n    }\n\n    /**\n * Event handler for mouse up events. Stops panning.\n * @private\n */\n    function onDocumentMouseUp(event) {\n      if (!isUserInteracting) {\n        return;\n      }\n      isUserInteracting = false;\n      if (Date.now() - latestInteraction > 15) {\n        // Prevents jump when user rapidly moves mouse, stops, and then\n        // releases the mouse button\n        speed.pitch = speed.yaw = 0;\n      }\n      uiContainer.classList.add('pnlm-grab');\n      uiContainer.classList.remove('pnlm-grabbing');\n      latestInteraction = Date.now();\n\n      fireEvent('mouseup', event);\n    }\n\n    /**\n * Event handler for touches. Initializes panning if one touch or zooming if\n * two touches.\n * @private\n * @param {TouchEvent} event - Document touch start event.\n */\n    function onDocumentTouchStart(event) {\n    // Only do something if the panorama is loaded\n      if (!loaded || !config.draggable) {\n        return;\n      }\n\n      // Turn off auto-rotation if enabled\n      stopAnimation();\n\n      stopOrientation();\n      config.roll = 0;\n\n      speed.hfov = 0;\n\n      // Calculate touch position relative to top left of viewer container\n      var pos0 = mousePosition(event.targetTouches[0]);\n\n      onPointerDownPointerX = pos0.x;\n      onPointerDownPointerY = pos0.y;\n\n      if (event.targetTouches.length == 2) {\n        // Down pointer is the center of the two fingers\n        var pos1 = mousePosition(event.targetTouches[1]);\n        onPointerDownPointerX += (pos1.x - pos0.x) * 0.5;\n        onPointerDownPointerY += (pos1.y - pos0.y) * 0.5;\n        onPointerDownPointerDist = Math.sqrt((pos0.x - pos1.x) * (pos0.x - pos1.x) +\n                                             (pos0.y - pos1.y) * (pos0.y - pos1.y));\n      }\n      isUserInteracting = true;\n      latestInteraction = Date.now();\n\n      onPointerDownYaw = config.yaw;\n      onPointerDownPitch = config.pitch;\n\n      fireEvent('touchstart', event);\n      animateInit();\n    }\n\n    /**\n * Event handler for touch movements. Pans center of view if one touch or\n * adjusts zoom if two touches.\n * @private\n * @param {TouchEvent} event - Document touch move event.\n */\n    function onDocumentTouchMove(event) {\n      if (!config.draggable) {\n        return;\n      }\n\n      // Override default action\n      event.preventDefault();\n      if (loaded) {\n        latestInteraction = Date.now();\n      }\n      if (isUserInteracting && loaded) {\n        var pos0 = mousePosition(event.targetTouches[0]);\n        var clientX = pos0.x;\n        var clientY = pos0.y;\n\n        if (event.targetTouches.length == 2 && onPointerDownPointerDist != -1) {\n          var pos1 = mousePosition(event.targetTouches[1]);\n          clientX += (pos1.x - pos0.x) * 0.5;\n          clientY += (pos1.y - pos0.y) * 0.5;\n          var clientDist = Math.sqrt((pos0.x - pos1.x) * (pos0.x - pos1.x) +\n                                       (pos0.y - pos1.y) * (pos0.y - pos1.y));\n          setHfov(config.hfov + (onPointerDownPointerDist - clientDist) * 0.1);\n          onPointerDownPointerDist = clientDist;\n        }\n\n        // The smaller the config.hfov value (the more zoomed-in the user is), the faster\n        // yaw/pitch are perceived to change on one-finger touchmove (panning) events and vice versa.\n        // To improve usability at both small and large zoom levels (config.hfov values)\n        // we introduce a dynamic pan speed coefficient.\n        //\n        // Currently this seems to *roughly* keep initial drag/pan start position close to\n        // the user's finger while panning regardless of zoom level / config.hfov value.\n        var touchmovePanSpeedCoeff = (config.hfov / 360) * config.touchPanSpeedCoeffFactor;\n\n        var yaw = (onPointerDownPointerX - clientX) * touchmovePanSpeedCoeff + onPointerDownYaw;\n        speed.yaw = (yaw - config.yaw) % 360 * 0.2;\n        config.yaw = yaw;\n\n        var pitch = (clientY - onPointerDownPointerY) * touchmovePanSpeedCoeff + onPointerDownPitch;\n        speed.pitch = (pitch - config.pitch) * 0.2;\n        config.pitch = pitch;\n      }\n    }\n\n    /**\n * Event handler for end of touches. Stops panning and/or zooming.\n * @private\n */\n    function onDocumentTouchEnd() {\n      isUserInteracting = false;\n      if (Date.now() - latestInteraction > 150) {\n        speed.pitch = speed.yaw = 0;\n      }\n      onPointerDownPointerDist = -1;\n      latestInteraction = Date.now();\n\n      fireEvent('touchend', event);\n    }\n\n    var pointerIDs = [],\n      pointerCoordinates = [];\n    /**\n * Event handler for touch starts in IE / Edge.\n * @private\n * @param {PointerEvent} event - Document pointer down event.\n */\n    function onDocumentPointerDown(event) {\n      if (event.pointerType == 'touch') {\n        pointerIDs.push(event.pointerId);\n        pointerCoordinates.push({ clientX: event.clientX, clientY: event.clientY });\n        event.targetTouches = pointerCoordinates;\n        onDocumentTouchStart(event);\n        event.preventDefault();\n      }\n    }\n\n    /**\n * Event handler for touch moves in IE / Edge.\n * @private\n * @param {PointerEvent} event - Document pointer move event.\n */\n    function onDocumentPointerMove(event) {\n      if (event.pointerType == 'touch') {\n        for (var i = 0; i < pointerIDs.length; i++) {\n          if (event.pointerId == pointerIDs[i]) {\n            pointerCoordinates[i].clientX = event.clientX;\n            pointerCoordinates[i].clientY = event.clientY;\n            event.targetTouches = pointerCoordinates;\n            onDocumentTouchMove(event);\n            event.preventDefault();\n            return;\n          }\n        }\n      }\n    }\n\n    /**\n * Event handler for touch ends in IE / Edge.\n * @private\n * @param {PointerEvent} event - Document pointer up event.\n */\n    function onDocumentPointerUp(event) {\n      if (event.pointerType == 'touch') {\n        var defined = false;\n        for (var i = 0; i < pointerIDs.length; i++) {\n          if (event.pointerId == pointerIDs[i])\n            {pointerIDs[i] = undefined;}\n          if (pointerIDs[i])\n            {defined = true;}\n        }\n        if (!defined) {\n          pointerIDs = [];\n          pointerCoordinates = [];\n          onDocumentTouchEnd();\n        }\n        event.preventDefault();\n      }\n    }\n\n    /**\n * Event handler for mouse wheel. Changes zoom.\n * @private\n * @param {WheelEvent} event - Document mouse wheel event.\n */\n    function onDocumentMouseWheel(event) {\n    // Only do something if the panorama is loaded and mouse wheel zoom is enabled\n      if (!loaded || (config.mouseZoom == 'fullscreenonly' && !fullscreenActive)) {\n        return;\n      }\n\n      event.preventDefault();\n\n      // Turn off auto-rotation if enabled\n      stopAnimation();\n      latestInteraction = Date.now();\n\n      if (event.wheelDeltaY) {\n        // WebKit\n        setHfov(config.hfov - event.wheelDeltaY * 0.05);\n        speed.hfov = event.wheelDelta < 0 ? 1 : -1;\n      } else if (event.wheelDelta) {\n        // Opera / Explorer 9\n        setHfov(config.hfov - event.wheelDelta * 0.05);\n        speed.hfov = event.wheelDelta < 0 ? 1 : -1;\n      } else if (event.detail) {\n        // Firefox\n        setHfov(config.hfov + event.detail * 1.5);\n        speed.hfov = event.detail > 0 ? 1 : -1;\n      }\n\n      animateInit();\n    }\n\n    /**\n * Event handler for key presses. Updates list of currently pressed keys.\n * @private\n * @param {KeyboardEvent} event - Document key press event.\n */\n    function onDocumentKeyPress(event) {\n    // Turn off auto-rotation if enabled\n      stopAnimation();\n      latestInteraction = Date.now();\n\n      stopOrientation();\n      config.roll = 0;\n\n      // Record key pressed\n      var keynumber = event.which || event.keycode;\n\n      // Override default action for keys that are used\n      if (config.capturedKeyNumbers.indexOf(keynumber) < 0)\n        {return;}\n      event.preventDefault();\n\n      // If escape key is pressed\n      if (keynumber == 27) {\n        // If in fullscreen mode\n        if (fullscreenActive) {\n          toggleFullscreen();\n        }\n      } else {\n        // Change key\n        changeKey(keynumber, true);\n      }\n    }\n\n    /**\n * Clears list of currently pressed keys.\n * @private\n */\n    function clearKeys() {\n      for (var i = 0; i < 10; i++) {\n        keysDown[i] = false;\n      }\n    }\n\n    /**\n * Event handler for key releases. Updates list of currently pressed keys.\n * @private\n * @param {KeyboardEvent} event - Document key up event.\n */\n    function onDocumentKeyUp(event) {\n    // Record key pressed\n      var keynumber = event.which || event.keycode;\n\n      // Override default action for keys that are used\n      if (config.capturedKeyNumbers.indexOf(keynumber) < 0)\n        {return;}\n      event.preventDefault();\n\n      // Change key\n      changeKey(keynumber, false);\n    }\n\n    /**\n * Updates list of currently pressed keys.\n * @private\n * @param {number} keynumber - Key number.\n * @param {boolean} value - Whether or not key is pressed.\n */\n    function changeKey(keynumber, value) {\n      var keyChanged = false;\n      switch (keynumber) {\n        // If minus key is released\n        case 109: case 189: case 17: case 173:\n          if (keysDown[0] != value) { keyChanged = true; }\n          keysDown[0] = value; break;\n\n        // If plus key is released\n        case 107: case 187: case 16: case 61:\n          if (keysDown[1] != value) { keyChanged = true; }\n          keysDown[1] = value; break;\n\n        // If up arrow is released\n        case 38:\n          if (keysDown[2] != value) { keyChanged = true; }\n          keysDown[2] = value; break;\n\n        // If \"w\" is released\n        case 87:\n          if (keysDown[6] != value) { keyChanged = true; }\n          keysDown[6] = value; break;\n\n        // If down arrow is released\n        case 40:\n          if (keysDown[3] != value) { keyChanged = true; }\n          keysDown[3] = value; break;\n\n        // If \"s\" is released\n        case 83:\n          if (keysDown[7] != value) { keyChanged = true; }\n          keysDown[7] = value; break;\n\n        // If left arrow is released\n        case 37:\n          if (keysDown[4] != value) { keyChanged = true; }\n          keysDown[4] = value; break;\n\n        // If \"a\" is released\n        case 65:\n          if (keysDown[8] != value) { keyChanged = true; }\n          keysDown[8] = value; break;\n\n        // If right arrow is released\n        case 39:\n          if (keysDown[5] != value) { keyChanged = true; }\n          keysDown[5] = value; break;\n\n        // If \"d\" is released\n        case 68:\n          if (keysDown[9] != value) { keyChanged = true; }\n          keysDown[9] = value;\n      }\n\n      if (keyChanged && value) {\n        if (typeof performance !== 'undefined' && performance.now()) {\n          prevTime = performance.now();\n        } else {\n          prevTime = Date.now();\n        }\n        animateInit();\n      }\n    }\n\n    /**\n * Pans and/or zooms panorama based on currently pressed keys. Also handles\n * panorama \"inertia\" and auto rotation.\n * @private\n */\n    function keyRepeat() {\n    // Only do something if the panorama is loaded\n      if (!loaded) {\n        return;\n      }\n\n      var isKeyDown = false;\n\n      var prevPitch = config.pitch;\n      var prevYaw = config.yaw;\n      var prevZoom = config.hfov;\n\n      var newTime;\n      if (typeof performance !== 'undefined' && performance.now()) {\n        newTime = performance.now();\n      } else {\n        newTime = Date.now();\n      }\n      if (prevTime === undefined) {\n        prevTime = newTime;\n      }\n      var diff = (newTime - prevTime) * config.hfov / 1700;\n      diff = Math.min(diff, 1.0);\n\n      // If minus key is down\n      if (keysDown[0] && config.keyboardZoom === true) {\n        setHfov(config.hfov + (speed.hfov * 0.8 + 0.5) * diff);\n        isKeyDown = true;\n      }\n\n      // If plus key is down\n      if (keysDown[1] && config.keyboardZoom === true) {\n        setHfov(config.hfov + (speed.hfov * 0.8 - 0.2) * diff);\n        isKeyDown = true;\n      }\n\n      // If up arrow or \"w\" is down\n      if (keysDown[2] || keysDown[6]) {\n        // Pan up\n        config.pitch += (speed.pitch * 0.8 + 0.2) * diff;\n        isKeyDown = true;\n      }\n\n      // If down arrow or \"s\" is down\n      if (keysDown[3] || keysDown[7]) {\n        // Pan down\n        config.pitch += (speed.pitch * 0.8 - 0.2) * diff;\n        isKeyDown = true;\n      }\n\n      // If left arrow or \"a\" is down\n      if (keysDown[4] || keysDown[8]) {\n        // Pan left\n        config.yaw += (speed.yaw * 0.8 - 0.2) * diff;\n        isKeyDown = true;\n      }\n\n      // If right arrow or \"d\" is down\n      if (keysDown[5] || keysDown[9]) {\n        // Pan right\n        config.yaw += (speed.yaw * 0.8 + 0.2) * diff;\n        isKeyDown = true;\n      }\n\n      if (isKeyDown)\n        {latestInteraction = Date.now();}\n\n      // If auto-rotate\n      var inactivityInterval = Date.now() - latestInteraction;\n      if (config.autoRotate) {\n        // Pan\n        if (newTime - prevTime > 0.001) {\n          var timeDiff = (newTime - prevTime) / 1000;\n          var yawDiff = (speed.yaw / timeDiff * diff - config.autoRotate * 0.2) * timeDiff;\n          yawDiff = (-config.autoRotate > 0 ? 1 : -1) * Math.min(Math.abs(config.autoRotate * timeDiff), Math.abs(yawDiff));\n          config.yaw += yawDiff;\n        }\n\n        // Deal with stopping auto rotation after a set delay\n        if (config.autoRotateStopDelay) {\n          config.autoRotateStopDelay -= newTime - prevTime;\n          if (config.autoRotateStopDelay <= 0) {\n            config.autoRotateStopDelay = false;\n            autoRotateSpeed = config.autoRotate;\n            config.autoRotate = 0;\n          }\n        }\n      }\n\n      // Animated moves\n      if (animatedMove.pitch) {\n        animateMove('pitch');\n        prevPitch = config.pitch;\n      }\n      if (animatedMove.yaw) {\n        animateMove('yaw');\n        prevYaw = config.yaw;\n      }\n      if (animatedMove.hfov) {\n        animateMove('hfov');\n        prevZoom = config.hfov;\n      }\n\n      // \"Inertia\"\n      if (diff > 0 && !config.autoRotate) {\n        // \"Friction\"\n        var friction = 0.85;\n\n        // Yaw\n        if (!keysDown[4] && !keysDown[5] && !keysDown[8] && !keysDown[9] && !animatedMove.yaw) {\n          config.yaw += speed.yaw * diff * friction;\n        }\n        // Pitch\n        if (!keysDown[2] && !keysDown[3] && !keysDown[6] && !keysDown[7] && !animatedMove.pitch) {\n          config.pitch += speed.pitch * diff * friction;\n        }\n        // Zoom\n        if (!keysDown[0] && !keysDown[1] && !animatedMove.hfov) {\n          setHfov(config.hfov + speed.hfov * diff * friction);\n        }\n      }\n\n      prevTime = newTime;\n      if (diff > 0) {\n        speed.yaw = speed.yaw * 0.8 + (config.yaw - prevYaw) / diff * 0.2;\n        speed.pitch = speed.pitch * 0.8 + (config.pitch - prevPitch) / diff * 0.2;\n        speed.hfov = speed.hfov * 0.8 + (config.hfov - prevZoom) / diff * 0.2;\n\n        // Limit speed\n        var maxSpeed = config.autoRotate ? Math.abs(config.autoRotate) : 5;\n        speed.yaw = Math.min(maxSpeed, Math.max(speed.yaw, -maxSpeed));\n        speed.pitch = Math.min(maxSpeed, Math.max(speed.pitch, -maxSpeed));\n        speed.hfov = Math.min(maxSpeed, Math.max(speed.hfov, -maxSpeed));\n      }\n\n      // Stop movement if opposite controls are pressed\n      if (keysDown[0] && keysDown[1]) {\n        speed.hfov = 0;\n      }\n      if ((keysDown[2] || keysDown[6]) && (keysDown[3] || keysDown[7])) {\n        speed.pitch = 0;\n      }\n      if ((keysDown[4] || keysDown[8]) && (keysDown[5] || keysDown[9])) {\n        speed.yaw = 0;\n      }\n    }\n\n    /**\n * Animates moves.\n * @param {string} axis - Axis to animate\n * @private\n */\n    function animateMove(axis) {\n      var t = animatedMove[axis];\n      var normTime = Math.min(1, Math.max((Date.now() - t.startTime) / 1000 / (t.duration / 1000), 0));\n      var result = t.startPosition + config.animationTimingFunction(normTime) * (t.endPosition - t.startPosition);\n      if ((t.endPosition > t.startPosition && result >= t.endPosition) ||\n        (t.endPosition < t.startPosition && result <= t.endPosition) ||\n        t.endPosition === t.startPosition) {\n        result = t.endPosition;\n        speed[axis] = 0;\n        var callback = animatedMove[axis].callback,\n          callbackArgs = animatedMove[axis].callbackArgs;\n        delete animatedMove[axis];\n        if (typeof callback === 'function')\n          {callback(callbackArgs);}\n      }\n      config[axis] = result;\n    }\n\n    /**\n * @param {number} t - Normalized time in animation\n * @return {number} Position in animation\n * @private\n */\n    function timingFunction(t) {\n    // easeInOutQuad from https://gist.github.com/gre/1650294\n      return t < 0.5 ? 2*t*t : -1+(4-2*t)*t;\n    }\n\n    /**\n * Event handler for document resizes. Updates viewer size and rerenders view.\n * @private\n */\n    function onDocumentResize() {\n    // Resize panorama renderer (moved to onFullScreenChange)\n    //renderer.resize();\n    //animateInit();\n\n    // Kludge to deal with WebKit regression: https://bugs.webkit.org/show_bug.cgi?id=93525\n      onFullScreenChange();\n    }\n\n    /**\n * Initializes animation.\n * @private\n */\n    function animateInit() {\n      if (animating) {\n        return;\n      }\n      animating = true;\n      animate();\n    }\n\n    /**\n * Animates view, using requestAnimationFrame to trigger rendering.\n * @private\n */\n    function animate() {\n      render();\n      if (autoRotateStart)\n        {clearTimeout(autoRotateStart);}\n      if (isUserInteracting || orientation === true) {\n        requestAnimationFrame(animate);\n      } else if (keysDown[0] || keysDown[1] || keysDown[2] || keysDown[3] ||\n        keysDown[4] || keysDown[5] || keysDown[6] || keysDown[7] ||\n        keysDown[8] || keysDown[9] || config.autoRotate ||\n        animatedMove.pitch || animatedMove.yaw || animatedMove.hfov ||\n        Math.abs(speed.yaw) > 0.01 || Math.abs(speed.pitch) > 0.01 ||\n        Math.abs(speed.hfov) > 0.01) {\n\n        keyRepeat();\n        if (config.autoRotateInactivityDelay >= 0 && autoRotateSpeed &&\n            Date.now() - latestInteraction > config.autoRotateInactivityDelay &&\n            !config.autoRotate) {\n          config.autoRotate = autoRotateSpeed;\n          _this.lookAt(origPitch, undefined, origHfov, 3000);\n        }\n        requestAnimationFrame(animate);\n      } else if (renderer && (renderer.isLoading() || (config.dynamic === true && update))) {\n        requestAnimationFrame(animate);\n      } else {\n        animating = false;\n        prevTime = undefined;\n        var autoRotateStartTime = config.autoRotateInactivityDelay -\n            (Date.now() - latestInteraction);\n        if (autoRotateStartTime > 0) {\n          autoRotateStart = setTimeout(function() {\n            config.autoRotate = autoRotateSpeed;\n            _this.lookAt(origPitch, undefined, origHfov, 3000);\n            animateInit();\n          }, autoRotateStartTime);\n        } else if (config.autoRotateInactivityDelay >= 0 && autoRotateSpeed) {\n          config.autoRotate = autoRotateSpeed;\n          _this.lookAt(origPitch, undefined, origHfov, 3000);\n          animateInit();\n        }\n      }\n    }\n\n    /**\n * Renders panorama view.\n * @private\n */\n    function render() {\n      var tmpyaw;\n\n      if (loaded) {\n        if (config.yaw > 180) {\n          config.yaw -= 360;\n        } else if (config.yaw < -180) {\n          config.yaw += 360;\n        }\n\n        // Keep a tmp value of yaw for autoRotate comparison later\n        tmpyaw = config.yaw;\n\n        // Optionally avoid showing background (empty space) on left or right by adapting min/max yaw\n        var hoffcut = 0,\n          voffcut = 0;\n        if (config.avoidShowingBackground) {\n          var canvas = renderer.getCanvas(),\n            hfov2 = config.hfov / 2,\n            vfov2 = Math.atan2(Math.tan(hfov2 / 180 * Math.PI), (canvas.width / canvas.height)) * 180 / Math.PI,\n            transposed = config.vaov > config.haov;\n          if (transposed) {\n            voffcut = vfov2 * (1 - Math.min(Math.cos((config.pitch - hfov2) / 180 * Math.PI),\n              Math.cos((config.pitch + hfov2) / 180 * Math.PI)));\n          } else {\n            hoffcut = hfov2 * (1 - Math.min(Math.cos((config.pitch - vfov2) / 180 * Math.PI),\n              Math.cos((config.pitch + vfov2) / 180 * Math.PI)));\n          }\n        }\n\n        // Ensure the yaw is within min and max allowed\n        var yawRange = config.maxYaw - config.minYaw,\n          minYaw = -180,\n          maxYaw = 180;\n        if (yawRange < 360) {\n          minYaw = config.minYaw + config.hfov / 2 + hoffcut;\n          maxYaw = config.maxYaw - config.hfov / 2 - hoffcut;\n          if (yawRange < config.hfov) {\n            // Lock yaw to average of min and max yaw when both can be seen at once\n            minYaw = maxYaw = (minYaw + maxYaw) / 2;\n          }\n          config.yaw = Math.max(minYaw, Math.min(maxYaw, config.yaw));\n        }\n\n        // Check if we autoRotate in a limited by min and max yaw\n        // If so reverse direction\n        if (config.autoRotate !== false && tmpyaw != config.yaw &&\n            prevTime !== undefined) { // this condition prevents changing the direction initially\n          config.autoRotate *= -1;\n        }\n\n        // Ensure the calculated pitch is within min and max allowed\n        var canvas = renderer.getCanvas();\n        var vfov = 2 * Math.atan(Math.tan(config.hfov / 180 * Math.PI * 0.5) /\n            (canvas.width / canvas.height)) / Math.PI * 180;\n        var minPitch = config.minPitch + vfov / 2,\n          maxPitch = config.maxPitch - vfov / 2;\n        var pitchRange = config.maxPitch - config.minPitch;\n        if (pitchRange < vfov) {\n          // Lock pitch to average of min and max pitch when both can be seen at once\n          minPitch = maxPitch = (minPitch + maxPitch) / 2;\n        }\n        if (isNaN(minPitch))\n          {minPitch = -90;}\n        if (isNaN(maxPitch))\n          {maxPitch = 90;}\n        config.pitch = Math.max(minPitch, Math.min(maxPitch, config.pitch));\n\n        renderer.render(config.pitch * Math.PI / 180, config.yaw * Math.PI / 180, config.hfov * Math.PI / 180, { roll: config.roll * Math.PI / 180 });\n\n        renderHotSpots();\n\n        // Update compass\n        if (config.compass) {\n          compass.style.transform = 'rotate(' + (-config.yaw - config.northOffset) + 'deg)';\n          compass.style.webkitTransform = 'rotate(' + (-config.yaw - config.northOffset) + 'deg)';\n        }\n\n        if (config.onRender) {\n          config.onRender();\n        }\n      }\n    }\n\n    /**\n * Creates a new quaternion.\n * @private\n * @constructor\n * @param {Number} w - W value\n * @param {Number} x - X value\n * @param {Number} y - Y value\n * @param {Number} z - Z value\n */\n    function Quaternion(w, x, y, z) {\n      this.w = w;\n      this.x = x;\n      this.y = y;\n      this.z = z;\n    }\n\n    /**\n * Multiplies quaternions.\n * @private\n * @param {Quaternion} q - Quaternion to multiply\n * @returns {Quaternion} Result of multiplication\n */\n    Quaternion.prototype.multiply = function(q) {\n      return new Quaternion(this.w*q.w - this.x*q.x - this.y*q.y - this.z*q.z,\n        this.x*q.w + this.w*q.x + this.y*q.z - this.z*q.y,\n        this.y*q.w + this.w*q.y + this.z*q.x - this.x*q.z,\n        this.z*q.w + this.w*q.z + this.x*q.y - this.y*q.x);\n    };\n\n    /**\n * Converts quaternion to Euler angles.\n * @private\n * @returns {Number[]} [phi angle, theta angle, psi angle]\n */\n    Quaternion.prototype.toEulerAngles = function() {\n      var phi = Math.atan2(2 * (this.w * this.x + this.y * this.z),\n          1 - 2 * (this.x * this.x + this.y * this.y)),\n        theta = Math.asin(2 * (this.w * this.y - this.z * this.x)),\n        psi = Math.atan2(2 * (this.w * this.z + this.x * this.y),\n          1 - 2 * (this.y * this.y + this.z * this.z));\n      return [phi, theta, psi];\n    };\n\n    /**\n * Converts device orientation API Tait-Bryan angles to a quaternion.\n * @private\n * @param {Number} alpha - Alpha angle (in degrees)\n * @param {Number} beta - Beta angle (in degrees)\n * @param {Number} gamma - Gamma angle (in degrees)\n * @returns {Quaternion} Orientation quaternion\n */\n    function taitBryanToQuaternion(alpha, beta, gamma) {\n      var r = [beta ? beta * Math.PI / 180 / 2 : 0,\n        gamma ? gamma * Math.PI / 180 / 2 : 0,\n        alpha ? alpha * Math.PI / 180 / 2 : 0];\n      var c = [Math.cos(r[0]), Math.cos(r[1]), Math.cos(r[2])],\n        s = [Math.sin(r[0]), Math.sin(r[1]), Math.sin(r[2])];\n\n      return new Quaternion(c[0]*c[1]*c[2] - s[0]*s[1]*s[2],\n        s[0]*c[1]*c[2] - c[0]*s[1]*s[2],\n        c[0]*s[1]*c[2] + s[0]*c[1]*s[2],\n        c[0]*c[1]*s[2] + s[0]*s[1]*c[2]);\n    }\n\n    /**\n * Computes current device orientation quaternion from device orientation API\n * Tait-Bryan angles.\n * @private\n * @param {Number} alpha - Alpha angle (in degrees)\n * @param {Number} beta - Beta angle (in degrees)\n * @param {Number} gamma - Gamma angle (in degrees)\n * @returns {Quaternion} Orientation quaternion\n */\n    function computeQuaternion(alpha, beta, gamma) {\n    // Convert Tait-Bryan angles to quaternion\n      var quaternion = taitBryanToQuaternion(alpha, beta, gamma);\n      // Apply world transform\n      quaternion = quaternion.multiply(new Quaternion(Math.sqrt(0.5), -Math.sqrt(0.5), 0, 0));\n      // Apply screen transform\n      var angle = window.orientation ? -window.orientation * Math.PI / 180 / 2 : 0;\n      return quaternion.multiply(new Quaternion(Math.cos(angle), 0, -Math.sin(angle), 0));\n    }\n\n    /**\n * Event handler for device orientation API. Controls pointing.\n * @private\n * @param {DeviceOrientationEvent} event - Device orientation event.\n */\n    function orientationListener(e) {\n      var q = computeQuaternion(e.alpha, e.beta, e.gamma).toEulerAngles();\n      if (typeof(orientation) === 'number' && orientation < 10) {\n        // This kludge is necessary because iOS sometimes provides a few stale\n        // device orientation events when the listener is removed and then\n        // readded. Thus, we skip the first 10 events to prevent this from\n        // causing problems.\n        orientation += 1;\n      } else if (orientation === 10) {\n        // Record starting yaw to prevent jumping\n        orientationYawOffset = q[2] / Math.PI * 180 + config.yaw;\n        orientation = true;\n        requestAnimationFrame(animate);\n      } else {\n        config.pitch = q[0] / Math.PI * 180;\n        config.roll = -q[1] / Math.PI * 180;\n        config.yaw = -q[2] / Math.PI * 180 + orientationYawOffset;\n      }\n    }\n\n    /**\n * Initializes renderer.\n * @private\n */\n    function renderInit() {\n      try {\n        var params = {};\n        if (config.horizonPitch !== undefined)\n          {params.horizonPitch = config.horizonPitch * Math.PI / 180;}\n        if (config.horizonRoll !== undefined)\n          {params.horizonRoll = config.horizonRoll * Math.PI / 180;}\n        if (config.backgroundColor !== undefined)\n          {params.backgroundColor = config.backgroundColor;}\n        renderer.init(panoImage, config.type, config.dynamic, config.haov * Math.PI / 180, config.vaov * Math.PI / 180, config.vOffset * Math.PI / 180, renderInitCallback, params);\n        if (config.dynamic !== true) {\n          // Allow image to be garbage collected\n          panoImage = undefined;\n        }\n      } catch (event) {\n        // Panorama not loaded\n\n        // Display error if there is a bad texture\n        if (event.type == 'webgl error' || event.type == 'no webgl') {\n          anError();\n        } else if (event.type == 'webgl size error') {\n          anError(config.strings.textureSizeError.replace('%s', event.width).replace('%s', event.maxWidth));\n        } else {\n          anError(config.strings.unknownError);\n          throw event;\n        }\n      }\n    }\n\n    /**\n * Triggered when render initialization finishes. Handles fading between\n * scenes as well as showing the compass and hotspots and hiding the loading\n * display.\n * @private\n */\n    function renderInitCallback() {\n    // Fade if specified\n      if (config.sceneFadeDuration && renderer.fadeImg !== undefined) {\n        renderer.fadeImg.style.opacity = 0;\n        // Remove image\n        var fadeImg = renderer.fadeImg;\n        delete renderer.fadeImg;\n        setTimeout(function() {\n          renderContainer.removeChild(fadeImg);\n          fireEvent('scenechangefadedone');\n        }, config.sceneFadeDuration);\n      }\n\n      // Show compass if applicable\n      if (config.compass) {\n        compass.style.display = 'inline';\n      } else {\n        compass.style.display = 'none';\n      }\n\n      // Show hotspots\n      createHotSpots();\n\n      // Hide loading display\n      infoDisplay.load.box.style.display = 'none';\n      if (preview !== undefined) {\n        renderContainer.removeChild(preview);\n        preview = undefined;\n      }\n      loaded = true;\n\n      fireEvent('load');\n\n      animateInit();\n    }\n\n    /**\n * Creates hot spot element for the current scene.\n * @private\n * @param {Object} hs - The configuration for the hotspot\n */\n    function createHotSpot(hs) {\n    // Make sure hot spot pitch and yaw are numbers\n      hs.pitch = Number(hs.pitch) || 0;\n      hs.yaw = Number(hs.yaw) || 0;\n\n      var div = document.createElement('div');\n      div.className = 'pnlm-hotspot-base';\n      if (hs.cssClass)\n        {div.className += ' ' + hs.cssClass;}\n      else\n        {div.className += ' pnlm-hotspot pnlm-sprite pnlm-' + escapeHTML(hs.type);}\n\n      var span = document.createElement('span');\n      if (hs.text)\n        {span.innerHTML = escapeHTML(hs.text);}\n\n      var a;\n      if (hs.video) {\n        var video = document.createElement('video'),\n          p = hs.video;\n        if (config.basePath && !absoluteURL(p))\n          {p = config.basePath + p;}\n        video.src = sanitizeURL(p);\n        video.controls = true;\n        video.style.width = hs.width + 'px';\n        renderContainer.appendChild(div);\n        span.appendChild(video);\n      } else if (hs.image) {\n        var p = hs.image;\n        if (config.basePath && !absoluteURL(p))\n          {p = config.basePath + p;}\n        a = document.createElement('a');\n        a.href = sanitizeURL(hs.URL ? hs.URL : p);\n        a.target = '_blank';\n        span.appendChild(a);\n        var image = document.createElement('img');\n        image.src = sanitizeURL(p);\n        image.style.width = hs.width + 'px';\n        image.style.paddingTop = '5px';\n        renderContainer.appendChild(div);\n        a.appendChild(image);\n        span.style.maxWidth = 'initial';\n      } else if (hs.URL) {\n        a = document.createElement('a');\n        a.href = sanitizeURL(hs.URL);\n        a.target = '_blank';\n        renderContainer.appendChild(a);\n        div.className += ' pnlm-pointer';\n        span.className += ' pnlm-pointer';\n        a.appendChild(div);\n      } else {\n        if (hs.sceneId) {\n          div.onclick = div.ontouchend = function() {\n            if (!div.clicked) {\n              div.clicked = true;\n              loadScene(hs.sceneId, hs.targetPitch, hs.targetYaw, hs.targetHfov);\n            }\n            return false;\n          };\n          div.className += ' pnlm-pointer';\n          span.className += ' pnlm-pointer';\n        }\n        renderContainer.appendChild(div);\n      }\n\n      if (hs.createTooltipFunc) {\n        hs.createTooltipFunc(div, hs.createTooltipArgs);\n      } else if (hs.text || hs.video || hs.image) {\n        div.classList.add('pnlm-tooltip');\n        div.appendChild(span);\n        span.style.width = span.scrollWidth - 20 + 'px';\n        span.style.marginLeft = -(span.scrollWidth - div.offsetWidth) / 2 + 'px';\n        span.style.marginTop = -span.scrollHeight - 12 + 'px';\n      }\n      if (hs.clickHandlerFunc) {\n        div.addEventListener('click', function(e) {\n          hs.clickHandlerFunc(e, hs.clickHandlerArgs);\n        }, 'false');\n        div.className += ' pnlm-pointer';\n        span.className += ' pnlm-pointer';\n      }\n      hs.div = div;\n    };\n\n    /**\n * Creates hot spot elements for the current scene.\n * @private\n */\n    function createHotSpots() {\n      if (hotspotsCreated) {return;}\n\n      if (!config.hotSpots) {\n        config.hotSpots = [];\n      } else {\n        // Sort by pitch so tooltip is never obscured by another hot spot\n        config.hotSpots = config.hotSpots.sort(function(a, b) {\n          return a.pitch < b.pitch;\n        });\n        config.hotSpots.forEach(createHotSpot);\n      }\n      hotspotsCreated = true;\n      renderHotSpots();\n    }\n\n    /**\n * Destroys currently created hot spot elements.\n * @private\n */\n    function destroyHotSpots() {\n      var hs = config.hotSpots;\n      hotspotsCreated = false;\n      delete config.hotSpots;\n      if (hs) {\n        for (var i = 0; i < hs.length; i++) {\n          var current = hs[i].div;\n          while (current.parentNode != renderContainer) {\n            current = current.parentNode;\n          }\n          renderContainer.removeChild(current);\n          delete hs[i].div;\n        }\n      }\n    }\n\n    /**\n * Renders hot spot, updating its position and visibility.\n * @private\n */\n    function renderHotSpot(hs) {\n      var hsPitchSin = Math.sin(hs.pitch * Math.PI / 180),\n        hsPitchCos = Math.cos(hs.pitch * Math.PI / 180),\n        configPitchSin = Math.sin(config.pitch * Math.PI / 180),\n        configPitchCos = Math.cos(config.pitch * Math.PI / 180),\n        yawCos = Math.cos((-hs.yaw + config.yaw) * Math.PI / 180);\n      var z = hsPitchSin * configPitchSin + hsPitchCos * yawCos * configPitchCos;\n      if ((hs.yaw <= 90 && hs.yaw > -90 && z <= 0) ||\n      ((hs.yaw > 90 || hs.yaw <= -90) && z <= 0)) {\n        hs.div.style.visibility = 'hidden';\n      } else {\n        var yawSin = Math.sin((-hs.yaw + config.yaw) * Math.PI / 180),\n          hfovTan = Math.tan(config.hfov * Math.PI / 360);\n        hs.div.style.visibility = 'visible';\n        // Subpixel rendering doesn't work in Firefox\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=739176\n        var canvas = renderer.getCanvas(),\n          canvasWidth = canvas.clientWidth,\n          canvasHeight = canvas.clientHeight;\n        var coord = [-canvasWidth / hfovTan * yawSin * hsPitchCos / z / 2,\n          -canvasWidth / hfovTan * (hsPitchSin * configPitchCos -\n            hsPitchCos * yawCos * configPitchSin) / z / 2];\n        // Apply roll\n        var rollSin = Math.sin(config.roll * Math.PI / 180),\n          rollCos = Math.cos(config.roll * Math.PI / 180);\n        coord = [coord[0] * rollCos - coord[1] * rollSin,\n          coord[0] * rollSin + coord[1] * rollCos];\n        // Apply transform\n        coord[0] += (canvasWidth - hs.div.offsetWidth) / 2;\n        coord[1] += (canvasHeight - hs.div.offsetHeight) / 2;\n        var transform = 'translate(' + coord[0] + 'px, ' + coord[1] +\n            'px) translateZ(9999px) rotate(' + config.roll + 'deg)';\n        hs.div.style.webkitTransform = transform;\n        hs.div.style.MozTransform = transform;\n        hs.div.style.transform = transform;\n      }\n    }\n\n    /**\n * Renders hot spots, updating their positions and visibility.\n * @private\n */\n    function renderHotSpots() {\n      config.hotSpots.forEach(renderHotSpot);\n    }\n\n    /**\n * Merges a scene configuration into the current configuration.\n * @private\n * @param {string} sceneId - Identifier of scene configuration to merge in.\n */\n    function mergeConfig(sceneId) {\n      config = {};\n      var k, s;\n      var photoSphereExcludes = ['haov', 'vaov', 'vOffset', 'northOffset', 'horizonPitch', 'horizonRoll'];\n      specifiedPhotoSphereExcludes = [];\n\n      // Merge default config\n      for (k in defaultConfig) {\n        if (defaultConfig.hasOwnProperty(k)) {\n          config[k] = defaultConfig[k];\n        }\n      }\n\n      // Merge default scene config\n      for (k in initialConfig.default) {\n        if (initialConfig.default.hasOwnProperty(k)) {\n          if (k == 'strings') {\n            for (s in initialConfig.default.strings) {\n              if (initialConfig.default.strings.hasOwnProperty(s)) {\n                config.strings[s] = escapeHTML(initialConfig.default.strings[s]);\n              }\n            }\n          } else {\n            config[k] = initialConfig.default[k];\n            if (photoSphereExcludes.indexOf(k) >= 0) {\n              specifiedPhotoSphereExcludes.push(k);\n            }\n          }\n        }\n      }\n\n      // Merge current scene config\n      if ((sceneId !== null) && (sceneId !== '') && (initialConfig.scenes) && (initialConfig.scenes[sceneId])) {\n        var scene = initialConfig.scenes[sceneId];\n        for (k in scene) {\n          if (scene.hasOwnProperty(k)) {\n            if (k == 'strings') {\n              for (s in scene.strings) {\n                if (scene.strings.hasOwnProperty(s)) {\n                  config.strings[s] = escapeHTML(scene.strings[s]);\n                }\n              }\n            } else {\n              config[k] = scene[k];\n              if (photoSphereExcludes.indexOf(k) >= 0) {\n                specifiedPhotoSphereExcludes.push(k);\n              }\n            }\n          }\n        }\n        config.scene = sceneId;\n      }\n\n      // Merge initial config\n      for (k in initialConfig) {\n        if (initialConfig.hasOwnProperty(k)) {\n          if (k == 'strings') {\n            for (s in initialConfig.strings) {\n              if (initialConfig.strings.hasOwnProperty(s)) {\n                config.strings[s] = escapeHTML(initialConfig.strings[s]);\n              }\n            }\n          } else {\n            config[k] = initialConfig[k];\n            if (photoSphereExcludes.indexOf(k) >= 0) {\n              specifiedPhotoSphereExcludes.push(k);\n            }\n          }\n        }\n      }\n    }\n\n    /**\n * Processes configuration options.\n * @param {boolean} [isPreview] - Whether or not the preview is being displayed\n * @private\n */\n    function processOptions(isPreview) {\n      isPreview = isPreview ? isPreview : false;\n\n      // Process preview first so it always loads before the browser hits its\n      // maximum number of connections to a server as can happen with cubic\n      // panoramas\n      if (isPreview && 'preview' in config) {\n        var p = config.preview;\n        if (config.basePath && !absoluteURL(p))\n          {p = config.basePath + p;}\n        preview = document.createElement('div');\n        preview.className = 'pnlm-preview-img';\n        preview.style.backgroundImage = \"url('\" + sanitizeURLForCss(p) + \"')\";\n        renderContainer.appendChild(preview);\n      }\n\n      // Handle different preview values\n      var title = config.title,\n        author = config.author;\n      if (isPreview) {\n        if ('previewTitle' in config)\n          {config.title = config.previewTitle;}\n        if ('previewAuthor' in config)\n          {config.author = config.previewAuthor;}\n      }\n\n      // Reset title / author display\n      if (!config.hasOwnProperty('title'))\n        {infoDisplay.title.innerHTML = '';}\n      if (!config.hasOwnProperty('author'))\n        {infoDisplay.author.innerHTML = '';}\n      if (!config.hasOwnProperty('title') && !config.hasOwnProperty('author'))\n        {infoDisplay.container.style.display = 'none';}\n\n      // Fill in load button label and loading box text\n      controls.load.innerHTML = '<p>' + config.strings.loadButtonLabel + '</p>';\n      infoDisplay.load.boxp.innerHTML = config.strings.loadingLabel;\n\n      // Process other options\n      for (var key in config) {\n        if (config.hasOwnProperty(key)) {\n          switch (key) {\n            case 'title':\n              infoDisplay.title.innerHTML = escapeHTML(config[key]);\n              infoDisplay.container.style.display = 'inline';\n              break;\n\n            case 'author':\n              infoDisplay.author.innerHTML = config.strings.bylineLabel.replace('%s', escapeHTML(config[key]));\n              infoDisplay.container.style.display = 'inline';\n              break;\n\n            case 'fallback':\n              var link = document.createElement('a');\n              link.href = sanitizeURL(config[key]);\n              link.target = '_blank';\n              link.textContent = 'Click here to view this panorama in an alternative viewer.';\n              var message = document.createElement('p');\n              message.textContent = 'Your browser does not support WebGL.';\n              message.appendChild(document.createElement('br'));\n              message.appendChild(link);\n              infoDisplay.errorMsg.innerHTML = ''; // Removes all children nodes\n              infoDisplay.errorMsg.appendChild(message);\n              break;\n\n            case 'hfov':\n              setHfov(Number(config[key]));\n              break;\n\n            case 'autoLoad':\n              if (config[key] === true && renderer === undefined) {\n                // Show loading box\n                infoDisplay.load.box.style.display = 'inline';\n                // Hide load button\n                controls.load.style.display = 'none';\n                // Initialize\n                init();\n              }\n              break;\n\n            case 'showZoomCtrl':\n              if (config[key] && config.showControls != false) {\n                // Show zoom controls\n                controls.zoom.style.display = 'block';\n              } else {\n                // Hide zoom controls\n                controls.zoom.style.display = 'none';\n              }\n              break;\n\n            case 'showFullscreenCtrl':\n              if (config[key] && config.showControls != false && ('fullscreen' in document || 'mozFullScreen' in document ||\n                    'webkitIsFullScreen' in document || 'msFullscreenElement' in document)) {\n\n                // Show fullscreen control\n                controls.fullscreen.style.display = 'block';\n              } else {\n                // Hide fullscreen control\n                controls.fullscreen.style.display = 'none';\n              }\n              break;\n\n            case 'hotSpotDebug':\n              if (config[key])\n                {hotSpotDebugIndicator.style.display = 'block';}\n              else\n                {hotSpotDebugIndicator.style.display = 'none';}\n              break;\n\n            case 'showControls':\n              if (!config[key]) {\n                controls.orientation.style.display = 'none';\n                controls.zoom.style.display = 'none';\n                controls.fullscreen.style.display = 'none';\n              }\n              break;\n\n            case 'orientationOnByDefault':\n              if (config[key]) {\n                if (orientationSupport === undefined)\n                  {startOrientationIfSupported = true;}\n                else if (orientationSupport === true)\n                  {startOrientation();}\n              }\n              break;\n          }\n        }\n      }\n\n      if (isPreview) {\n        // Restore original values if changed for preview\n        if (title)\n          {config.title = title;}\n        else\n          {delete config.title;}\n        if (author)\n          {config.author = author;}\n        else\n          {delete config.author;}\n      }\n    }\n\n    /**\n * Toggles fullscreen mode.\n * @private\n */\n    function toggleFullscreen() {\n      if (loaded && !error) {\n        if (!fullscreenActive) {\n          try {\n            if (container.requestFullscreen) {\n              container.requestFullscreen();\n            } else if (container.mozRequestFullScreen) {\n              container.mozRequestFullScreen();\n            } else if (container.msRequestFullscreen) {\n              container.msRequestFullscreen();\n            } else {\n              container.webkitRequestFullScreen();\n            }\n          } catch (event) {\n            // Fullscreen doesn't work\n          }\n        } else {\n          if (document.exitFullscreen) {\n            document.exitFullscreen();\n          } else if (document.mozCancelFullScreen) {\n            document.mozCancelFullScreen();\n          } else if (document.webkitCancelFullScreen) {\n            document.webkitCancelFullScreen();\n          } else if (document.msExitFullscreen) {\n            document.msExitFullscreen();\n          }\n        }\n      }\n    }\n\n    /**\n * Event handler for fullscreen changes.\n * @private\n */\n    function onFullScreenChange() {\n      let isFullScreen = (window.innerWidth == screen.width && window.innerHeight == screen.height);\n      if (document.fullscreen || document.mozFullScreen || document.webkitIsFullScreen || document.msFullscreenElement || isFullScreen) {\n        controls.fullscreen.classList.add('pnlm-fullscreen-toggle-button-active');\n        fullscreenActive = true;\n      } else {\n        controls.fullscreen.classList.remove('pnlm-fullscreen-toggle-button-active');\n        fullscreenActive = false;\n      }\n\n      // Resize renderer (deal with browser quirks and fixes #155)\n      renderer.resize();\n      setHfov(config.hfov);\n      animateInit();\n    }\n\n    /**\n * Increases panorama zoom. For use with zoom button.\n * @private\n */\n    function zoomIn() {\n      if (loaded) {\n        setHfov(config.hfov - 5);\n        animateInit();\n      }\n    }\n\n    /**\n * Decreases panorama zoom. For use with zoom button.\n * @private\n */\n    function zoomOut() {\n      if (loaded) {\n        setHfov(config.hfov + 5);\n        animateInit();\n      }\n    }\n\n    /**\n * Clamps horzontal field of view to viewer's limits.\n * @private\n * @param {number} hfov - Input horizontal field of view (in degrees)\n * @return {number} - Clamped horizontal field of view (in degrees)\n */\n    function constrainHfov(hfov) {\n    // Keep field of view within bounds\n      var minHfov = config.minHfov;\n      if (config.type == 'multires' && renderer) {\n        minHfov = Math.min(minHfov, renderer.getCanvas().width / (config.multiRes.cubeResolution / 90 * 0.9));\n      }\n      if (minHfov > config.maxHfov) {\n        // Don't change view if bounds don't make sense\n        console.log('HFOV bounds do not make sense (minHfov > maxHfov).');\n        return config.hfov;\n      }\n      var newHfov = config.hfov;\n      if (hfov < minHfov) {\n        newHfov = minHfov;\n      } else if (hfov > config.maxHfov) {\n        newHfov = config.maxHfov;\n      } else {\n        newHfov = hfov;\n      }\n      // Optionally avoid showing background (empty space) on top or bottom by adapting newHfov\n      if (config.avoidShowingBackground && renderer) {\n        var canvas = renderer.getCanvas();\n        newHfov = Math.min(newHfov,\n          Math.atan(Math.tan((config.maxPitch - config.minPitch) / 360 * Math.PI) /\n                                     canvas.height * canvas.width)\n                               * 360 / Math.PI);\n      }\n      return newHfov;\n    }\n\n    /**\n * Sets viewer's horizontal field of view.\n * @private\n * @param {number} hfov - Desired horizontal field of view in degrees.\n */\n    function setHfov(hfov) {\n      config.hfov = constrainHfov(hfov);\n    }\n\n    /**\n * Stops auto rotation and animated moves.\n * @private\n */\n    function stopAnimation() {\n      animatedMove = {};\n      autoRotateSpeed = config.autoRotate ? config.autoRotate : autoRotateSpeed;\n      config.autoRotate = false;\n    }\n\n    /**\n * Loads panorama.\n * @private\n */\n    function load() {\n    // Since WebGL error handling is very general, first we clear any error box\n    // since it is a new scene and the error from previous maybe because of lacking\n    // memory etc and not because of a lack of WebGL support etc\n      clearError();\n      loaded = false;\n\n      controls.load.style.display = 'none';\n      infoDisplay.load.box.style.display = 'inline';\n      init();\n    }\n\n    /**\n * Loads scene.\n * @private\n * @param {string} sceneId - Identifier of scene configuration to merge in.\n * @param {number} targetPitch - Pitch viewer should be centered on once scene loads.\n * @param {number} targetYaw - Yaw viewer should be centered on once scene loads.\n * @param {number} targetHfov - HFOV viewer should use once scene loads.\n * @param {boolean} [fadeDone] - If `true`, fade setup is skipped.\n */\n    function loadScene(sceneId, targetPitch, targetYaw, targetHfov, fadeDone) {\n      loaded = false;\n      animatedMove = {};\n\n      // Set up fade if specified\n      var fadeImg, workingPitch, workingYaw, workingHfov;\n      if (config.sceneFadeDuration && !fadeDone) {\n        var data = renderer.render(config.pitch * Math.PI / 180, config.yaw * Math.PI / 180, config.hfov * Math.PI / 180, { returnImage: true });\n        if (data !== undefined) {\n          fadeImg = new Image();\n          fadeImg.className = 'pnlm-fade-img';\n          fadeImg.style.transition = 'opacity ' + (config.sceneFadeDuration / 1000) + 's';\n          fadeImg.style.width = '100%';\n          fadeImg.style.height = '100%';\n          fadeImg.onload = function() {\n            loadScene(sceneId, targetPitch, targetYaw, targetHfov, true);\n          };\n          fadeImg.src = data;\n          renderContainer.appendChild(fadeImg);\n          renderer.fadeImg = fadeImg;\n          return;\n        }\n      }\n\n      // Set new pointing\n      if (targetPitch === 'same') {\n        workingPitch = config.pitch;\n      } else {\n        workingPitch = targetPitch;\n      }\n      if (targetYaw === 'same') {\n        workingYaw = config.yaw;\n      } else if (targetYaw === 'sameAzimuth') {\n        workingYaw = config.yaw + (config.northOffset || 0) - (initialConfig.scenes[sceneId].northOffset || 0);\n      } else {\n        workingYaw = targetYaw;\n      }\n      if (targetHfov === 'same') {\n        workingHfov = config.hfov;\n      } else {\n        workingHfov = targetHfov;\n      }\n\n      // Destroy hot spots from previous scene\n      destroyHotSpots();\n\n      // Create the new config for the scene\n      mergeConfig(sceneId);\n\n      // Stop motion\n      speed.yaw = speed.pitch = speed.hfov = 0;\n\n      // Reload scene\n      processOptions();\n      if (workingPitch !== undefined) {\n        config.pitch = workingPitch;\n      }\n      if (workingYaw !== undefined) {\n        config.yaw = workingYaw;\n      }\n      if (workingHfov !== undefined) {\n        config.hfov = workingHfov;\n      }\n      fireEvent('scenechange', sceneId);\n      load();\n    }\n\n    /**\n * Stop using device orientation.\n * @private\n */\n    function stopOrientation() {\n      window.removeEventListener('deviceorientation', orientationListener);\n      controls.orientation.classList.remove('pnlm-orientation-button-active');\n      orientation = false;\n    }\n\n    /**\n * Start using device orientation.\n * @private\n */\n    function startOrientation() {\n      orientation = 1;\n      window.addEventListener('deviceorientation', orientationListener);\n      controls.orientation.classList.add('pnlm-orientation-button-active');\n    }\n\n    /**\n * Escapes HTML string (to mitigate possible DOM XSS attacks).\n * @private\n * @param {string} s - String to escape\n * @returns {string} Escaped string\n */\n    function escapeHTML(s) {\n      if (!initialConfig.escapeHTML)\n        {return String(s).split('\\n').join('<br>');}\n      return String(s).split(/&/g).join('&amp;')\n        .split('\"').join('&quot;')\n        .split(\"'\").join('&#39;')\n        .split('<').join('&lt;')\n        .split('>').join('&gt;')\n        .split('/').join('&#x2f;')\n        .split('\\n').join('<br>');  // Allow line breaks\n    }\n\n    /**\n * Removes possibility of XSS attacks with URLs.\n * The URL cannot be of protocol 'javascript'.\n * @private\n * @param {string} url - URL to sanitize\n * @returns {string} Sanitized URL\n */\n    function sanitizeURL(url) {\n      if (url.trim().toLowerCase().indexOf('javascript:') === 0) {\n        return 'about:blank';\n      }\n      return url;\n    }\n\n    /**\n * Removes possibility of XSS atacks with URLs for CSS.\n * The URL will be sanitized with `sanitizeURL()` and single quotes\n * and double quotes escaped.\n * @private\n * @param {string} url - URL to sanitize\n * @returns {string} Sanitized URL\n */\n    function sanitizeURLForCss(url) {\n      return sanitizeURL(url)\n        .replace(/\"/g, '%22')\n        .replace(/'/g, '%27');\n    }\n\n    /**\n * Checks whether or not a panorama is loaded.\n * @memberof Viewer\n * @instance\n * @returns {boolean} `true` if a panorama is loaded, else `false`\n */\n    this.isLoaded = function() {\n      return Boolean(loaded);\n    };\n\n    /**\n * Returns the pitch of the center of the view.\n * @memberof Viewer\n * @instance\n * @returns {number} Pitch in degrees\n */\n    this.getPitch = function() {\n      return config.pitch;\n    };\n\n    /**\n * Sets the pitch of the center of the view.\n * @memberof Viewer\n * @instance\n * @param {number} pitch - Pitch in degrees\n * @param {boolean|number} [animated=1000] - Animation duration in milliseconds or false for no animation\n * @param {function} [callback] - Function to call when animation finishes\n * @param {object} [callbackArgs] - Arguments to pass to callback function\n * @returns {Viewer} `this`\n */\n    this.setPitch = function(pitch, animated, callback, callbackArgs) {\n      animated = animated == undefined ? 1000: Number(animated);\n      if (animated) {\n        animatedMove.pitch = {\n          'startTime': Date.now(),\n          'startPosition': config.pitch,\n          'endPosition': pitch,\n          'duration': animated,\n          'callback': callback,\n          'callbackArgs': callbackArgs\n        };\n      } else {\n        config.pitch = pitch;\n      }\n      animateInit();\n      return this;\n    };\n\n    /**\n * Returns the minimum and maximum allowed pitches (in degrees).\n * @memberof Viewer\n * @instance\n * @returns {number[]} [minimum pitch, maximum pitch]\n */\n    this.getPitchBounds = function() {\n      return [config.minPitch, config.maxPitch];\n    };\n\n    /**\n * Set the minimum and maximum allowed pitches (in degrees).\n * @memberof Viewer\n * @instance\n * @param {number[]} bounds - [minimum pitch, maximum pitch]\n * @returns {Viewer} `this`\n */\n    this.setPitchBounds = function(bounds) {\n      config.minPitch = Math.max(-90, Math.min(bounds[0], 90));\n      config.maxPitch = Math.max(-90, Math.min(bounds[1], 90));\n      return this;\n    };\n\n    /**\n * Returns the yaw of the center of the view.\n * @memberof Viewer\n * @instance\n * @returns {number} Yaw in degrees\n */\n    this.getYaw = function() {\n      return config.yaw;\n    };\n\n    /**\n * Sets the yaw of the center of the view.\n * @memberof Viewer\n * @instance\n * @param {number} yaw - Yaw in degrees [-180, 180]\n * @param {boolean|number} [animated=1000] - Animation duration in milliseconds or false for no animation\n * @param {function} [callback] - Function to call when animation finishes\n * @param {object} [callbackArgs] - Arguments to pass to callback function\n * @returns {Viewer} `this`\n */\n    this.setYaw = function(yaw, animated, callback, callbackArgs) {\n      animated = animated == undefined ? 1000: Number(animated);\n      yaw = ((yaw + 180) % 360) - 180; // Keep in bounds\n      if (animated) {\n        // Animate in shortest direction\n        if (config.yaw - yaw > 180)\n          {yaw += 360}\n        else if (yaw - config.yaw > 180)\n          {yaw -= 360}\n\n        animatedMove.yaw = {\n          'startTime': Date.now(),\n          'startPosition': config.yaw,\n          'endPosition': yaw,\n          'duration': animated,\n          'callback': callback,\n          'callbackArgs': callbackArgs\n        };\n      } else {\n        config.yaw = yaw;\n      }\n      animateInit();\n      return this;\n    };\n\n    /**\n * Returns the minimum and maximum allowed pitches (in degrees).\n * @memberof Viewer\n * @instance\n * @returns {number[]} [yaw pitch, maximum yaw]\n */\n    this.getYawBounds = function() {\n      return [config.minYaw, config.maxYaw];\n    };\n\n    /**\n * Set the minimum and maximum allowed yaws (in degrees [-180, 180]).\n * @memberof Viewer\n * @instance\n * @param {number[]} bounds - [minimum yaw, maximum yaw]\n * @returns {Viewer} `this`\n */\n    this.setYawBounds = function(bounds) {\n      config.minYaw = Math.max(-180, Math.min(bounds[0], 180));\n      config.maxYaw = Math.max(-180, Math.min(bounds[1], 180));\n      return this;\n    };\n\n    /**\n * Returns the horizontal field of view.\n * @memberof Viewer\n * @instance\n * @returns {number} Horizontal field of view in degrees\n */\n    this.getHfov = function() {\n      return config.hfov;\n    };\n\n    /**\n * Sets the horizontal field of view.\n * @memberof Viewer\n * @instance\n * @param {number} hfov - Horizontal field of view in degrees\n * @param {boolean|number} [animated=1000] - Animation duration in milliseconds or false for no animation\n * @param {function} [callback] - Function to call when animation finishes\n * @param {object} [callbackArgs] - Arguments to pass to callback function\n * @returns {Viewer} `this`\n */\n    this.setHfov = function(hfov, animated, callback, callbackArgs) {\n      animated = animated == undefined ? 1000: Number(animated);\n      if (animated) {\n        animatedMove.hfov = {\n          'startTime': Date.now(),\n          'startPosition': config.hfov,\n          'endPosition': constrainHfov(hfov),\n          'duration': animated,\n          'callback': callback,\n          'callbackArgs': callbackArgs\n        };\n      } else {\n        setHfov(hfov);\n      }\n      animateInit();\n      return this;\n    };\n\n    /**\n * Returns the minimum and maximum allowed horizontal fields of view\n * (in degrees).\n * @memberof Viewer\n * @instance\n * @returns {number[]} [minimum hfov, maximum hfov]\n */\n    this.getHfovBounds = function() {\n      return [config.minHfov, config.maxHfov];\n    };\n\n    /**\n * Set the minimum and maximum allowed horizontal fields of view (in degrees).\n * @memberof Viewer\n * @instance\n * @param {number[]} bounds - [minimum hfov, maximum hfov]\n * @returns {Viewer} `this`\n */\n    this.setHfovBounds = function(bounds) {\n      config.minHfov = Math.max(0, bounds[0]);\n      config.maxHfov = Math.max(0, bounds[1]);\n      return this;\n    };\n\n    /**\n * Set a new view. Any parameters not specified remain the same.\n * @memberof Viewer\n * @instance\n * @param {number} [pitch] - Target pitch\n * @param {number} [yaw] - Target yaw\n * @param {number} [hfov] - Target hfov\n * @param {boolean|number} [animated=1000] - Animation duration in milliseconds or false for no animation\n * @param {function} [callback] - Function to call when animation finishes\n * @param {object} [callbackArgs] - Arguments to pass to callback function\n * @returns {Viewer} `this`\n */\n    this.lookAt = function(pitch, yaw, hfov, animated, callback, callbackArgs) {\n      animated = animated == undefined ? 1000: Number(animated);\n      if (pitch !== undefined) {\n        this.setPitch(pitch, animated, callback, callbackArgs);\n        callback = undefined;\n      }\n      if (yaw !== undefined) {\n        this.setYaw(yaw, animated, callback, callbackArgs);\n        callback = undefined;\n      }\n      if (hfov !== undefined)\n        {this.setHfov(hfov, animated, callback, callbackArgs);}\n      return this;\n    };\n\n    /**\n * Returns the panorama's north offset.\n * @memberof Viewer\n * @instance\n * @returns {number} North offset in degrees\n */\n    this.getNorthOffset = function() {\n      return config.northOffset;\n    };\n\n    /**\n * Sets the panorama's north offset.\n * @memberof Viewer\n * @instance\n * @param {number} heading - North offset in degrees\n * @returns {Viewer} `this`\n */\n    this.setNorthOffset = function(heading) {\n      config.northOffset = Math.min(360, Math.max(0, heading));\n      animateInit();\n      return this;\n    };\n\n    /**\n * Returns the panorama's horizon roll.\n * @memberof Viewer\n * @instance\n * @returns {number} Horizon roll in degrees\n */\n    this.getHorizonRoll = function() {\n      return config.horizonRoll;\n    };\n\n    /**\n * Sets the panorama's horizon roll.\n * @memberof Viewer\n * @instance\n * @param {number} roll - Horizon roll in degrees [-90, 90]\n * @returns {Viewer} `this`\n */\n    this.setHorizonRoll = function(roll) {\n      config.horizonRoll = Math.min(90, Math.max(-90, roll));\n      renderer.setPose(config.horizonPitch * Math.PI / 180, config.horizonRoll * Math.PI / 180);\n      animateInit();\n      return this;\n    };\n\n    /**\n * Returns the panorama's horizon pitch.\n * @memberof Viewer\n * @instance\n * @returns {number} Horizon pitch in degrees\n */\n    this.getHorizonPitch = function() {\n      return config.horizonPitch;\n    };\n\n    /**\n * Sets the panorama's horizon pitch.\n * @memberof Viewer\n * @instance\n * @param {number} pitch - Horizon pitch in degrees [-90, 90]\n * @returns {Viewer} `this`\n */\n    this.setHorizonPitch = function(pitch) {\n      config.horizonPitch = Math.min(90, Math.max(-90, pitch));\n      renderer.setPose(config.horizonPitch * Math.PI / 180, config.horizonRoll * Math.PI / 180);\n      animateInit();\n      return this;\n    };\n\n    /**\n * Start auto rotation.\n * @memberof Viewer\n * @instance\n * @param {number} [speed] - Auto rotation speed / direction. If not specified, previous value is used.\n * @returns {Viewer} `this`\n */\n    this.startAutoRotate = function(speed) {\n      speed = speed || autoRotateSpeed || 1;\n      config.autoRotate = speed;\n      _this.lookAt(origPitch, undefined, origHfov, 3000);\n      animateInit();\n      return this;\n    };\n\n    /**\n * Stop auto rotation.\n * @memberof Viewer\n * @instance\n * @returns {Viewer} `this`\n */\n    this.stopAutoRotate = function() {\n      autoRotateSpeed = config.autoRotate ? config.autoRotate : autoRotateSpeed;\n      config.autoRotate = false;\n      config.autoRotateInactivityDelay = -1;\n      return this;\n    };\n\n    /**\n * Returns the panorama renderer.\n * @memberof Viewer\n * @instance\n * @returns {Renderer}\n */\n    this.getRenderer = function() {\n      return renderer;\n    };\n\n    /**\n * Sets update flag for dynamic content.\n * @memberof Viewer\n * @instance\n * @param {boolean} bool - Whether or not viewer should update even when still\n * @returns {Viewer} `this`\n */\n    this.setUpdate = function(bool) {\n      update = bool === true;\n      if (renderer === undefined)\n        {onImageLoad();}\n      else\n        {animateInit();}\n      return this;\n    };\n\n    /**\n * Calculate panorama pitch and yaw from location of mouse event.\n * @memberof Viewer\n * @instance\n * @param {MouseEvent} event - Document mouse down event.\n * @returns {number[]} [pitch, yaw]\n */\n    this.mouseEventToCoords = function(event) {\n      return mouseEventToCoords(event);\n    };\n\n    /**\n * Change scene being viewed.\n * @memberof Viewer\n * @instance\n * @param {string} sceneId - Identifier of scene to switch to.\n * @param {number} [pitch] - Pitch to use with new scene\n * @param {number} [yaw] - Yaw to use with new scene\n * @param {number} [hfov] - HFOV to use with new scene\n * @returns {Viewer} `this`\n */\n    this.loadScene = function(sceneId, pitch, yaw, hfov) {\n      if (loaded !== false)\n        {loadScene(sceneId, pitch, yaw, hfov);}\n      return this;\n    };\n\n    /**\n * Get ID of current scene.\n * @memberof Viewer\n * @instance\n * @returns {string} ID of current scene\n */\n    this.getScene = function() {\n      return config.scene;\n    };\n\n    /**\n * Add a new scene.\n * @memberof Viewer\n * @instance\n * @param {string} sceneId - The ID of the new scene\n * @param {string} config - The configuration of the new scene\n * @returns {Viewer} `this`\n */\n    this.addScene = function(sceneId, config) {\n      initialConfig.scenes[sceneId] = config;\n      return this;\n    };\n\n    /**\n * Remove a scene.\n * @memberof Viewer\n * @instance\n * @param {string} sceneId - The ID of the scene\n * @returns {boolean} False if the scene is the current scene or if the scene doesn't exists, else true\n */\n    this.removeScene = function(sceneId) {\n      if (config.scene === sceneId || !initialConfig.scenes.hasOwnProperty(sceneId))\n        {return false;}\n      delete initialConfig.scenes[sceneId];\n      return true;\n    };\n\n    /**\n * Toggle fullscreen.\n * @memberof Viewer\n * @instance\n * @returns {Viewer} `this`\n */\n    this.toggleFullscreen = function() {\n      toggleFullscreen();\n      return this;\n    };\n\n    /**\n * Get configuration of current scene.\n * @memberof Viewer\n * @instance\n * @returns {Object} Configuration of current scene\n */\n    this.getConfig = function() {\n      return config;\n    };\n\n    /**\n * Get viewer's container element.\n * @memberof Viewer\n * @instance\n * @returns {HTMLElement} Container `div` element\n */\n    this.getContainer = function() {\n      return container;\n    };\n\n    /**\n * Add a new hot spot.\n * @memberof Viewer\n * @instance\n * @param {Object} hs - The configuration for the hot spot\n * @param {string} [sceneId] - Adds hot spot to specified scene if provided, else to current scene\n * @returns {Viewer} `this`\n * @throws Throws an error if the scene ID is provided but invalid\n */\n    this.addHotSpot = function(hs, sceneId) {\n      if (sceneId === undefined && config.scene === undefined) {\n        // Not a tour\n        config.hotSpots.push(hs);\n      } else {\n        // Tour\n        var id = sceneId !== undefined ? sceneId : config.scene;\n        if (initialConfig.scenes.hasOwnProperty(id)) {\n          if (!initialConfig.scenes[id].hasOwnProperty('hotSpots')) {\n            initialConfig.scenes[id].hotSpots = []; // Create hot spots array if needed\n            if (id == config.scene)\n              {config.hotSpots = initialConfig.scenes[id].hotSpots;}    // Link to current config\n          }\n          initialConfig.scenes[id].hotSpots.push(hs); // Add hot spot to config\n        } else {\n          throw 'Invalid scene ID!';\n        }\n      }\n      if (sceneId === undefined || config.scene == sceneId) {\n        // Add to current scene\n        createHotSpot(hs);\n        if (loaded)\n          {renderHotSpot(hs);}\n      }\n      return this;\n    };\n\n    /**\n * Remove a hot spot.\n * @memberof Viewer\n * @instance\n * @param {string} hotSpotId - The ID of the hot spot\n * @param {string} [sceneId] - Removes hot spot from specified scene if provided, else from current scene\n * @returns {boolean} True if deletion is successful, else false\n */\n    this.removeHotSpot = function(hotSpotId, sceneId) {\n      if (sceneId === undefined || config.scene == sceneId) {\n        if (!config.hotSpots)\n          {return false;}\n        for (var i = 0; i < config.hotSpots.length; i++) {\n          if (config.hotSpots[i].hasOwnProperty('id') &&\n                config.hotSpots[i].id === hotSpotId) {\n            // Delete hot spot DOM elements\n            var current = config.hotSpots[i].div;\n            while (current.parentNode != renderContainer)\n              {current = current.parentNode;}\n            renderContainer.removeChild(current);\n            delete config.hotSpots[i].div;\n            // Remove hot spot from configuration\n            config.hotSpots.splice(i, 1);\n            return true;\n          }\n        }\n      } else {\n        if (initialConfig.scenes.hasOwnProperty(sceneId)) {\n          if (!initialConfig.scenes[sceneId].hasOwnProperty('hotSpots'))\n            {return false;}\n          for (var i = 0; i < initialConfig.scenes[sceneId].hotSpots.length; i++) {\n            if (initialConfig.scenes[sceneId].hotSpots[i].hasOwnProperty('id') &&\n                    initialConfig.scenes[sceneId].hotSpots[i].id === hotSpotId) {\n              // Remove hot spot from configuration\n              initialConfig.scenes[sceneId].hotSpots.splice(i, 1);\n              return true;\n            }\n          }\n        } else {\n          return false;\n        }\n      }\n    };\n\n    /**\n * This method should be called if the viewer's container is resized.\n * @memberof Viewer\n * @instance\n */\n    this.resize = function() {\n      if (renderer)\n        {onDocumentResize();}\n    };\n\n    /**\n * Check if a panorama is loaded.\n * @memberof Viewer\n * @instance\n * @returns {boolean} True if a panorama is loaded, else false\n */\n    this.isLoaded = function() {\n      return loaded;\n    };\n\n    /**\n * Check if device orientation control is supported.\n * @memberof Viewer\n * @instance\n * @returns {boolean} True if supported, else false\n */\n    this.isOrientationSupported = function() {\n      return orientationSupport || false;\n    };\n\n    /**\n * Stop using device orientation.\n * @memberof Viewer\n * @instance\n */\n    this.stopOrientation = function() {\n      stopOrientation();\n    };\n\n    /**\n * Start using device orientation (does nothing if not supported).\n * @memberof Viewer\n * @instance\n */\n    this.startOrientation = function() {\n      if (orientationSupport)\n        {startOrientation();}\n    };\n\n    /**\n * Check if device orientation control is currently activated.\n * @memberof Viewer\n * @instance\n * @returns {boolean} True if active, else false\n */\n    this.isOrientationActive = function() {\n      return Boolean(orientation);\n    };\n\n    /**\n * Subscribe listener to specified event.\n * @memberof Viewer\n * @instance\n * @param {string} type - Type of event to subscribe to.\n * @param {Function} listener - Listener function to subscribe to event.\n * @returns {Viewer} `this`\n */\n    this.on = function(type, listener) {\n      externalEventListeners[type] = externalEventListeners[type] || [];\n      externalEventListeners[type].push(listener);\n      return this;\n    };\n\n    /**\n * Remove an event listener (or listeners).\n * @memberof Viewer\n * @param {string} [type] - Type of event to remove listeners from. If not specified, all listeners are removed.\n * @param {Function} [listener] - Listener function to remove. If not specified, all listeners of specified type are removed.\n * @returns {Viewer} `this`\n */\n    this.off = function(type, listener) {\n      if (!type) {\n        // Remove all listeners if type isn't specified\n        externalEventListeners = {};\n        return this;\n      }\n      if (listener) {\n        var i = externalEventListeners[type].indexOf(listener);\n        if (i >= 0) {\n          // Remove listener if found\n          externalEventListeners[type].splice(i, 1);\n        }\n        if (externalEventListeners[type].length == 0) {\n          // Remove category if empty\n          delete externalEventListeners[type];\n        }\n      } else {\n        // Remove category of listeners if listener isn't specified\n        delete externalEventListeners[type];\n      }\n      return this;\n    };\n\n    /**\n * Fire listeners attached to specified event.\n * @private\n * @param {string} [type] - Type of event to fire listeners for.\n */\n    function fireEvent(type) {\n      if (type in externalEventListeners) {\n        // Reverse iteration is useful, if event listener is removed inside its definition\n        for (var i = externalEventListeners[type].length; i > 0; i--) {\n          externalEventListeners[type][externalEventListeners[type].length - i].apply(null, [].slice.call(arguments, 1));\n        }\n      }\n    }\n\n    /**\n * Destructor.\n * @instance\n * @memberof Viewer\n */\n    this.destroy = function() {\n      if (renderer)\n        {renderer.destroy()};\n      if (listenersAdded) {\n        dragFix.removeEventListener('mousedown', onDocumentMouseDown, false);\n        dragFix.removeEventListener('dblclick', onDocumentDoubleClick, false);\n        document.removeEventListener('mousemove', onDocumentMouseMove, false);\n        document.removeEventListener('mouseup', onDocumentMouseUp, false);\n        container.removeEventListener('mousewheel', onDocumentMouseWheel, false);\n        container.removeEventListener('DOMMouseScroll', onDocumentMouseWheel, false);\n        container.removeEventListener('mozfullscreenchange', onFullScreenChange, false);\n        container.removeEventListener('webkitfullscreenchange', onFullScreenChange, false);\n        container.removeEventListener('msfullscreenchange', onFullScreenChange, false);\n        container.removeEventListener('fullscreenchange', onFullScreenChange, false);\n        window.removeEventListener('resize', onDocumentResize, false);\n        window.removeEventListener('orientationchange', onDocumentResize, false);\n        container.removeEventListener('keydown', onDocumentKeyPress, false);\n        container.removeEventListener('keyup', onDocumentKeyUp, false);\n        container.removeEventListener('blur', clearKeys, false);\n        document.removeEventListener('mouseleave', onDocumentMouseUp, false);\n        dragFix.removeEventListener('touchstart', onDocumentTouchStart, false);\n        dragFix.removeEventListener('touchmove', onDocumentTouchMove, false);\n        dragFix.removeEventListener('touchend', onDocumentTouchEnd, false);\n        dragFix.removeEventListener('pointerdown', onDocumentPointerDown, false);\n        dragFix.removeEventListener('pointermove', onDocumentPointerMove, false);\n        dragFix.removeEventListener('pointerup', onDocumentPointerUp, false);\n        dragFix.removeEventListener('pointerleave', onDocumentPointerUp, false);\n      }\n      container.innerHTML = '';\n      container.classList.remove('pnlm-container');\n      uiContainer.classList.remove('pnlm-grab');\n      uiContainer.classList.remove('pnlm-grabbing');\n    };\n\n  }\n\n  return {\n    viewer: function(container, config) {\n      return new Viewer(container, config);\n    }\n  };\n\n})(window, document);\n","/* eslint-disable */\n\n/**\n * Provides requestAnimationFrame in a cross browser way.\n * http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n */\n\nif (!window.requestAnimationFrame) {\n  window.requestAnimationFrame = (function () {\n    return (\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.oRequestAnimationFrame ||\n      window.msRequestAnimationFrame ||\n      function (\n        /* function FrameRequestCallback */ callback,\n        /* DOMElement Element */ element\n      ) {\n        window.setTimeout(callback, 1000 / 60)\n      }\n    )\n  })()\n}\n","// Cheap CSS minification to remove multiple spaces (indentation) and new lines\nconst minifyCssString = (cssString) => cssString.replace(/ {2,}|\\n/g, '')\n\nexport default minifyCssString\n","import React from 'react'\nimport { node, bool } from 'prop-types'\n\nconst HotspotDebugContext = React.createContext()\n\nconst HotspotDebugContextProvider = ({ children, active }) => (\n  <HotspotDebugContext.Provider value={active}>\n    {children}\n  </HotspotDebugContext.Provider>\n)\n\nHotspotDebugContextProvider.propTypes = {\n  children: node.isRequired,\n  active: bool\n}\n\nconst HotspotDebugContextConsumer = HotspotDebugContext.Consumer\n\nexport {\n  HotspotDebugContext,\n  HotspotDebugContextProvider,\n  HotspotDebugContextConsumer\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"Player\":\"Player-module__Player___1SPHg\",\"PlayerContent\":\"Player-module__PlayerContent___1JUhY\",\"infoOnLeft\":\"Player-module__infoOnLeft___kOOCK\",\"PlayerViewer\":\"Player-module__PlayerViewer___2fsxo\",\"infoHidden\":\"Player-module__infoHidden___oxhHP\",\"PlayerInfo\":\"Player-module__PlayerInfo___2TlF1\",\"PlayerInfoInner\":\"Player-module__PlayerInfoInner___3ac3B\",\"heightMatch\":\"Player-module__heightMatch___3mdxO\"};","// extracted by mini-css-extract-plugin\nexport default {\"Header\":\"Header-module__Header___e62hV\"};","const svgDimensionsFormatter = (svg) => {\n  const svgProps = svg().props\n  const { width, height, viewBox } = svgProps\n\n  if (width && height) return { width, height }\n\n  if (viewBox) {\n    const viewBoxSplit = viewBox.split(' ')\n    return {\n      width: parseInt(viewBoxSplit[2], 10),\n      height: parseInt(viewBoxSplit[3], 10)\n    }\n  }\n\n  return {\n    width: 0,\n    height: 0\n  }\n}\n\nexport default svgDimensionsFormatter\n","// Expects target and native to be objects containing\n// width and height keys.\n\nconst ratioScaler = (target, native) => {\n  if (target.width && target.height) return target\n  if (!target.width && !target.height) return native\n\n  const ratio = target.width / native.width || target.height / native.height\n\n  return {\n    width: native.width * ratio,\n    height: native.height * ratio,\n    ratio: ratio\n  }\n}\n\nexport default ratioScaler\n","// extracted by mini-css-extract-plugin\nexport default {\"Icon\":\"Icon-module__Icon___3PP-T\",\"baseline\":\"Icon-module__baseline___kmbI-\",\"bottom\":\"Icon-module__bottom___13Qga\",\"middle\":\"Icon-module__middle___2OCOv\",\"top\":\"Icon-module__top___33iJP\"};","import React from 'react'\nimport { number, oneOf, string } from 'prop-types'\nimport classNames from 'classnames'\n\nimport svgDimensionsFormatter from '../../../lib/svg-dimensions-formatter'\nimport ratioScaler from '../../../lib/ratio-scaler'\n\nimport styles from './Icon.module.scss'\n\nconst svgs = require.context('../../../asset/svg/icon/', false, /\\.svg$/)\n\n// Exported to allow iteration in storybook\nexport const vAligns = ['baseline', 'bottom', 'middle', 'top']\nexport const types = svgs\n  .keys()\n  .map((key) => key.replace(`./`, '').replace(`.svg`, ''))\n\nconst Icon = ({ a11yText, className, type, height, width, vAlign }) => {\n  const SvgType = svgs(`./${type}.svg`).default\n\n  const targetDimensions = { width, height }\n  const nativeDimensions = svgDimensionsFormatter(SvgType)\n  const ratioDimensions = ratioScaler(\n    targetDimensions,\n    nativeDimensions,\n    'ceil'\n  )\n\n  return (\n    <span\n      className={classNames(styles.Icon, vAlign && styles[vAlign], className)}\n      {...(a11yText && {\n        role: 'img',\n        'aria-label': a11yText\n      })}\n      {...(!a11yText && {\n        'aria-hidden': 'true'\n      })}\n      style={{\n        width: `${ratioDimensions.width}px`,\n        height: `${ratioDimensions.height}px`,\n        lineHeight: `${ratioDimensions.height}px`\n      }}\n    >\n      <SvgType />\n    </span>\n  )\n}\n\nIcon.propTypes = {\n  a11yText: string.isRequired,\n  className: string,\n  type: oneOf(types).isRequired,\n  height: number,\n  width: number,\n  vAlign: oneOf(vAligns)\n}\n\nexport default Icon\n","// extracted by mini-css-extract-plugin\nexport default {\"VisuallyHidden\":\"VisuallyHidden-module__VisuallyHidden___3elg7\"};","import React from 'react'\nimport { node } from 'prop-types'\n\nimport styles from './VisuallyHidden.module.scss'\n\nconst VisuallyHidden = ({ children }) => (\n  <span className={styles.VisuallyHidden}>{children}</span>\n)\n\nVisuallyHidden.propTypes = {\n  children: node.isRequired\n}\n\nexport default VisuallyHidden\n","import React from 'react'\n// import { node } from 'prop-types'\n\nimport styles from './Header.module.scss'\n\nimport Icon from '../../Primitive/Icon'\nimport VisuallyHidden from '../../Primitive/VisuallyHidden'\n\nconst Header = () => (\n  <header role=\"banner\" className={styles.Header}>\n    <div className={styles.HeaderInner}>\n      <h1>\n        <a href=\"https://auto.works/\">\n          <Icon type=\"logo\" width={164} a11yText=\"\" />\n          <VisuallyHidden>Auto.Works</VisuallyHidden>\n        </a>\n      </h1>\n    </div>\n  </header>\n)\n\nHeader.propTypes = {}\n\nexport default Header\n","// extracted by mini-css-extract-plugin\nexport default {\"InfoPanelDefaultContent\":\"InfoPanel-module__InfoPanelDefaultContent___2hCx1\"};","// extracted by mini-css-extract-plugin\nexport default {\"Panel\":\"Panel-module__Panel___2Gt1v\",\"PanelContent\":\"Panel-module__PanelContent___1wBwm\"};","// extracted by mini-css-extract-plugin\nexport default {\"ScrollArea\":\"ScrollArea-module__ScrollArea___3Dmlu\",\"horizontal\":\"ScrollArea-module__horizontal___3_xts\",\"vertical\":\"ScrollArea-module__vertical___3ZoN7\",\"hideScrollbar\":\"ScrollArea-module__hideScrollbar___2tAwJ\"};","import React from 'react'\nimport classNames from 'classnames'\nimport { bool, node } from 'prop-types'\n\nimport styles from './ScrollArea.module.scss'\n\nconst ScrollArea = ({ hideScrollbar, horizontal, children }) => (\n  <div\n    className={classNames(\n      styles.ScrollArea,\n      hideScrollbar && styles.hideScrollbar,\n      horizontal ? styles.horizontal : styles.vertical\n    )}\n  >\n    {children}\n  </div>\n)\n\nScrollArea.propTypes = {\n  hideScrollbar: bool,\n  horizontal: bool,\n  children: node.isRequired\n}\n\nexport default ScrollArea\n","import React from 'react'\nimport { node } from 'prop-types'\n\nimport styles from './Panel.module.scss'\n\nimport ScrollArea from '@/component/Primitive/ScrollArea'\n\nconst Panel = ({ children }) => (\n  <div className={styles.Panel}>\n    <ScrollArea>\n      <div className={styles.PanelContent}>{children}</div>\n    </ScrollArea>\n  </div>\n)\n\nPanel.propTypes = {\n  children: node.isRequired\n}\n\nexport default Panel\n","// extracted by mini-css-extract-plugin\nexport default {\"Rule\":\"Rule-module__Rule___2RgF_\"};","import React from 'react'\nimport { bool } from 'prop-types'\n\nimport styles from './Rule.module.scss'\n\nconst Rule = ({ functional }) => {\n  const RuleEl = functional ? 'hr' : 'div'\n  return <RuleEl className={styles.Rule} />\n}\n\nRule.propTypes = {\n  functional: bool\n}\n\nexport default Rule\n","// extracted by mini-css-extract-plugin\nexport default {\"small\":\"Stack-module__small___1_oX-\",\"medium\":\"Stack-module__medium___2BeLz\",\"large\":\"Stack-module__large___1akWS\"};","import React from 'react'\nimport classNames from 'classnames'\nimport { node, oneOf } from 'prop-types'\n// import sassKeysToArray from '../../../lib/sass-keys-to-array'\n\nimport styles from './Stack.module.scss'\n\nconst gaps = ['small', 'medium', 'large']\n\nconst Stack = ({ children, gap }) => (\n  <div className={classNames(styles.Stack, gap && styles[gap])}>{children}</div>\n)\n\nStack.defaultProps = {\n  gap: 'medium'\n}\n\nStack.propTypes = {\n  children: node.isRequired,\n  // gap: oneOf(sassKeysToArray(styles.gaps))\n  gap: oneOf(gaps)\n}\n\nexport default Stack\n","// extracted by mini-css-extract-plugin\nexport default {\"Tag\":\"Tag-module__Tag___2JQTF\"};","import React from 'react'\nimport { string } from 'prop-types'\n\nimport styles from './Tag.module.scss'\n\nconst Tag = ({ children }) => <li className={styles.Tag}>{children}</li>\n\nTag.propTypes = {\n  children: string.isRequired\n}\n\nexport default Tag\n","// extracted by mini-css-extract-plugin\nexport default {\"Inline\":\"Inline-module__Inline___3CH8i\",\"shrink\":\"Inline-module__shrink___2wFVj\",\"small\":\"Inline-module__small___2_Erq\",\"medium\":\"Inline-module__medium___SJuj3\",\"large\":\"Inline-module__large___6dvPP\"};","import React from 'react'\nimport classNames from 'classnames'\nimport { bool, node, oneOf, string } from 'prop-types'\n// import sassKeysToArray from '../../../lib/sass-keys-to-array'\n\nimport styles from './Inline.module.scss'\n\n// const gaps = sassKeysToArray(styles.gaps)\nconst gaps = ['small', 'medium', 'large']\n\nconst Inline = ({ as, children, gap, shrink }) => {\n  const InlineEl = as || 'div'\n\n  return (\n    <InlineEl\n      className={classNames(\n        styles.Inline,\n        gap && styles[gap],\n        shrink && styles.shrink\n      )}\n    >\n      {children}\n    </InlineEl>\n  )\n}\n\nInline.defaultProps = {\n  gap: 'medium'\n}\n\nInline.propTypes = {\n  as: string,\n  children: node.isRequired,\n  gap: oneOf(gaps),\n  shrink: bool\n}\n\nexport default Inline\n","import React from 'react'\nimport { node } from 'prop-types'\n\nimport Inline from '../Inline'\n\nconst TagList = ({ children }) => (\n  <div>\n    <Inline as=\"ul\" gap=\"small\">\n      {children}\n    </Inline>\n  </div>\n)\n\nTagList.propTypes = {\n  children: node.isRequired\n}\n\nexport default TagList\n","// extracted by mini-css-extract-plugin\nexport default {\"Type\":\"Type-module__Type___9TGl7\",\"display2\":\"Type-module__display2___12-mB\",\"display1\":\"Type-module__display1___19N1_\",\"base\":\"Type-module__base___Tslm-\",\"bold\":\"Type-module__bold___3SxwL\",\"tight\":\"Type-module__tight___2-MYU\"};","import React from 'react'\nimport { node, string } from 'prop-types'\n\nconst Element = ({ as, ...other }) => {\n  const ElementEl = as\n\n  return <ElementEl {...other} />\n}\n\nElement.defaultProps = {\n  as: 'div'\n}\n\nElement.propTypes = {\n  children: node.isRequired,\n  as: string\n}\n\nexport default Element\n","import React from 'react'\nimport { bool, node, oneOf, string } from 'prop-types'\nimport classNames from 'classnames'\n\nimport styles from './Type.module.scss'\n\nimport Element from '../Element'\n\nexport const sizes = [\n  'display2',\n  'display1',\n  'title',\n  'subtitle',\n  'base',\n  'small',\n  'tiny'\n]\n\nconst Type = ({ bold, children, className, as, size, tight }) => (\n  <Element\n    as={as}\n    className={classNames(\n      styles.Type,\n      size && styles[size],\n      bold && styles.bold,\n      tight && styles.tight,\n      className\n    )}\n  >\n    {children}\n  </Element>\n)\n\nType.displayName = 'Type'\n\nType.defaultProps = {\n  as: 'div',\n  size: 'base'\n}\n\nType.propTypes = {\n  bold: bool,\n  children: node.isRequired,\n  className: string,\n  as: string,\n  size: oneOf(sizes),\n  tight: bool\n}\n\nexport default Type\n","import React from 'react'\nimport { arrayOf, node, string } from 'prop-types'\n\nimport styles from './InfoPanel.module.scss'\n\nimport Panel from '@/component/Primitive/Panel'\nimport Rule from '@/component/Primitive/Rule'\nimport Stack from '@/component/Primitive/Stack'\nimport Tag from '@/component/Primitive/Tag'\nimport TagList from '@/component/Primitive/TagList'\nimport Type from '@/component/Primitive/Type'\n\nconst InfoPanel = ({\n  children,\n  text,\n  textSecondary,\n  tags,\n  heading,\n  headingSecondary\n}) => (\n  <Panel>\n    <Stack>\n      <div className={styles.InfoPanelDefaultContent}>\n        <Stack>\n          {(heading || text) && (\n            <div>\n              <Type as=\"h1\" size=\"display2\">\n                {heading}\n              </Type>\n              <Type as=\"p\" size=\"base\">\n                {text}\n              </Type>\n            </div>\n          )}\n\n          {tags.length > 0 && (\n            <TagList>\n              {tags.map((tag, i) => (\n                <Tag key={`Tag:${i}`}>{tag}</Tag>\n              ))}\n            </TagList>\n          )}\n\n          {(headingSecondary || textSecondary) && (\n            <>\n              <Rule />\n              <div>\n                <Type as=\"h2\" size=\"display1\">\n                  {headingSecondary}\n                </Type>\n                <Type as=\"p\" size=\"base\">\n                  {textSecondary}\n                </Type>\n              </div>\n            </>\n          )}\n        </Stack>\n      </div>\n      {children}\n    </Stack>\n  </Panel>\n)\n\nInfoPanel.defaultProps = {\n  tags: []\n}\n\nInfoPanel.propTypes = {\n  children: node,\n  heading: string,\n  text: string,\n  tags: arrayOf(string),\n  headingSecondary: string,\n  textSecondary: string\n}\n\nexport default InfoPanel\n","import { useEffect } from 'react'\n\nconst useEscapeKey = (callback) => {\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      if (e.keyCode === 27) {\n        callback(e)\n      }\n    }\n\n    document.addEventListener('keydown', handleKeyDown)\n\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown)\n    }\n  }, [callback])\n}\n\nexport default useEscapeKey\n","import { useEffect } from 'react'\n\nconst useOutsideClick = (ref, callback) => {\n  useEffect(() => {\n    const handleClick = (e) => {\n      if (ref.current && !ref.current.contains(e.target)) {\n        callback(e)\n      }\n    }\n\n    document.addEventListener('mousedown', handleClick)\n    document.addEventListener('touchstart', handleClick)\n\n    return () => {\n      document.removeEventListener('mousedown', handleClick)\n      document.removeEventListener('touchstart', handleClick)\n    }\n  }, [ref, callback])\n}\n\nexport default useOutsideClick\n","// extracted by mini-css-extract-plugin\nexport default {\"Modal\":\"Modal-module__Modal___tGdAp\",\"ModalInner\":\"Modal-module__ModalInner___NKcjh\",\"ModalBg\":\"Modal-module__ModalBg___i2KKg\",\"modal-fade-in\":\"Modal-module__modal-fade-in___31IsH\",\"ModalContent\":\"Modal-module__ModalContent___2JIdU\",\"ModalLogo\":\"Modal-module__ModalLogo___1QXyj\"};","import React, { useRef } from 'react'\nimport { createPortal } from 'react-dom'\nimport { bool, func, node, number, object, string } from 'prop-types'\nimport useEscapeKey from '../../../hook/useEscapeKey'\nimport useOutsideClick from '../../../hook/useOutsideClick'\nimport minifyCssString from '@/lib/css-string-minifier'\n\nimport FocusTrap from 'focus-trap-react'\n\nimport styles from './Modal.module.scss'\n\nimport VisuallyHidden from '../VisuallyHidden'\n\nconst Modal = ({\n  ariaLabel,\n  children,\n  onClose,\n  open,\n  role,\n  watermark,\n  colors,\n  zIndex\n}) => {\n  const ref = useRef()\n\n  const handleClose = () => {\n    open && onClose && onClose()\n  }\n\n  useEscapeKey(handleClose)\n  useOutsideClick(ref, handleClose)\n\n  if (!open) return null\n  if (typeof window === 'undefined') return null\n\n  const area = document.getElementById('player-portal') || document.body\n\n  return createPortal(\n    <aside\n      className={styles.Modal}\n      role={role}\n      aria-label={ariaLabel}\n      aria-modal=\"true\"\n      style={{ ...(zIndex && { zIndex }) }}\n    >\n      <style\n        dangerouslySetInnerHTML={{\n          __html: minifyCssString(`\n            .${styles.Modal} {\n              --color-accent: ${colors.accent};\n              --color-accent-text: ${colors.accentText};\n            }\n          `)\n        }}\n      />\n      <FocusTrap>\n        <div className={styles.ModalInner}>\n          <div className={styles.ModalBg} />\n          <div className={styles.ModalContent} ref={ref}>\n            <VisuallyHidden>\n              <button name=\"modal-content\" tabIndex=\"0\">\n                Modal content start\n              </button>\n            </VisuallyHidden>\n            {children}\n          </div>\n          {watermark && <div className={styles.ModalLogo}>{watermark}</div>}\n        </div>\n      </FocusTrap>\n    </aside>,\n    area\n  )\n}\n\nModal.defaultProps = {\n  role: 'dialog'\n}\n\nModal.propTypes = {\n  actions: node,\n  ariaLabel: string.isRequired,\n  children: node.isRequired,\n  onClose: func,\n  open: bool,\n  role: string,\n  watermark: node,\n  colors: object,\n  zIndex: number\n}\n\nexport default Modal\n","// extracted by mini-css-extract-plugin\nexport default {\"ModalHeader\":\"ModalHeader-module__ModalHeader___3Akpj\",\"ModalHeaderContent\":\"ModalHeader-module__ModalHeaderContent___3nXGI\",\"ModalHeaderHeading\":\"ModalHeader-module__ModalHeaderHeading___Wt1Be\",\"ModalHeaderDescription\":\"ModalHeader-module__ModalHeaderDescription___2Gd90\",\"ModalHeaderActions\":\"ModalHeader-module__ModalHeaderActions___UrFs2\",\"inverse\":\"ModalHeader-module__inverse___1mdGV\"};","// extracted by mini-css-extract-plugin\nexport default {\"IconButton\":\"IconButton-module__IconButton___3Zr82\",\"IconButtonInner\":\"IconButton-module__IconButtonInner___1Hsg3\",\"IconButtonText\":\"IconButton-module__IconButtonText___2qQYU\",\"rounded\":\"IconButton-module__rounded___3Mbhj\",\"primary\":\"IconButton-module__primary___1_H58\",\"solid\":\"IconButton-module__solid___3vSHT\",\"light\":\"IconButton-module__light___23UxV\",\"small\":\"IconButton-module__small___wtw9T\",\"increaseHitArea\":\"IconButton-module__increaseHitArea___nlZ8S\"};","import React from 'react'\nimport { bool, func, node, oneOf, string } from 'prop-types'\n\nconst SmartLink = ({\n  children,\n  className,\n  disabled,\n  href,\n  setRef,\n  to,\n  target,\n  type,\n  ...other\n}) => {\n  // Standard link, use an `anchor` element\n  if (href) {\n    return (\n      <a\n        className={className}\n        ref={setRef}\n        {...(!disabled && { href })}\n        {...(disabled && { 'aria-disabled': 'true' })}\n        {...(target && { target })}\n        {...(target === '_blank' && { rel: 'noopener noreferrer' })}\n        {...other}\n      >\n        {children}\n      </a>\n    )\n  }\n\n  // No `href` or `to` means we need a `button` element\n  return (\n    <button\n      className={className}\n      type={type}\n      ref={setRef}\n      {...(disabled && { disabled })}\n      {...other}\n    >\n      {children}\n    </button>\n  )\n}\n\nSmartLink.defaultProps = {\n  type: 'button'\n}\n\nSmartLink.propTypes = {\n  children: node.isRequired,\n  className: string,\n  disabled: bool,\n  href: string,\n  setRef: func,\n  to: string,\n  target: string,\n  type: oneOf(['button', 'reset', 'submit'])\n}\n\nexport default SmartLink\n","import React from 'react'\nimport { bool, number, string } from 'prop-types'\nimport classNames from 'classnames'\n\nimport styles from './IconButton.module.scss'\n\nimport Icon from '../Icon'\nimport SmartLink from '../SmartLink'\n\nconst IconButton = ({\n  a11yText,\n  children,\n  className,\n  icon,\n  iconHeight,\n  iconWidth,\n  increaseHitArea,\n  light,\n  primary,\n  rounded,\n  small,\n  solid,\n  ...other\n}) => (\n  <SmartLink\n    className={classNames(\n      styles.IconButton,\n      increaseHitArea && styles.increaseHitArea,\n      light && styles.light,\n      rounded && styles.rounded,\n      primary && styles.primary,\n      small && styles.small,\n      solid && styles.solid,\n      className\n    )}\n    {...other}\n  >\n    <div className={styles.IconButtonInner}>\n      <Icon\n        type={icon}\n        height={iconHeight}\n        width={iconWidth}\n        a11yText={a11yText}\n      />\n      {children && <span className={styles.IconButtonText}>{children}</span>}\n    </div>\n  </SmartLink>\n)\n\nIconButton.propTypes = {\n  a11yText: string.isRequired,\n  children: string,\n  className: string,\n  icon: string.isRequired,\n  iconHeight: number,\n  iconWidth: number,\n  increaseHitArea: bool,\n  light: bool,\n  primary: bool,\n  rounded: bool,\n  small: bool,\n  solid: bool\n}\n\nexport default IconButton\n","// extracted by mini-css-extract-plugin\nexport default {\"ButtonGroupWrapper\":\"ButtonGroupWrapper-module__ButtonGroupWrapper___Paj5F\",\"disabled\":\"ButtonGroupWrapper-module__disabled___ufvtd\",\"inverse\":\"ButtonGroupWrapper-module__inverse___rKkHm\"};","import React from 'react'\nimport classNames from 'classnames'\nimport { bool, node } from 'prop-types'\n\nimport styles from './ButtonGroupWrapper.module.scss'\n\nconst ButtonGroupWrapper = ({ children, disabled, inverse }) => (\n  <div\n    className={classNames(\n      styles.ButtonGroupWrapper,\n      disabled && styles.disabled,\n      inverse && styles.inverse\n    )}\n    role=\"group\"\n  >\n    {children}\n  </div>\n)\n\nButtonGroupWrapper.propTypes = {\n  children: node.isRequired,\n  disabled: bool,\n  inverse: bool\n}\n\nexport default ButtonGroupWrapper\n","// extracted by mini-css-extract-plugin\nexport default {\"ButtonGroupItem\":\"ButtonGroupItem-module__ButtonGroupItem___1yDq4\",\"active\":\"ButtonGroupItem-module__active___21P19\",\"tight\":\"ButtonGroupItem-module__tight___1oZst\",\"ButtonGroupItemIcon\":\"ButtonGroupItem-module__ButtonGroupItemIcon___39Ibp\"};","import React from 'react'\nimport classNames from 'classnames'\nimport { bool, node, oneOf } from 'prop-types'\n\nimport styles from './ButtonGroupItem.module.scss'\n\nimport Icon from '@/component/Primitive/Icon'\nimport SmartLink from '@/component/Primitive/SmartLink'\n\nconst ButtonGroupItem = ({\n  active,\n  children,\n  icon,\n  inactive,\n  tight,\n  ...other\n}) => {\n  const ButtonGroupItemEl = inactive ? 'div' : SmartLink\n\n  return (\n    <ButtonGroupItemEl\n      className={classNames(\n        styles.ButtonGroupItem,\n        active && styles.active,\n        tight && styles.tight\n      )}\n      {...other}\n    >\n      {icon && (\n        <span className={styles.ButtonGroupItemIcon}>\n          <Icon type={icon} height={20} a11yText=\"\" />\n        </span>\n      )}\n      {children}\n    </ButtonGroupItemEl>\n  )\n}\n\nButtonGroupItem.propTypes = {\n  active: bool,\n  children: node.isRequired,\n  icon: oneOf(['photo', 'rotate-camera', 'video']),\n  inactive: bool,\n  tight: bool\n}\n\nexport default ButtonGroupItem\n","import ButtonGroupWrapper from './component/ButtonGroupWrapper'\nimport ButtonGroupItem from './component/ButtonGroupItem'\n\nconst ButtonGroup = ButtonGroupWrapper\nButtonGroup.displayName = 'ButtonGroup'\n\nButtonGroup.Item = ButtonGroupItem\nButtonGroup.Item.displayName = 'ButtonGroup.Item'\n\nexport default ButtonGroup\n","import React from 'react'\nimport { array, bool, func, string } from 'prop-types'\n\nimport ButtonGroup from '../ButtonGroup'\n\nconst typeMap = {\n  exterior: { title: 'Exterior', icon: 'rotate-camera' },\n  interior: { title: 'Interior', icon: 'rotate-camera' },\n  photo: { title: 'Photo', icon: 'photo' },\n  video: { title: 'Video', icon: 'video' }\n}\n\nconst TypeNav = ({ activeType, availableTypes, inverse, onChange }) => (\n  <ButtonGroup inverse={inverse}>\n    {availableTypes.map((type, i) => (\n      <ButtonGroup.Item\n        key={`ButtonGroupItem:${i}`}\n        active={activeType === type}\n        icon={typeMap[type].icon}\n        onClick={() => onChange(type)}\n      >\n        {typeMap[type].title}\n      </ButtonGroup.Item>\n    ))}\n  </ButtonGroup>\n)\n\nTypeNav.defaultProps = {\n  availableTypes: []\n}\n\nTypeNav.propTypes = {\n  activeType: string,\n  availableTypes: array,\n  inverse: bool,\n  onChange: func\n}\n\nexport default TypeNav\n","import React from 'react'\nimport { array, bool, func, string } from 'prop-types'\nimport classNames from 'classnames'\n\nimport styles from './ModalHeader.module.scss'\n\nimport IconButton from '../IconButton'\nimport TypeNav from '../TypeNav'\n\nconst ModalHeader = ({\n  activeType,\n  availableTypes,\n  description,\n  heading,\n  inverse,\n  onChange,\n  onClose\n}) => (\n  <div className={classNames(styles.ModalHeader, inverse && styles.inverse)}>\n    <div className={styles.ModalHeaderContent}>\n      {heading && <div className={styles.ModalHeaderHeading}>{heading}</div>}\n      {description && (\n        <div className={styles.ModalHeaderDescription}>{description}</div>\n      )}\n    </div>\n    {availableTypes.length > 1 && (\n      <div className={styles.ModalHeaderActions}>\n        <TypeNav\n          availableTypes={availableTypes}\n          activeType={activeType}\n          inverse\n          onChange={onChange}\n        />\n      </div>\n    )}\n    <div>\n      <IconButton\n        type=\"button\"\n        icon=\"close\"\n        a11yText=\"Close Modal\"\n        onClick={onClose}\n        small\n      />\n    </div>\n  </div>\n)\n\nModalHeader.defaultProps = {\n  availableTypes: []\n}\n\nModalHeader.propTypes = {\n  activeType: string,\n  availableTypes: array,\n  description: string,\n  heading: string,\n  inverse: bool,\n  onChange: func,\n  onClose: func\n}\n\nexport default ModalHeader\n","// extracted by mini-css-extract-plugin\nexport default {\"Spinner\":\"Spinner-module__Spinner___1Czbt\",\"spinner-reveal\":\"Spinner-module__spinner-reveal___1xDjA\",\"SpinnerInner\":\"Spinner-module__SpinnerInner___1YkGb\",\"spinner-dot-fade\":\"Spinner-module__spinner-dot-fade___-jo2W\",\"paused\":\"Spinner-module__paused___uDyES\"};","import React from 'react'\nimport { bool, number, string } from 'prop-types'\nimport classNames from 'classnames'\n\nimport styles from './Spinner.module.scss'\n\nimport VisuallyHidden from '../VisuallyHidden'\n\nconst paths = [\n  'M8.1,6.3L8.1,6.3C7.7,6.5,7.1,6.4,6.9,6L5.2,3C5,2.6,5.1,2.1,5.5,1.8 c0.4-0.2,0.9-0.1,1.2,0.3l1.7,3C8.6,5.5,8.5,6.1,8.1,6.3',\n  'M6.3,8.1L6.3,8.1C6.1,8.5,5.5,8.6,5.1,8.4l-3-1.7C1.7,6.4,1.6,5.9,1.8,5.5 S2.6,5,3,5.2l3,1.7C6.4,7.1,6.5,7.7,6.3,8.1',\n  'M5.6,10.5L5.6,10.5c0,0.5-0.4,0.9-0.9,0.9H1.4c-0.5,0-0.9-0.4-0.9-0.9 s0.4-0.9,0.9-0.9h3.4C5.3,9.6,5.6,10,5.6,10.5',\n  'M6.3,12.9L6.3,12.9c0.2,0.4,0.1,0.9-0.3,1.2l-3,1.7c-0.4,0.2-0.9,0.1-1.2-0.3 s-0.1-0.9,0.3-1.2l3-1.7C5.5,12.4,6.1,12.5,6.3,12.9',\n  'M8.1,14.7L8.1,14.7c0.4,0.2,0.5,0.8,0.3,1.2l-1.7,3c-0.2,0.4-0.8,0.5-1.2,0.3 C5.1,18.9,5,18.4,5.2,18l1.7-3C7.1,14.6,7.7,14.5,8.1,14.7',\n  'M10.5,15.4L10.5,15.4c0.5,0,0.9,0.4,0.9,0.9v3.4c0,0.5-0.4,0.9-0.9,0.9 s-0.9-0.4-0.9-0.9v-3.4C9.6,15.7,10,15.4,10.5,15.4',\n  'M12.9,14.7L12.9,14.7c0.4-0.2,0.9-0.1,1.2,0.3l1.7,3c0.2,0.4,0.1,0.9-0.3,1.2 c-0.4,0.2-0.9,0.1-1.2-0.3l-1.7-3C12.4,15.5,12.5,14.9,12.9,14.7',\n  'M14.7,12.9L14.7,12.9c0.2-0.4,0.8-0.5,1.2-0.3l3,1.7c0.4,0.2,0.5,0.8,0.3,1.2 c-0.2,0.4-0.8,0.5-1.2,0.3l-3-1.7C14.6,13.9,14.5,13.3,14.7,12.9',\n  'M15.4,10.5L15.4,10.5c0-0.5,0.4-0.9,0.9-0.9h3.4c0.5,0,0.9,0.4,0.9,0.9 s-0.4,0.9-0.9,0.9h-3.4C15.7,11.4,15.4,11,15.4,10.5',\n  'M14.7,8.1L14.7,8.1c-0.2-0.4-0.1-0.9,0.3-1.2l3-1.7c0.4-0.2,0.9-0.1,1.2,0.3 c0.2,0.4,0.1,0.9-0.3,1.2l-3,1.7C15.5,8.6,14.9,8.5,14.7,8.1',\n  'M12.9,6.3L12.9,6.3c-0.4-0.2-0.5-0.8-0.3-1.2l1.7-3c0.2-0.4,0.8-0.5,1.2-0.3 C15.9,2.1,16,2.6,15.8,3l-1.7,3C13.9,6.4,13.3,6.5,12.9,6.3',\n  'M10.5,5.6L10.5,5.6c-0.5,0-0.9-0.4-0.9-0.9V1.4c0-0.5,0.4-0.9,0.9-0.9 s0.9,0.4,0.9,0.9v3.4C11.4,5.3,11,5.6,10.5,5.6'\n]\n\nconst Spinner = ({ a11yText, paused, revealDelay, size }) => (\n  <div\n    className={classNames(styles.Spinner, paused && styles.paused)}\n    role=\"alert\"\n    aria-live=\"assertive\"\n    style={{\n      ...(revealDelay && { animationDelay: `${revealDelay}ms` }),\n      ...(size && {\n        height: size,\n        lineHeight: `${size}px`,\n        width: size\n      })\n    }}\n  >\n    <div className={classNames(styles.SpinnerInner)}>\n      <VisuallyHidden>{a11yText}</VisuallyHidden>\n      <svg viewBox=\"0 0 21 21\">\n        {paths.map((path, i) => (\n          <path key={i} d={path} />\n        ))}\n      </svg>\n    </div>\n  </div>\n)\n\nSpinner.defaultProps = {\n  a11yText: 'Loading'\n}\n\nSpinner.propTypes = {\n  a11yText: string,\n  paused: bool,\n  revealDelay: number,\n  size: number\n}\n\nexport default Spinner\n","// extracted by mini-css-extract-plugin\nexport default {\"Splash\":\"Splash-module__Splash___DgrPi\",\"exiting\":\"Splash-module__exiting___1eMgr\"};","import React, { useEffect, useState } from 'react'\nimport classNames from 'classnames'\nimport { func, number } from 'prop-types'\n\nimport styles from './Splash.module.scss'\n\nimport Icon from '../Icon'\n\nconst Splash = ({ duration, onComplete }) => {\n  const [exiting, setExiting] = useState(false)\n  const [complete, setComplete] = useState(false)\n\n  const exitingDuration = 500\n  const exitingDurationOffset = Math.max(duration - 500, 0)\n\n  useEffect(() => {\n    const exitingTimer = setTimeout(() => {\n      setExiting(true)\n    }, exitingDurationOffset)\n    const completeTimer = setTimeout(() => {\n      setComplete(true)\n      onComplete && onComplete()\n    }, duration)\n\n    return () => {\n      clearTimeout(exitingTimer)\n      clearTimeout(completeTimer)\n    }\n  }, [duration, exitingDurationOffset, onComplete])\n\n  if (complete) return null\n\n  return (\n    <div\n      className={classNames(styles.Splash, exiting && styles.exiting)}\n      style={{ transitionDuration: `${exitingDuration}ms` }}\n    >\n      <Icon type=\"autoworks\" a11yText=\"\" />\n    </div>\n  )\n}\n\nSplash.propTypes = {\n  duration: number,\n  onComplete: func\n}\n\nexport default Splash\n","// extracted by mini-css-extract-plugin\nexport default {\"Viewer\":\"Viewer-module__Viewer___l3XFL\",\"ViewerTouchIcon\":\"Viewer-module__ViewerTouchIcon___yZZNJ\",\"visible\":\"Viewer-module__visible___12chj\",\"alignRight\":\"Viewer-module__alignRight___2nalv\"};","// extracted by mini-css-extract-plugin\nexport default {\"FilmstripFrame\":\"FilmstripFrame-module__FilmstripFrame___26lhu\",\"FilmstripFrameInner\":\"FilmstripFrame-module__FilmstripFrameInner___kyOhu\",\"FilmstripFrameOverlay\":\"FilmstripFrame-module__FilmstripFrameOverlay___3C1ZK\",\"hasIcon\":\"FilmstripFrame-module__hasIcon___jshVG\",\"FilmstripFrameOverlayInner\":\"FilmstripFrame-module__FilmstripFrameOverlayInner___3A3wo\",\"FilmStripFrameHighlight\":\"FilmstripFrame-module__FilmStripFrameHighlight___28ooH\",\"inverse\":\"FilmstripFrame-module__inverse___2Fqft\",\"active\":\"FilmstripFrame-module__active___tUDAz\",\"FilmStripFrameHotspot\":\"FilmstripFrame-module__FilmStripFrameHotspot___1aX9n\"};","// extracted by mini-css-extract-plugin\nexport default {\"HotspotMini\":\"HotspotMini-module__HotspotMini___Ivz5c\"};","import React from 'react'\n\nimport styles from './HotspotMini.module.scss'\n\nconst HotspotMini = () => <div className={styles.HotspotMini} />\n\nexport default HotspotMini\n","// extracted by mini-css-extract-plugin\nexport default {\"ImageFrame\":\"ImageFrame-module__ImageFrame___nIeCN\"};","import React from 'react'\nimport { node } from 'prop-types'\n\nimport styles from './ImageFrame.module.scss'\n\n/**\n * Creates an area of a fixed ratio, then resizes images within to stay\n * within the bounds of the area, without stretching smaller images.\n */\n\nconst ImageFrame = ({ children }) => (\n  <div className={styles.ImageFrame}>{children}</div>\n)\n\nImageFrame.propTypes = {\n  children: node\n}\n\nexport default ImageFrame\n","import React from 'react'\nimport { arrayOf, func, number, oneOf, shape, string } from 'prop-types'\n\nconst srcSetFormatter = (srcSet) => {\n  return srcSet.map((image) => `${image.src} ${image.width}w`).join(', ')\n}\n\nconst ResponsiveImage = ({\n  alt,\n  height,\n  loading,\n  onLoad,\n  onError,\n  sizes,\n  src,\n  srcSet,\n  width\n}) => (\n  <img\n    alt={alt}\n    width={width}\n    height={height}\n    loading={loading}\n    onLoad={onLoad || null}\n    onError={onError || null}\n    src={src}\n    sizes={sizes && sizes.join(',')}\n    srcSet={srcSet && srcSetFormatter(srcSet)}\n  />\n)\n\nResponsiveImage.propTypes = {\n  alt: string.isRequired,\n  height: number.isRequired,\n  loading: oneOf(['auto', 'eager', 'lazy']),\n  onLoad: func,\n  onError: func,\n  sizes: arrayOf(string),\n  src: string.isRequired,\n  srcSet: arrayOf(shape({ width: number.isRequired, src: string.isRequired })),\n  width: number.isRequired\n}\n\nexport default ResponsiveImage\n","// extracted by mini-css-extract-plugin\nexport default {\"ResponsiveMedia\":\"ResponsiveMedia-module__ResponsiveMedia___1NPpv\"};","import React from 'react'\nimport { node, number } from 'prop-types'\n\nimport styles from './ResponsiveMedia.module.scss'\n\nconst formatRatio = (ratio) => {\n  return parseFloat((ratio * 100).toFixed(4))\n}\n\nconst ResponsiveMedia = ({ children, ratio }) => (\n  <div\n    className={styles.ResponsiveMedia}\n    style={{ paddingBottom: `${formatRatio(ratio)}%` }}\n  >\n    {children}\n  </div>\n)\n\nResponsiveMedia.propTypes = {\n  children: node.isRequired,\n  ratio: number.isRequired\n}\n\nexport default ResponsiveMedia\n","import React from 'react'\nimport { bool, number, oneOf, string } from 'prop-types'\nimport classNames from 'classnames'\n\nimport styles from './FilmstripFrame.module.scss'\n\nimport HotspotMini from '../HotspotMini'\nimport Icon from '../Icon'\nimport ImageFrame from '../ImageFrame'\nimport ResponsiveImage from '../ResponsiveImage'\nimport ResponsiveMedia from '../ResponsiveMedia'\n\nconst FilmstripFrame = ({\n  active,\n  alt,\n  caption,\n  hotspot,\n  icon,\n  inverse,\n  ratio,\n  src\n}) => (\n  <div\n    className={classNames(\n      styles.FilmstripFrame,\n      active && styles.active,\n      icon && styles.hasIcon,\n      inverse && styles.inverse\n    )}\n  >\n    <div className={styles.FilmstripFrameInner}>\n      <ResponsiveMedia ratio={ratio}>\n        <ImageFrame>\n          <ResponsiveImage\n            width={200}\n            height={100}\n            src={src}\n            alt={alt || ''}\n            loading=\"lazy\"\n          />\n        </ImageFrame>\n      </ResponsiveMedia>\n      {(caption || icon) && (\n        <div className={styles.FilmstripFrameOverlay}>\n          <div className={styles.FilmstripFrameOverlayInner}>\n            {icon && <Icon type={icon} a11yText=\"\" height={30} />}\n            {caption}\n          </div>\n        </div>\n      )}\n    </div>\n    <div className={styles.FilmStripFrameHighlight} />\n    {hotspot && (\n      <div className={styles.FilmStripFrameHotspot}>\n        <HotspotMini />\n      </div>\n    )}\n  </div>\n)\n\nFilmstripFrame.defaultProps = {\n  ratio: 1 / 2\n}\n\nFilmstripFrame.propTypes = {\n  active: bool,\n  alt: string,\n  caption: string,\n  hotspot: bool,\n  icon: oneOf(['', 'photo', 'rotate-camera', 'video']),\n  inverse: bool,\n  ratio: number,\n  src: string.isRequired\n}\n\nexport default FilmstripFrame\n","import { bool, number, string } from 'prop-types'\n\nexport default {\n  id: string,\n  tooltip: string,\n  autoFocus: bool,\n  hfov: number,\n  pitch: number.isRequired,\n  yaw: number.isRequired\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"Interior\":\"Interior-module__Interior___h0h-d\",\"InteriorControls\":\"Interior-module__InteriorControls___2ioX9\",\"active\":\"Interior-module__active___Rh4c0\"};","// extracted by mini-css-extract-plugin\nexport default {\"Hotspot\":\"Hotspot-module__Hotspot___3Q3Qm\",\"centered\":\"Hotspot-module__centered___2Bnqe\",\"HotspotInner\":\"Hotspot-module__HotspotInner___2RQYC\",\"revealed\":\"Hotspot-module__revealed___3Lica\",\"hotspot-bounce-in\":\"Hotspot-module__hotspot-bounce-in___CU9x8\",\"HotspotTooltip\":\"Hotspot-module__HotspotTooltip___20M-V\",\"top\":\"Hotspot-module__top___1V9PQ\",\"bottom\":\"Hotspot-module__bottom___1DVvI\",\"left\":\"Hotspot-module__left___1vN2H\",\"right\":\"Hotspot-module__right___13rvG\"};","import React from 'react'\nimport { bool, func, string } from 'prop-types'\n\nimport ButtonGroup from '../ButtonGroup'\nimport Icon from '../Icon'\n\nconst ButtonSingle = ({\n  a11yText,\n  disabled,\n  icon,\n  inactive,\n  inverse,\n  onClick\n}) => (\n  <ButtonGroup inverse={inverse} disabled={disabled}>\n    <ButtonGroup.Item\n      tight\n      onClick={onClick}\n      inactive={inactive}\n      disabled={disabled}\n    >\n      <Icon type={icon} a11yText={a11yText} />\n    </ButtonGroup.Item>\n  </ButtonGroup>\n)\n\nButtonSingle.propTypes = {\n  a11yText: string.isRequired,\n  disabled: bool,\n  icon: string.isRequired,\n  inactive: bool,\n  inverse: bool,\n  onClick: func\n}\n\nexport default ButtonSingle\n","/* eslint-disable react/no-unused-prop-types */\nimport propTypes from 'prop-types'\nimport React, { PureComponent } from 'react'\n\nif (typeof window !== 'undefined') {\n  require('./lib/libpannellum.js')\n  require('./lib/pannellum.js')\n  require('./lib/RequestAnimationFrame.js')\n}\n\nclass Pannellum extends PureComponent {\n  constructor(props) {\n    super(props)\n    this.state = {\n      id: Math.random().toString(36).substr(2, 9)\n    }\n  }\n\n  static propTypes = {\n    children: propTypes.oneOfType([\n      propTypes.arrayOf(propTypes.node),\n      propTypes.node\n    ]),\n    id: propTypes.string,\n    width: propTypes.string,\n    height: propTypes.string,\n    image: propTypes.string,\n    haov: propTypes.number,\n    vaov: propTypes.number,\n    vOffset: propTypes.number,\n    yaw: propTypes.number,\n    pitch: propTypes.number,\n    hfov: propTypes.number,\n    minHfov: propTypes.number,\n    maxHfov: propTypes.number,\n    minPitch: propTypes.number,\n    maxPitch: propTypes.number,\n    minYaw: propTypes.number,\n    maxYaw: propTypes.number,\n    autoRotate: propTypes.number,\n    compass: propTypes.bool,\n    preview: propTypes.string,\n    previewTitle: propTypes.string,\n    previewAuthor: propTypes.string,\n    title: propTypes.string,\n    author: propTypes.string,\n    autoLoad: propTypes.bool,\n    orientationOnByDefault: propTypes.bool,\n    showZoomCtrl: propTypes.bool,\n    keyboardZoom: propTypes.bool,\n    mouseZoom: propTypes.bool,\n    draggable: propTypes.bool,\n    disableKeyboardCtrl: propTypes.bool,\n    showFullscreenCtrl: propTypes.bool,\n    showControls: propTypes.bool,\n    onLoad: propTypes.func,\n    onScenechange: propTypes.func,\n    onScenechangefadedone: propTypes.func,\n    onError: propTypes.func,\n    onErrorcleared: propTypes.func,\n    onMousedown: propTypes.func,\n    onMouseup: propTypes.func,\n    onTouchstart: propTypes.func,\n    onTouchend: propTypes.func,\n    hotspotDebug: propTypes.bool,\n    tooltip: propTypes.func,\n    tooltipArg: propTypes.object,\n    handleClick: propTypes.func,\n    handleClickArg: propTypes.object,\n    cssClass: propTypes.string,\n    onRender: propTypes.func\n  }\n\n  static defaultProps = {\n    children: [],\n    width: '100%',\n    height: '400px',\n    image: '',\n    haov: 360,\n    vaov: 180,\n    vOffset: 0,\n    yaw: 0,\n    pitch: 0,\n    hfov: 100,\n    minHfov: 50,\n    maxHfov: 150,\n    minPitch: -90,\n    maxPitch: 90,\n    minYaw: -180,\n    maxYaw: 180,\n    autoRotate: 0,\n    compass: false,\n    preview: '',\n    previewTitle: '',\n    previewAuthor: '',\n    title: '',\n    author: '',\n    autoLoad: false,\n    orientationOnByDefault: false,\n    showZoomCtrl: true,\n    keyboardZoom: true,\n    mouseZoom: true,\n    draggable: true,\n    disableKeyboardCtrl: false,\n    showFullscreenCtrl: true,\n    showControls: true,\n    onLoad: () => {},\n    onScenechange: () => {},\n    onScenechangefadedone: () => {},\n    onError: () => {},\n    onErrorcleared: () => {},\n    onMousedown: () => {},\n    onMouseup: () => {},\n    onTouchstart: () => {},\n    onTouchend: () => {},\n    hotspotDebug: false,\n    onRender: null\n  }\n\n  renderImage = (state) => {\n    const { children } = this.props\n    // make the array of sub components, even if its one, it become array of one\n    const hotspots = [...children]\n    const hotspotArray = []\n    if (Array.isArray(hotspots)) {\n      hotspots.map((hotspot) => {\n        switch (hotspot.props.type) {\n          case 'info':\n            return hotspotArray.push({\n              id: Math.random().toString(36).substr(2, 9),\n              type: hotspot.props.type,\n              pitch: hotspot.props.pitch ? hotspot.props.pitch : 10,\n              yaw: hotspot.props.yaw ? hotspot.props.yaw : 10,\n              text: hotspot.props.text ? hotspot.props.text : '',\n              URL: hotspot.props.URL ? hotspot.props.URL : ''\n            })\n          case 'custom':\n            return hotspotArray.push({\n              id: Math.random().toString(36).substr(2, 9),\n              pitch: hotspot.props.pitch ? hotspot.props.pitch : 10,\n              yaw: hotspot.props.yaw ? hotspot.props.yaw : 10,\n              cssClass: hotspot.props.cssClass\n                ? hotspot.props.cssClass\n                : 'tooltipcss',\n              createTooltipFunc: hotspot.props.tooltip\n                ? hotspot.props.tooltip\n                : this.hotspotTooltip,\n              createTooltipArgs: hotspot.props.tooltipArg\n                ? hotspot.props.tooltipArg\n                : {},\n              clickHandlerFunc: hotspot.props.handleClick\n                ? hotspot.props.handleClick\n                : this.handleClickHotspot,\n              clickHandlerArgs: hotspot.props.handleClickArg\n                ? hotspot.props.handleClickArg\n                : { name: 'test' }\n            })\n          default:\n            return []\n        }\n      })\n    }\n\n    const jsonConfig = {\n      type: 'equirectangular',\n      panorama: this.props.image,\n      haov: this.props.haov,\n      vaov: this.props.vaov,\n      vOffset: this.props.vOffset,\n      yaw: this.props.yaw,\n      pitch: this.props.pitch,\n      hfov: this.props.hfov,\n      minHfov: this.props.minHfov,\n      maxHfov: this.props.maxHfov,\n      minPitch: this.props.minPitch,\n      maxPitch: this.props.maxPitch,\n      minYaw: this.props.minYaw,\n      maxYaw: this.props.maxYaw,\n      autoRotate: this.props.autoRotate,\n      compass: this.props.compass,\n      preview: this.props.preview,\n      previewTitle: this.props.previewTitle,\n      previewAuthor: this.props.previewAuthor,\n      author: this.props.author,\n      title: this.props.title,\n      autoLoad: this.props.autoLoad,\n      orientationOnByDefault: this.props.orientationOnByDefault,\n      showZoomCtrl: this.props.showZoomCtrl,\n      keyboardZoom: this.props.keyboardZoom,\n      mouseZoom: this.props.mouseZoom,\n      draggable: this.props.draggable,\n      disableKeyboardCtrl: this.props.disableKeyboardCtrl,\n      showFullscreenCtrl: this.props.showFullscreenCtrl,\n      showControls: this.props.showControls,\n      hotSpotDebug: this.props.hotspotDebug,\n      hotSpots: hotspotArray,\n      onRender: this.props.onRender\n    }\n\n    Object.keys(jsonConfig).forEach(\n      (key) => jsonConfig[key] === '' && delete jsonConfig[key]\n    )\n    // this.setState({ jsonConfig });\n\n    if (state === 'update') {\n      this.panorama.destroy()\n    }\n    // eslint-disable-next-line no-undef\n    this.panorama = pannellum.viewer(\n      this.props.id ? this.props.id : this.state.id,\n      jsonConfig\n    )\n\n    this.panorama.on('load', this.props.onLoad)\n    this.panorama.on('scenechange', this.props.onScenechange)\n    this.panorama.on('scenechangefadedone', this.props.onScenechangefadedone)\n    this.panorama.on('error', this.props.onError)\n    this.panorama.on('errorcleared', this.props.onErrorcleared)\n    this.panorama.on('mousedown', this.props.onMousedown)\n    this.panorama.on('mouseup', this.props.onMouseup)\n    this.panorama.on('touchstart', this.props.onTouchstart)\n    this.panorama.on('touchend', this.props.onTouchend)\n  }\n\n  componentDidMount = () => {\n    this.renderImage('mount')\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (\n      prevProps.image !== this.props.image ||\n      prevProps.width !== this.props.width ||\n      prevProps.height !== this.props.height ||\n      prevProps.compass !== this.props.compass ||\n      prevProps.title !== this.props.title ||\n      prevProps.author !== this.props.author ||\n      prevProps.preview !== this.props.preview ||\n      prevProps.previewTitle !== this.props.previewTitle ||\n      prevProps.previewAuthor !== this.props.previewAuthor ||\n      prevProps.showZoomCtrl !== this.props.showZoomCtrl ||\n      prevProps.showFullscreenCtrl !== this.props.showFullscreenCtrl ||\n      prevProps.showControls !== this.props.showControls ||\n      prevProps.children.length !== this.props.children.length\n    ) {\n      this.renderImage('update')\n    }\n    if (\n      prevProps.maxYaw !== this.props.maxYaw ||\n      prevProps.minYaw !== this.props.minYaw ||\n      prevProps.maxPitch !== this.props.maxPitch ||\n      prevProps.minPitch !== this.props.minPitch ||\n      prevProps.maxHfov !== this.props.maxHfov ||\n      prevProps.minHfov !== this.props.minHfov\n    ) {\n      this.panorama.setYawBounds([this.props.minYaw, this.props.maxYaw])\n      this.panorama.setPitchBounds([this.props.minPitch, this.props.maxPitch])\n      this.panorama.setHfovBounds([this.props.minHfov, this.props.maxHfov])\n    }\n    if (prevProps.yaw !== this.props.yaw) {\n      this.panorama.setYaw(this.props.yaw)\n    }\n    if (prevProps.pitch !== this.props.pitch) {\n      this.panorama.setPitch(this.props.pitch)\n    }\n    if (prevProps.hfov !== this.props.hfov) {\n      this.panorama.setHfov(this.props.hfov)\n    }\n  }\n\n  handleClickHotspot = (e, args) => {\n    console.log('hotspot clicked', args.name)\n  }\n\n  hotspotTooltip = (hotSpotDiv, args) => {\n    hotSpotDiv.setAttribute('id', 'textInfo')\n    const hDiv = document.createElement('div')\n    hDiv.classList.add('hotspot')\n    const outDiv = document.createElement('div')\n    outDiv.classList.add('out')\n    const inDiv = document.createElement('div')\n    inDiv.classList.add('in')\n    const imageDiv = document.createElement('div')\n    imageDiv.classList.add('image')\n    hotSpotDiv.appendChild(hDiv)\n    hDiv.appendChild(inDiv)\n    hDiv.appendChild(outDiv)\n  }\n\n  getViewer = () => {\n    return this.panorama\n  }\n\n  forceRender = () => {\n    this.renderImage('update')\n  }\n\n  render() {\n    const { width, height } = this.props\n    const divStyle = {\n      width: width,\n      height: height\n    }\n    return (\n      <div\n        id={this.props.id ? this.props.id : this.state.id}\n        style={divStyle}\n        ref={(node) => (this.imageNode = node)}\n      />\n    )\n  }\n}\nPannellum.Hotspot = () => {}\nPannellum.Hotspot = () => {}\nexport default Pannellum\n","import React, { useEffect, useState } from 'react'\nimport { bool, func, number, oneOf, string } from 'prop-types'\nimport classNames from 'classnames'\n\nimport styles from './Hotspot.module.scss'\n\nconst Hotspot = ({\n  centered,\n  onClick,\n  revealDelay,\n  tooltip,\n  tooltipPosition\n}) => {\n  const [revealed, setRevealed] = useState(false)\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setRevealed(true)\n    }, 500 + revealDelay)\n    return () => clearTimeout(timer)\n  }, [revealDelay])\n\n  return (\n    <button\n      className={classNames(\n        styles.Hotspot,\n        centered && styles.centered,\n        revealed && styles.revealed\n      )}\n      style={{ ...(revealDelay && { '--hotspot-delay': `${revealDelay}ms` }) }}\n      onClick={onClick}\n    >\n      <div className={styles.HotspotInner} />\n      {tooltip && (\n        <div\n          className={classNames(styles.HotspotTooltip, styles[tooltipPosition])}\n        >\n          {tooltip}\n        </div>\n      )}\n    </button>\n  )\n}\n\nHotspot.defaultProps = {\n  tooltipPosition: 'top'\n}\n\nHotspot.propTypes = {\n  centered: bool,\n  onClick: func,\n  revealDelay: number,\n  tooltip: string,\n  tooltipPosition: oneOf(['top', 'right', 'bottom', 'left'])\n}\n\nexport default Hotspot\n","// extracted by mini-css-extract-plugin\nexport default {\"InteriorPanorama\":\"InteriorPanorama-module__InteriorPanorama___2J18A\",\"pnlm-mv\":\"InteriorPanorama-module__pnlm-mv___2m0v3\"};","import React from 'react'\nimport { array, bool, func, object, string } from 'prop-types'\nimport { render } from 'react-dom'\n\nimport Pannellum from '@/component/Primitive/PannellumReact'\nimport Hotspot from '@/component/Primitive/Hotspot'\n\nimport styles from './InteriorPanorama.module.scss'\n\nconst hotspotTooltip = (hotSpotDiv, args) => {\n  hotSpotDiv.setAttribute('id', 'textInfo')\n  render(<Hotspot tooltip={args.tooltip || ''} />, hotSpotDiv)\n}\n\nconst InteriorPanorama = ({\n  hotspotDebug,\n  hotspots,\n  image,\n  onHotspotClick,\n  onLoad,\n  preview,\n  setRef,\n  position,\n  hfovScale,\n  mouseZoom\n}) => (\n  <div className={styles.InteriorPanorama}>\n    <Pannellum\n      width=\"100%\"\n      height=\"100%\"\n      image={image}\n      autoLoad\n      preview={preview}\n      hotspotDebug={hotspotDebug}\n      showFullscreenCtrl={false}\n      showZoomCtrl={false}\n      ref={setRef}\n      onLoad={onLoad}\n      {...position}\n      {...hfovScale}\n      mouseZoom={mouseZoom}\n      // onRender={handleRender}\n    >\n      {hotspots.map((hotspot, i) => (\n        <Pannellum.Hotspot\n          key={`InteriorHotspot:${i}`}\n          type=\"custom\"\n          pitch={hotspot.pitch}\n          yaw={hotspot.yaw}\n          text={hotspot.tooltip}\n          handleClick={() => {\n            onHotspotClick && onHotspotClick(hotspot.id)\n          }}\n          cssClass=\"\"\n          tooltip={hotspotTooltip}\n          tooltipArg={{ tooltip: hotspot.tooltip }}\n        />\n      ))}\n    </Pannellum>\n  </div>\n)\n\nInteriorPanorama.propTypes = {\n  hotspotDebug: bool,\n  hotspots: array,\n  image: string,\n  onHotspotClick: func,\n  onLoad: func,\n  preview: string,\n  setRef: object,\n  position: object,\n  hfovScale: object,\n  mouseZoom: bool\n}\n\nexport default InteriorPanorama\n","import React, { useContext, useEffect, useRef, useState } from 'react'\nimport classNames from 'classnames'\nimport { arrayOf, bool, func, number, shape, string } from 'prop-types'\n\nimport shapeHotspotInterior from '@/shape/hotspot-interior'\n\nimport { HotspotDebugContext } from '@/component/Context/HotspotDebugContext'\n\nimport styles from './Interior.module.scss'\nimport '@/component/Primitive/Hotspot/Hotspot.module.scss'\n\nimport ButtonSingle from '../ButtonSingle'\nimport Inline from '../Inline'\nimport ResponsiveMedia from '@/component/Primitive/ResponsiveMedia'\nimport VisuallyHidden from '../VisuallyHidden'\n\nimport InteriorPanorama from '@/component/Primitive/InteriorPanorama'\n\nconst Interior = ({\n  alt,\n  controls,\n  hotspotDebug,\n  hotspots,\n  inactive,\n  onHotspotClick,\n  poster,\n  ratio,\n  src,\n  mouseZoom,\n  minHfov,\n  maxHfov,\n  hfov,\n  pitch,\n  yaw\n}) => {\n  const [active, setActive] = useState(false)\n  const [trackedHfov, updateHfov] = useState(hfov)\n  const [initialised, setInitialised] = useState(false)\n\n  const contextHotspotDebug = useContext(HotspotDebugContext)\n  const derivedHotspotDebug = hotspotDebug || contextHotspotDebug\n  const viewer = useRef()\n\n  const handleActive = () => {\n    setActive(true)\n    if (!viewer.current) return\n\n    if (hotspots.length > 0) {\n      const thisViewer = viewer.current.getViewer()\n      const firstHotspot = hotspots.find((hotspot) => hotspot.autoFocus)\n      if (!firstHotspot) return\n      firstHotspot.pitch && thisViewer.setPitch(firstHotspot.pitch, 2000)\n      firstHotspot.yaw && thisViewer.setYaw(firstHotspot.yaw, 2000)\n      firstHotspot.hfov && thisViewer.setHfov(firstHotspot.hfov, 3000)\n    }\n  }\n\n  const handleZoomIn = () => {\n    const thisViewer = viewer.current.getViewer()\n    const nextHfov = Math.max(thisViewer.getHfov() - 10, minHfov)\n    thisViewer.setHfov(nextHfov, 100)\n    updateHfov(nextHfov)\n  }\n\n  const handleZoomOut = () => {\n    const thisViewer = viewer.current.getViewer()\n    const nextHfov = Math.min(thisViewer.getHfov() + 10, maxHfov)\n    thisViewer.setHfov(nextHfov, 100)\n    updateHfov(nextHfov)\n  }\n\n  useEffect(() => {\n    if (!inactive && !initialised) {\n      setInitialised(true)\n    }\n  }, [inactive, initialised])\n\n  return (\n    <div className={classNames(styles.Interior, active && styles.active)}>\n      {alt && <VisuallyHidden>{alt}</VisuallyHidden>}\n      <ResponsiveMedia ratio={ratio}>\n        {initialised && (\n          <div>\n            <InteriorPanorama\n              image={src}\n              preview={poster}\n              hotspotDebug={derivedHotspotDebug}\n              setRef={viewer}\n              onLoad={handleActive}\n              hotspots={hotspots}\n              onHotspotClick={onHotspotClick}\n              defaultPosition={{ hfov, pitch, yaw }}\n              hfovScale={{ minHfov, maxHfov }}\n              mouseZoom={mouseZoom}\n            />\n\n            {controls && (\n              <div className={styles.InteriorControls}>\n                <Inline gap=\"small\">\n                  <ButtonSingle\n                    inverse\n                    icon=\"add\"\n                    a11yText=\"Zoom in\"\n                    onClick={handleZoomIn}\n                    disabled={trackedHfov <= minHfov ? true : null}\n                  />\n                  <ButtonSingle\n                    inverse\n                    icon=\"remove\"\n                    a11yText=\"Zoom out\"\n                    onClick={handleZoomOut}\n                    disabled={trackedHfov >= maxHfov ? true : null}\n                  />\n                </Inline>\n              </div>\n            )}\n          </div>\n        )}\n      </ResponsiveMedia>\n    </div>\n  )\n}\n\nInterior.defaultProps = {\n  ratio: 10 / 16,\n  minHfov: 50,\n  maxHfov: 120,\n  hfov: 100,\n  pitch: 0,\n  yaw: 0\n}\n\nInterior.propTypes = {\n  alt: string,\n  controls: bool,\n  hotspotDebug: bool,\n  hotspots: arrayOf(shape(shapeHotspotInterior)),\n  inactive: bool,\n  onHotspotClick: func,\n  poster: string.isRequired,\n  ratio: number,\n  src: string.isRequired,\n  mouseZoom: bool,\n  minHfov: number,\n  maxHfov: number,\n  hfov: number,\n  pitch: number,\n  yaw: number\n}\n\nexport default Interior\n","import { number, string } from 'prop-types'\n\nexport default {\n  id: string,\n  tooltip: string,\n  x: number.isRequired,\n  y: number.isRequired\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"Rotator\":\"Rotator-module__Rotator___3ww2u\",\"RotatorContainer\":\"Rotator-module__RotatorContainer___s2S87\",\"RotatorItem\":\"Rotator-module__RotatorItem___2NQRG\",\"RotatorHotspots\":\"Rotator-module__RotatorHotspots___2FzVo\",\"RotatorProgress\":\"Rotator-module__RotatorProgress___1wIqN\",\"RotatorDebugOverlay\":\"Rotator-module__RotatorDebugOverlay___1FXAr\"};","// A custom implementation of react-rotation\n// https://github.com/andrepolischuk/react-rotation\n//\n// Reasons for customisation\n// - Adds ability to stop autoplay by changing value of autoplay prop\n//   e.g. use onChange to get current frame, stop autoplay after one rotation\n//\n// Side effects\n// - As code was brought into project, it also needed to be formatted to fit\n//   our standards, so was converted to hooks\n\nimport React, { cloneElement, Children, useEffect, useState } from 'react'\nimport {\n  arrayOf,\n  bool,\n  element,\n  func,\n  number,\n  oneOfType,\n  string\n} from 'prop-types'\n\nconst Rotation = ({\n  autoPlay,\n  children,\n  className,\n  tabIndex,\n  scroll,\n  pauseOnHover,\n  cycle,\n  onChange,\n  reverse,\n  vertical,\n  initialFrame\n}) => {\n  const [hovered, toggleHovered] = useState(false)\n  const [current, setCurrent] = useState(initialFrame)\n  const [autoplayActive, toggleAutoplayActive] = useState(autoPlay)\n  const [pointerPosition, updatePointerPosition] = useState(null)\n  const [startFrame, updateStartFrame] = useState(null)\n\n  const setCurrentFrame = (frame) => {\n    const length = children.length\n    let newCurrent = frame\n\n    if (newCurrent < 0) {\n      newCurrent = cycle ? newCurrent + length : 0\n    }\n\n    if (newCurrent > length - 1) {\n      newCurrent = cycle ? newCurrent - length : length - 1\n    }\n\n    if (newCurrent !== current) {\n      setCurrent(newCurrent)\n      onChange(newCurrent)\n    } else if (autoplayActive) {\n      stop()\n    }\n  }\n\n  const nextFrame = () => {\n    if (!hovered || !pauseOnHover) {\n      setCurrentFrame(reverse ? current - 1 : current + 1)\n    }\n  }\n\n  const stop = () => {\n    toggleAutoplayActive(false)\n  }\n\n  const hover = () => {\n    toggleHovered(true)\n  }\n\n  const unhover = () => {\n    toggleHovered(false)\n  }\n\n  // TODO: continue working on this to avoid passive event listener error on wheel\n  // https://github.com/facebook/react/issues/14856#issuecomment-586781399\n  // useEffect(() => {\n  //   const cancelWheel = (event) => hovered && event.preventDefault()\n  //   document.body.addEventListener('wheel', cancelWheel, { passive: false })\n  //   return () => {\n  //     document.body.removeEventListener('wheel', cancelWheel)\n  //   }\n  // }, [hovered])\n\n  const wheelMove = (e) => {\n    e.preventDefault()\n    const { deltaY } = e\n    const delta = deltaY === 0 ? 0 : deltaY / Math.abs(deltaY)\n    stop()\n    setCurrentFrame(reverse ? current - delta : current + delta)\n  }\n\n  const touchStart = (e) => {\n    e.preventDefault()\n    updatePointerPosition(calculatePointerPosition(e))\n    updateStartFrame(current)\n    stop()\n  }\n\n  const touchMove = (e) => {\n    const notTouched = typeof pointerPosition !== 'number'\n    e.preventDefault()\n\n    if (notTouched) {\n      return\n    }\n\n    const { offsetWidth, offsetHeight } = e.currentTarget\n    const pointer = calculatePointerPosition(e)\n    const max = vertical ? offsetHeight : offsetWidth\n    const offset = pointer - pointerPosition\n    const delta = Math.floor((offset / max) * children.length)\n    setCurrentFrame(reverse ? startFrame - delta : startFrame + delta)\n  }\n\n  const touchEnd = (e) => {\n    e.preventDefault()\n    updatePointerPosition(null)\n    updateStartFrame(null)\n  }\n\n  const pressKey = (e) => {\n    const eventOnField = e.target.tagName.match('TEXTAREA|INPUT|SELECT')\n\n    if (eventOnField) {\n      return\n    }\n\n    const prevKey = vertical ? 38 : 37\n    const nextKey = vertical ? 40 : 39\n    stop()\n\n    if (e.keyCode === prevKey) {\n      setCurrentFrame(reverse ? current + 1 : current - 1)\n    } else if (e.keyCode === nextKey) {\n      setCurrentFrame(reverse ? current - 1 : current + 1)\n    }\n  }\n\n  const calculatePointerPosition = (e) => {\n    const { clientX, clientY } =\n      e.type.indexOf('touch') === 0 ? e.changedTouches[0] : e\n    const { offsetTop, offsetLeft } = e.currentTarget\n    return vertical ? clientY - offsetTop : clientX - offsetLeft\n  }\n\n  useEffect(() => {\n    document.addEventListener('mouseup', touchEnd, false)\n    return () => {\n      document.removeEventListener('mouseup', touchEnd, false)\n    }\n  }, [])\n\n  useEffect(() => {\n    toggleAutoplayActive(autoPlay)\n  }, [autoPlay])\n\n  useEffect(() => {\n    if (!autoplayActive) return stop()\n    const playTimeout = autoplayActive === true ? 75 : autoplayActive\n    const timer = setTimeout(() => {\n      nextFrame()\n    }, playTimeout)\n    return () => {\n      clearTimeout(timer)\n    }\n  })\n\n  return (\n    <div\n      role=\"presentation\"\n      tabIndex={tabIndex}\n      onTouchStart={touchStart}\n      onTouchMove={touchMove}\n      onTouchEnd={touchEnd}\n      onMouseDown={touchStart}\n      onMouseMove={touchMove}\n      onWheel={scroll ? wheelMove : null}\n      onMouseEnter={hover}\n      onMouseLeave={unhover}\n      onKeyDown={tabIndex >= 0 ? pressKey : null}\n      className={className}\n      style={{ position: 'relative' }}\n    >\n      {Children.map(children, (child, i) =>\n        cloneElement(child, {\n          style: {\n            width: '100%',\n            display: current === i ? 'block' : 'none'\n          }\n        })\n      )}\n    </div>\n  )\n}\n\nRotation.defaultProps = {\n  cycle: false,\n  scroll: false,\n  vertical: false,\n  tabIndex: 0,\n  autoPlay: false,\n  pauseOnHover: false,\n  onChange: () => {},\n  initialFrame: 0\n}\n\nRotation.propTypes = {\n  className: string,\n  cycle: bool,\n  scroll: bool,\n  vertical: bool,\n  reverse: bool,\n  autoPlay: oneOfType([bool, number]),\n  onChange: func,\n  children: arrayOf(element).isRequired,\n  tabIndex: oneOfType([string, number]),\n  pauseOnHover: bool,\n  initialFrame: number\n}\n\nexport default Rotation\n","// extracted by mini-css-extract-plugin\nexport default {\"HotspotFrame\":\"HotspotFrame-module__HotspotFrame___29gAj\",\"HotspotFrameList\":\"HotspotFrame-module__HotspotFrameList___3whHe\",\"HotspotFrameItem\":\"HotspotFrame-module__HotspotFrameItem___3G5WI\",\"debug\":\"HotspotFrame-module__debug___3aytV\"};","import React, { useContext, useRef } from 'react'\nimport { array, bool, func, node, number } from 'prop-types'\nimport classNames from 'classnames'\nimport { HotspotDebugContext } from '@/component/Context/HotspotDebugContext'\n\nimport styles from './HotspotFrame.module.scss'\n\nimport Hotspot from '../Hotspot'\n\nconst getTooltipPosition = ({ x, y }) => {\n  if (y < 0.1) return 'bottom'\n  if (y > 0.9) return 'top'\n  if (x < 0.1) return 'right'\n  if (x > 0.9) return 'left'\n}\n\nconst HotspotFrame = ({ children, hotspotDebug, hotspots, onClick, scale }) => {\n  const contextHotspotDebug = useContext(HotspotDebugContext)\n  const derivedHotspotDebug = hotspotDebug || contextHotspotDebug\n  const frame = useRef()\n\n  const handleDebugHotspot = (e) => {\n    e.preventDefault()\n    const { clientX, clientY } = e\n\n    const wrapperCoords = frame.current.getBoundingClientRect()\n\n    const rawX =\n      ((clientX - wrapperCoords.x) * scale) / (wrapperCoords.width * scale)\n    const rawY =\n      ((clientY - wrapperCoords.y) * scale) / (wrapperCoords.height * scale)\n\n    const hotspot = {\n      id: '',\n      tooltip: '',\n      x: +rawX.toFixed(5),\n      y: +rawY.toFixed(5)\n    }\n\n    console.log(JSON.stringify(hotspot, '', 2))\n  }\n\n  return (\n    <div\n      className={classNames(styles.HotspotFrame, hotspotDebug && styles.debug)}\n      {...(derivedHotspotDebug && { onClick: handleDebugHotspot })}\n      ref={frame}\n    >\n      {children}\n      <div className={styles.HotspotFrameList}>\n        {hotspots.map((hotspot, i) => (\n          <div\n            key={`Hotspot:${i}`}\n            className={styles.HotspotFrameItem}\n            style={{\n              left: `${100 * hotspot.x}%`,\n              top: `${100 * hotspot.y}%`,\n              transform: `scale(${1 / scale})`\n            }}\n          >\n            <Hotspot\n              tooltip={hotspot.tooltip}\n              tooltipPosition={getTooltipPosition({\n                x: hotspot.x,\n                y: hotspot.y\n              })}\n              centered\n              revealDelay={i * 50}\n              onClick={() => {\n                onClick(hotspot.id)\n              }}\n            />\n          </div>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nHotspotFrame.defaultProps = {\n  hotspots: [],\n  scale: 1,\n  onClick: () => {}\n}\n\nHotspotFrame.propTypes = {\n  children: node,\n  hotspotDebug: bool,\n  hotspots: array, // TODO: shape\n  onClick: func,\n  scale: number\n}\n\nexport default HotspotFrame\n","// extracted by mini-css-extract-plugin\nexport default {\"LoadingProgress\":\"LoadingProgress-module__LoadingProgress___2itS5\",\"inverse\":\"LoadingProgress-module__inverse___oH0HC\",\"LoadingProgressSummary\":\"LoadingProgress-module__LoadingProgressSummary___3h5Iw\"};","// extracted by mini-css-extract-plugin\nexport default {\"Progress\":\"Progress-module__Progress___3yTNK\",\"ProgressTrack\":\"Progress-module__ProgressTrack___1GY0j\",\"inverse\":\"Progress-module__inverse___1Dx-U\",\"ProgressBar\":\"Progress-module__ProgressBar___2Kemu\"};","import React from 'react'\nimport { bool, number } from 'prop-types'\nimport classNames from 'classnames'\n\nimport styles from './Progress.module.scss'\n\nconst Progress = ({ inverse, progress }) => (\n  <div className={classNames(styles.Progress, inverse && styles.inverse)}>\n    <div className={styles.ProgressTrack}>\n      <div className={styles.ProgressBar} style={{ width: `${progress}%` }} />\n    </div>\n  </div>\n)\n\nProgress.defaultProps = {\n  progress: 0,\n  total: 100\n}\n\nProgress.propTypes = {\n  inverse: bool,\n  progress: number\n}\n\nexport default Progress\n","import React from 'react'\nimport { bool, number } from 'prop-types'\nimport classNames from 'classnames'\n\nimport styles from './LoadingProgress.module.scss'\n\nimport Progress from '@/component/Primitive/Progress'\n\nconst LoadingProgress = ({ inverse, progress }) => {\n  return (\n    <div\n      className={classNames(styles.LoadingProgress, inverse && styles.inverse)}\n    >\n      <div className={styles.LoadingProgressSummary}>\n        Loading {Math.floor(progress)}%\n      </div>\n      <Progress progress={progress} inverse={inverse} />\n    </div>\n  )\n}\n\nLoadingProgress.defaultProps = {\n  progress: 0\n}\n\nLoadingProgress.propTypes = {\n  inverse: bool,\n  progress: number\n}\n\nexport default LoadingProgress\n","import React, { useContext, useEffect, useRef, useState } from 'react'\nimport {\n  alt,\n  arrayOf,\n  bool,\n  func,\n  number,\n  objectOf,\n  shape,\n  string\n} from 'prop-types'\nimport { HotspotDebugContext } from '@/component/Context/HotspotDebugContext'\nimport shapeHotspotStandard from '@/shape/hotspot-standard'\n\nimport styles from './Rotator.module.scss'\n\nimport Rotation from './component/Rotation'\n\nimport HotspotFrame from '../HotspotFrame'\nimport ResponsiveMedia from '../ResponsiveMedia'\nimport ResponsiveImage from '../ResponsiveImage'\nimport LoadingProgress from '../LoadingProgress'\nimport VisuallyHidden from '../VisuallyHidden'\n\n// This component uses Firefox browser detection :(\n// It's a work-around to overcome a bug where images don't render quickly enough\n// on first showing to keep up with the rotation, causing a nasty flicker effect\n//\n// Solution:\n// As each image loads, add it as a _tiny_ background image to the wrapping\n// element, where it can flicker all it likes, meaning it's ready to use at\n// full size as/when the Rotator needs it\n//\n// Similar issues:\n// https://bugzilla.mozilla.org/show_bug.cgi?id=1156762\n// https://bugzilla.mozilla.org/show_bug.cgi?id=705826\n\nconst Rotator = ({\n  hotspotDebug,\n  images,\n  inactive,\n  initialIndex,\n  onHotspotClick,\n  ratio,\n  reverseDirection,\n  scroll\n}) => {\n  const loadingTimeout = 5000\n  const [activeImageIndex, updateActiveImageIndex] = useState(0)\n  const [autoplay, toggleAutoplay] = useState(loadingTimeout)\n  const [revealHotspots, setRevealHotspots] = useState(false)\n  const [loadedCount, updateLoadedCount] = useState(0)\n  const [loadingComplete, setLoadingComplete] = useState(false)\n  const [loadTimerComplete, setLoadTimerComplete] = useState(false)\n  const [initialised, setInitialised] = useState(false)\n  const [loadedImages, updateLoadedImages] = useState([])\n  const [isFirefox, setIsFirefox] = useState(false)\n  const [wrapperWidth, updateWrapperWidth] = useState(0)\n\n  useEffect(() => {\n    updateWrapperWidth(wrapper.current.clientWidth)\n  }, [])\n\n  const wrapper = useRef()\n\n  const handleImageChange = (i) => {\n    if (i >= 0 && i < images.length) {\n      updateActiveImageIndex(i)\n    }\n\n    if (i === parseInt(initialIndex, 10)) {\n      toggleAutoplay(false)\n      setRevealHotspots(true)\n    }\n  }\n\n  const handleImageLoad = (e) => {\n    if (isFirefox) {\n      const currentSrc = e.target.currentSrc\n      updateLoadedImages((arr) => [...arr, currentSrc])\n    }\n\n    const newLoadedCount = loadedCount + 1\n    updateLoadedCount(newLoadedCount)\n\n    if (newLoadedCount === images.length) {\n      setLoadingComplete(true)\n      if (!loadTimerComplete) toggleAutoplay(30)\n    }\n  }\n\n  useEffect(() => {\n    if (!initialised) return\n    const timer = setTimeout(() => {\n      setLoadTimerComplete(true)\n      if (!loadingComplete) setRevealHotspots(true)\n    }, loadingTimeout)\n    return () => clearTimeout(timer)\n  }, [initialised, loadingComplete])\n\n  useEffect(() => {\n    if (!inactive && !initialised) {\n      setInitialised(true)\n    }\n  }, [inactive, initialised])\n\n  useEffect(() => {\n    setIsFirefox(navigator.userAgent.toLowerCase().indexOf('firefox') > -1)\n  }, [])\n\n  const contextHotspotDebug = useContext(HotspotDebugContext)\n  const derivedHotspotDebug = hotspotDebug || contextHotspotDebug\n\n  return (\n    <div className={styles.Rotator} ref={wrapper}>\n      {alt && <VisuallyHidden>{alt}</VisuallyHidden>}\n      <ResponsiveMedia ratio={ratio}>\n        {initialised && (\n          <div\n            {...(isFirefox && {\n              style: {\n                backgroundImage: loadedImages\n                  .map((src) => `url(${src})`)\n                  .join(','),\n                backgroundSize: '0px 0px',\n                backgroundRepeat: 'no-repeat'\n              }\n            })}\n          >\n            <Rotation\n              cycle\n              scroll={scroll}\n              reverse={reverseDirection}\n              onChange={handleImageChange}\n              autoPlay={autoplay}\n              initialIndex={parseInt(initialIndex, 10)}\n            >\n              {images.map((image, i) => {\n                const getLoadingPriority = () => {\n                  if (i === initialIndex) return 'eager'\n                  if (initialised) return 'auto'\n                  return 'lazy'\n                }\n                return (\n                  <div key={`RotatorImage${i}`}>\n                    <ResponsiveImage\n                      alt=\"\"\n                      srcSet={\n                        image.srcSet &&\n                        Object.entries(image.srcSet).map((src) => {\n                          return {\n                            width: parseInt(src[0], 10),\n                            src: src[1]\n                          }\n                        })\n                      }\n                      sizes={[`${wrapperWidth}px`]}\n                      src={image.src}\n                      width={1000}\n                      height={562}\n                      onLoad={handleImageLoad}\n                      onError={handleImageLoad}\n                      loading={getLoadingPriority()}\n                    />\n                  </div>\n                )\n              })}\n            </Rotation>\n\n            {revealHotspots && (\n              <div className={styles.RotatorHotspots}>\n                <HotspotFrame\n                  hotspots={images[activeImageIndex].hotspots}\n                  hotspotDebug={hotspotDebug}\n                  onClick={onHotspotClick}\n                />\n              </div>\n            )}\n\n            {!loadingComplete && !loadTimerComplete && (\n              <div className={styles.RotatorProgress}>\n                <LoadingProgress\n                  progress={(loadedCount / images.length) * 100}\n                  inverse\n                />\n              </div>\n            )}\n\n            {derivedHotspotDebug && (\n              <div className={styles.RotatorDebugOverlay}>\n                Image {activeImageIndex + 1} of {images.length}\n                <span>(index: {activeImageIndex})</span>\n              </div>\n            )}\n          </div>\n        )}\n      </ResponsiveMedia>\n    </div>\n  )\n}\n\nRotator.defaultProps = {\n  images: [],\n  onReady: () => {},\n  initialIndex: 0,\n  ratio: 10 / 16\n}\n\nRotator.propTypes = {\n  alt: string,\n  hotspotDebug: bool,\n  images: arrayOf(\n    shape({\n      src: string.isRequired,\n      srcSet: objectOf(string),\n      hotspots: arrayOf(shape(shapeHotspotStandard))\n    })\n  ),\n  inactive: bool,\n  initialIndex: number,\n  onHotspotClick: func,\n  ratio: number,\n  reverseDirection: bool,\n  scroll: bool\n}\n\nexport default Rotator\n","// extracted by mini-css-extract-plugin\nexport default {\"VideoPlayer\":\"VideoPlayer-module__VideoPlayer___3cmFd\",\"VideoPlayerInner\":\"VideoPlayer-module__VideoPlayerInner___1BYzB\",\"VideoPlayerInnerOverlay\":\"VideoPlayer-module__VideoPlayerInnerOverlay___ciUkQ\",\"VideoPlayerInnerInner\":\"VideoPlayer-module__VideoPlayerInnerInner___1M3r2\",\"VideoPlayerControls\":\"VideoPlayer-module__VideoPlayerControls___1BwBI\",\"forceControls\":\"VideoPlayer-module__forceControls___2Su7F\",\"VideoPlayerControlsInner\":\"VideoPlayer-module__VideoPlayerControlsInner___1H-4C\",\"VideoPlayerScrubber\":\"VideoPlayer-module__VideoPlayerScrubber___18X9M\",\"VideoPlayerVolume\":\"VideoPlayer-module__VideoPlayerVolume___1l5z3\",\"inverse\":\"VideoPlayer-module__inverse___LTMQW\"};","const isIos = () => {\n  return (\n    [\n      'iPad Simulator',\n      'iPhone Simulator',\n      'iPod Simulator',\n      'iPad',\n      'iPhone',\n      'iPod'\n    ].includes(navigator.platform) ||\n    // iPad on iOS 13 detection\n    (navigator.userAgent.includes('Mac') && 'ontouchend' in document)\n  )\n}\n\nexport default isIos\n","import React from 'react'\nimport { bool, func } from 'prop-types'\n\nimport IconButton from '../IconButton'\n\nconst MediaVolume = ({ muted, onClick }) => {\n  return (\n    <IconButton\n      icon={muted ? 'mute' : 'volume-up'}\n      a11yText={muted ? 'Volume full' : 'Mute'}\n      onClick={onClick}\n      small\n      increaseHitArea\n    />\n  )\n}\n\nMediaVolume.propTypes = {\n  muted: bool,\n  onClick: func.isRequired\n}\n\nexport default MediaVolume\n","// extracted by mini-css-extract-plugin\nexport default {\"MediaScrubber\":\"MediaScrubber-module__MediaScrubber___3iqEG\",\"inverse\":\"MediaScrubber-module__inverse___2ZWwF\",\"MediaScrubberSummary\":\"MediaScrubber-module__MediaScrubberSummary___S1MHu\"};","const formatTime = (seconds) => {\n  const h = Math.floor(seconds / 3600)\n  const m = Math.floor((seconds % 3600) / 60)\n  const s = Math.floor(seconds % 60)\n  return [h, m > 9 ? m : h ? '0' + m : m || '0', s > 9 ? s : '0' + s]\n    .filter((a) => a)\n    .join(':')\n}\n\nexport default formatTime\n","// extracted by mini-css-extract-plugin\nexport default {\"MediaRange\":\"MediaRange-module__MediaRange___1ahE4\",\"inverse\":\"MediaRange-module__inverse___3RZ6p\"};","import React from 'react'\nimport { bool, func, number, string } from 'prop-types'\nimport classNames from 'classnames'\n\nimport styles from './MediaRange.module.scss'\n\nimport VisuallyHidden from '@/component/Primitive/VisuallyHidden'\n\nconst MediaRange = ({\n  inverse,\n  label,\n  max,\n  min,\n  name,\n  onChange,\n  step,\n  value\n}) => (\n  <label>\n    <VisuallyHidden>{label}</VisuallyHidden>\n    <input\n      className={classNames(styles.MediaRange, inverse && styles.inverse)}\n      max={max}\n      min={min}\n      name={name}\n      onChange={onChange}\n      step={step}\n      style={{ backgroundSize: `${(value / max) * 100}% 100%` }}\n      type=\"range\"\n      value={value}\n    />\n  </label>\n)\n\nMediaRange.defaultProps = {\n  max: 100,\n  min: 0\n}\n\nMediaRange.propTypes = {\n  inverse: bool,\n  label: string,\n  max: number,\n  min: number,\n  name: string.isRequired,\n  onChange: func,\n  step: number,\n  value: string\n}\n\nexport default MediaRange\n","// extracted by mini-css-extract-plugin\nexport default {\"ShrinkWrapWrapper\":\"ShrinkWrapWrapper-module__ShrinkWrapWrapper___xiRua\",\"fixed\":\"ShrinkWrapWrapper-module__fixed___3ScLc\",\"fullWidth\":\"ShrinkWrapWrapper-module__fullWidth___3AFWP\",\"mobileStack\":\"ShrinkWrapWrapper-module__mobileStack___16bwX\"};","import React from 'react'\nimport classNames from 'classnames'\nimport { bool, node, string } from 'prop-types'\n\nimport styles from './ShrinkWrapWrapper.module.scss'\n\nimport Element from '../../../Element'\n\nconst ShrinkWrapWrapper = ({ children, as, fixed, fullWidth, mobileStack }) => (\n  <Element\n    as={as}\n    className={classNames(\n      styles.ShrinkWrapWrapper,\n      fixed && styles.fixed,\n      fullWidth && styles.fullWidth,\n      mobileStack && styles.mobileStack\n    )}\n  >\n    {children}\n  </Element>\n)\n\nShrinkWrapWrapper.propTypes = {\n  children: node.isRequired,\n  as: string,\n  fixed: bool,\n  fullWidth: bool,\n  mobileStack: bool\n}\n\nexport default ShrinkWrapWrapper\n","// extracted by mini-css-extract-plugin\nexport default {\"ShrinkWrapItem\":\"ShrinkWrapItem-module__ShrinkWrapItem___KYWgS\",\"none\":\"ShrinkWrapItem-module__none___RXa5m\",\"comfortable\":\"ShrinkWrapItem-module__comfortable___AON_C\",\"shrink\":\"ShrinkWrapItem-module__shrink___1jjS3\",\"noWrap\":\"ShrinkWrapItem-module__noWrap___TzQvp\",\"top\":\"ShrinkWrapItem-module__top___2YQ0D\",\"middle\":\"ShrinkWrapItem-module__middle___3GUAn\",\"bottom\":\"ShrinkWrapItem-module__bottom___17PP3\"};","import React from 'react'\nimport classNames from 'classnames'\nimport { bool, node, oneOf } from 'prop-types'\n\nimport styles from './ShrinkWrapItem.module.scss'\n\nconst ShrinkWrapItem = ({ children, noWrap, shrink, spacing, vAlign }) => (\n  <span\n    className={classNames(\n      styles.ShrinkWrapItem,\n      noWrap && styles.noWrap,\n      shrink && styles.shrink,\n      spacing && styles[spacing],\n      vAlign && styles[vAlign]\n    )}\n  >\n    {children}\n  </span>\n)\n\nShrinkWrapItem.displayName = 'ShrinkWrapItem'\n\nShrinkWrapItem.propTypes = {\n  children: node.isRequired,\n  shrink: bool,\n  noWrap: bool,\n  spacing: oneOf(['comfortable', 'none']),\n  vAlign: oneOf(['top', 'middle', 'bottom'])\n}\n\nexport default ShrinkWrapItem\n","import ShrinkWrapWrapper from './component/ShrinkWrapWrapper'\nimport ShrinkWrapItem from './component/ShrinkWrapItem'\n\nconst ShrinkWrap = ShrinkWrapWrapper\nShrinkWrap.displayName = 'ShrinkWrap'\n\nShrinkWrap.Item = ShrinkWrapItem\nShrinkWrap.Item.displayName = 'ShrinkWrap.Item'\n\nexport default ShrinkWrap\n","import React from 'react'\nimport { bool, func, number } from 'prop-types'\nimport classNames from 'classnames'\n\nimport styles from './MediaScrubber.module.scss'\n\nimport formatTime from '@/lib/time-formatter'\n\nimport MediaRange from '../MediaRange'\n\nimport ShrinkWrap from '../ShrinkWrap'\n\nconst MediaScrubber = ({ duration, inverse, progress, onChange }) => {\n  const handleChange = (e) => {\n    onChange && onChange(e)\n  }\n\n  return (\n    <div\n      className={classNames(styles.MediaScrubber, inverse && styles.inverse)}\n    >\n      <ShrinkWrap fullWidth>\n        <ShrinkWrap.Item vAlign=\"middle\">\n          <MediaRange\n            label=\"Video Progress\"\n            min={0}\n            // step=\"0.25\"\n            max={Math.floor(duration)}\n            onChange={handleChange}\n            value={`${progress}`}\n            name=\"scrubber\"\n            inverse={inverse}\n          />\n        </ShrinkWrap.Item>\n        <ShrinkWrap.Item shrink noWrap vAlign=\"middle\">\n          <div className={styles.MediaScrubberSummary}>\n            {formatTime(progress)} <span>/ {formatTime(duration)}</span>\n          </div>\n        </ShrinkWrap.Item>\n      </ShrinkWrap>\n    </div>\n  )\n}\n\nMediaScrubber.defaultProps = {\n  progress: 0,\n  duration: 0\n}\n\nMediaScrubber.propTypes = {\n  duration: number,\n  inverse: bool,\n  onChange: func,\n  progress: number\n}\n\nexport default MediaScrubber\n","import React from 'react'\nimport { bool, func, number } from 'prop-types'\n\nimport IconButton from '../IconButton'\nimport MediaRange from '../MediaRange'\n\nimport ShrinkWrap from '../ShrinkWrap'\n\nconst MediaVolume = ({ inverse, onChange, volume }) => {\n  const handleChange = (e) => {\n    onChange && onChange(e.currentTarget.value)\n  }\n\n  return (\n    <ShrinkWrap fullWidth>\n      <ShrinkWrap.Item shrink vAlign=\"middle\">\n        <IconButton\n          icon=\"volume-down\"\n          a11yText=\"Mute\"\n          onClick={() => onChange(0)}\n          small\n        />\n      </ShrinkWrap.Item>\n      <ShrinkWrap.Item vAlign=\"middle\">\n        <MediaRange\n          label=\"Volume\"\n          min={0}\n          max={100}\n          onChange={handleChange}\n          value={`${volume}`}\n          name=\"volume\"\n          inverse={inverse}\n        />\n      </ShrinkWrap.Item>\n      <ShrinkWrap.Item shrink vAlign=\"middle\">\n        <IconButton\n          icon=\"volume-up\"\n          a11yText=\"Volume Full\"\n          onClick={() => onChange(100)}\n          small\n        />\n      </ShrinkWrap.Item>\n    </ShrinkWrap>\n  )\n}\n\nMediaVolume.defaultProps = {\n  volume: 100\n}\n\nMediaVolume.propTypes = {\n  inverse: bool,\n  onChange: func.isRequired,\n  volume: number\n}\n\nexport default MediaVolume\n","import React from 'react'\nimport {\n  bool,\n  node,\n  number,\n  object,\n  oneOf,\n  oneOfType,\n  string\n} from 'prop-types'\n\nconst Video = ({\n  autoPlay,\n  buffered,\n  children,\n  className,\n  controls,\n  crossOrigin,\n  height,\n  loop,\n  muted,\n  playsInline,\n  poster,\n  preload,\n  src,\n  width,\n  setRef\n}) => (\n  // TODO: implement caption functionality using <track> element\n  // eslint-disable-next-line jsx-a11y/media-has-caption\n  <video\n    ref={setRef}\n    autoPlay={autoPlay}\n    buffered={buffered}\n    className={className}\n    controls={controls}\n    crossOrigin={crossOrigin}\n    height={height}\n    loop={loop}\n    muted={muted}\n    playsInline={playsInline}\n    poster={poster}\n    preload={preload}\n    src={src}\n    width={width}\n  >\n    {!children && <p>Sorry, your device doesnt support embedded videos</p>}\n    {children}\n  </video>\n)\n\nVideo.propTypes = {\n  autoPlay: bool,\n  buffered: string,\n  children: node,\n  className: string,\n  controls: bool,\n  crossOrigin: oneOf(['anonymous', 'use-credentials']),\n  height: number,\n  loop: bool,\n  muted: bool,\n  playsInline: bool,\n  poster: string,\n  preload: oneOfType([bool, oneOf(['none', 'metadata', 'auto'])]),\n  src: string,\n  width: number,\n  setRef: object\n}\nexport default Video\n","import React, { useEffect, useRef, useState } from 'react'\nimport { bool, func, number, string } from 'prop-types'\nimport classNames from 'classnames'\n\nimport styles from './VideoPlayer.module.scss'\nimport isIos from './lib/detect-ios'\n// import './lib/tiny-fullscreen-shim'\n\nimport IconButton from '../IconButton'\nimport MediaMute from '../MediaMute'\nimport MediaScrubber from '../MediaScrubber'\nimport MediaVolume from '../MediaVolume'\nimport ResponsiveMedia from '../ResponsiveMedia'\nimport ShrinkWrap from '../ShrinkWrap'\nimport Spinner from '../Spinner'\nimport Video from '../Video'\nimport VisuallyHidden from '../VisuallyHidden'\n\nconst VideoPlayer = ({\n  alt,\n  aspectRatio,\n  autoplay,\n  disabled,\n  inverse,\n  poster,\n  ratio,\n  src,\n  onProgress\n}) => {\n  const [playing, togglePlaying] = useState(autoplay)\n  const [volume, updateVolume] = useState(100)\n  const [progress, updateProgress] = useState(0)\n  const [duration, updateDuration] = useState(0)\n  const [forceControls, toggleForceControls] = useState(false)\n  const [fullscreen, toggleFullscreen] = useState(false)\n  const [volumeMode, setVolumeMode] = useState()\n  const [muted, toggleMuted] = useState(false)\n  const [waiting, toggleWaiting] = useState(false)\n\n  const playerRef = useRef(null)\n  const videoRef = useRef(null)\n\n  const handleMetaLoaded = (e) => {\n    updateDuration(e.target.duration)\n    toggleForceControls(true)\n  }\n\n  const handlePlay = () => {\n    togglePlaying(true)\n    toggleForceControls(false)\n  }\n\n  const handlePause = () => {\n    togglePlaying(false)\n    toggleForceControls(true)\n  }\n\n  const handleTogglePlay = () => {\n    if (videoRef.current.paused) {\n      handlePlay()\n      videoRef.current.play()\n    } else {\n      handlePause()\n      videoRef.current.pause()\n    }\n  }\n\n  const handleDisabled = () => {\n    togglePlaying(false)\n    toggleForceControls(true)\n    videoRef.current.pause()\n  }\n\n  const handleVolumeChange = (newVolume) => {\n    const volumeInt = parseInt(newVolume, 10)\n    updateVolume(volumeInt)\n    videoRef.current.volume = volumeInt / 100\n  }\n\n  const handleTimeUpdate = (e) => {\n    const timeInt = parseInt(e.target.currentTime, 10)\n    updateProgress(timeInt)\n    toggleWaiting(false)\n    onProgress && onProgress(e)\n  }\n\n  const handleManualTimeUpdate = (e) => {\n    const timeInt = parseInt(e.target.value, 10)\n    updateProgress(timeInt)\n    videoRef.current.currentTime = timeInt\n  }\n\n  const handleSetVolumeMode = () => {\n    setVolumeMode(isIos() ? 'simple' : 'full')\n  }\n\n  const handleToggleMute = () => {\n    if (videoRef.current.muted) {\n      toggleMuted(false)\n      videoRef.current.muted = false\n    } else {\n      toggleMuted(true)\n      videoRef.current.muted = true\n    }\n  }\n\n  const handleToggleFullscreen = (e) => {\n    e.stopPropagation()\n    if (fullscreen) {\n      handleExitFullscreen()\n    } else {\n      handleEnterFullscreen()\n    }\n  }\n\n  const handleEnterFullscreen = () => {\n    toggleFullscreen(true)\n    if (playerRef.current.requestFullscreen) {\n      playerRef.current.requestFullscreen()\n    } else {\n      videoRef.current.webkitEnterFullscreen()\n    }\n  }\n\n  const handleExitFullscreen = () => {\n    toggleFullscreen(false)\n    if (document.fullscreenElement) {\n      document.exitFullscreen()\n    } else if (videoRef.current.webkitDisplayingFullscreen) {\n      videoRef.current.webkitExitFullscreen()\n    }\n  }\n\n  const handleFullscreenChange = () => {\n    if (document.fullscreenElement) {\n      toggleFullscreen(true)\n    } else {\n      toggleFullscreen(false)\n    }\n  }\n\n  const handleWaiting = () => {\n    toggleWaiting(true)\n  }\n\n  useEffect(() => {\n    const handleOrientationChange = () => {\n      if (videoRef.current.paused) return\n      if (window.orientation === -90 || window.orientation === 90) {\n        handleEnterFullscreen()\n      } else {\n        handleExitFullscreen()\n      }\n    }\n    window.addEventListener('orientationchange', handleOrientationChange)\n    return () => {\n      window.removeEventListener('orientationchange', handleOrientationChange)\n    }\n  }, [])\n\n  useEffect(() => {\n    window.addEventListener('fullscreenchange', handleFullscreenChange)\n    return () => {\n      window.removeEventListener('fullscreenchange', handleFullscreenChange)\n    }\n  }, [])\n\n  useEffect(() => {\n    const video = videoRef.current\n\n    video.addEventListener('loadedmetadata', handleMetaLoaded, { once: true })\n    video.addEventListener('play', handlePlay)\n    video.addEventListener('pause', handlePause)\n    video.addEventListener('ended', handlePause)\n    video.addEventListener('timeupdate', handleTimeUpdate)\n    video.addEventListener('waiting', handleWaiting)\n\n    handleSetVolumeMode()\n\n    return () => {\n      video.removeEventListener('play', handlePlay)\n      video.removeEventListener('pause', handlePause)\n      video.removeEventListener('ended', handlePause)\n      video.removeEventListener('timeupdate', handleTimeUpdate)\n      video.removeEventListener('waiting', handleWaiting)\n    }\n  }, [])\n\n  useEffect(() => {\n    if (disabled) {\n      handleDisabled()\n    }\n  }, [disabled])\n\n  return (\n    <div\n      className={classNames(\n        styles.VideoPlayer,\n        forceControls && styles.forceControls,\n        inverse && styles.inverse\n      )}\n      ref={playerRef}\n    >\n      {alt && <VisuallyHidden>{alt}</VisuallyHidden>}\n      <ResponsiveMedia ratio={ratio}>\n        <div\n          className={styles.VideoPlayerInner}\n          style={{ maxWidth: `${(ratio / aspectRatio) * 100}%` }}\n        >\n          <ResponsiveMedia ratio={aspectRatio}>\n            <div className={styles.VideoPlayerInnerInner}>\n              <Video\n                playsInline\n                controls={false}\n                setRef={videoRef}\n                autoplay={autoplay}\n                preload=\"metadata\"\n                poster={poster}\n                src={src}\n              />\n              {waiting && (\n                <div className={styles.VideoPlayerInnerOverlay}>\n                  <Spinner />\n                </div>\n              )}\n              <div className={styles.VideoPlayerControls}>\n                <div className={styles.VideoPlayerControlsInner}>\n                  <div\n                    className={classNames(\n                      styles.MediaControls,\n                      inverse && styles.inverse\n                    )}\n                  >\n                    <div className={styles.VideoPlayerScrubber}>\n                      <MediaScrubber\n                        inverse={inverse}\n                        duration={duration}\n                        progress={progress}\n                        onChange={handleManualTimeUpdate}\n                      />\n                    </div>\n                    <div>\n                      <ShrinkWrap fullWidth>\n                        <ShrinkWrap.Item spacing=\"comfortable\">\n                          <IconButton\n                            icon={playing ? 'pause' : 'play'}\n                            a11yText={playing ? 'Pause' : 'Play'}\n                            onClick={handleTogglePlay}\n                            small\n                            increaseHitArea\n                          />\n                        </ShrinkWrap.Item>\n                        <ShrinkWrap.Item\n                          shrink\n                          vAlign=\"middle\"\n                          spacing=\"comfortable\"\n                        >\n                          <div className={styles.VideoPlayerVolume}>\n                            {volumeMode === 'simple' && (\n                              <MediaMute\n                                onClick={handleToggleMute}\n                                muted={muted}\n                              />\n                            )}\n                            {volumeMode === 'full' && (\n                              <MediaVolume\n                                inverse={inverse}\n                                volume={volume}\n                                onChange={handleVolumeChange}\n                              />\n                            )}\n                          </div>\n                        </ShrinkWrap.Item>\n                        <ShrinkWrap.Item\n                          shrink\n                          vAlign=\"middle\"\n                          spacing=\"comfortable\"\n                        >\n                          <IconButton\n                            icon={fullscreen ? 'fullscreen-exit' : 'fullscreen'}\n                            a11yText={\n                              fullscreen\n                                ? 'Exit fullscreen'\n                                : 'Enter fullscreen'\n                            }\n                            onClick={handleToggleFullscreen}\n                            small\n                            increaseHitArea\n                          />\n                        </ShrinkWrap.Item>\n                      </ShrinkWrap>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </ResponsiveMedia>\n        </div>\n      </ResponsiveMedia>\n    </div>\n  )\n}\n\nVideoPlayer.defaultProps = {\n  ratio: 10 / 16,\n  aspectRatio: 9 / 16\n}\n\nVideoPlayer.propTypes = {\n  alt: string,\n  aspectRatio: number,\n  autoplay: bool,\n  disabled: bool,\n  inverse: bool,\n  onProgress: func,\n  poster: string.isRequired,\n  ratio: number,\n  src: string.isRequired\n}\n\nexport default VideoPlayer\n","// extracted by mini-css-extract-plugin\nexport default {\"ViewerCarousel\":\"ViewerCarousel-module__ViewerCarousel___G5B_-\",\"ViewerCarouselPrimary\":\"ViewerCarousel-module__ViewerCarouselPrimary___1Qf7l\",\"ViewerCarouselSecondary\":\"ViewerCarousel-module__ViewerCarouselSecondary___1Givq\",\"ViewerCarouselButton\":\"ViewerCarousel-module__ViewerCarouselButton___9IuhO\",\"ViewerCarouselButtonPrevious\":\"ViewerCarousel-module__ViewerCarouselButtonPrevious___pDOgZ\",\"ViewerCarouselButtonNext\":\"ViewerCarousel-module__ViewerCarouselButtonNext___3BiBx\",\"ViewerCarouselLogo\":\"ViewerCarousel-module__ViewerCarouselLogo___V5mpP\",\"inactive\":\"ViewerCarousel-module__inactive___2YUj2\"};","// extracted by mini-css-extract-plugin\nexport default {\"PaginationButton\":\"PaginationButton-module__PaginationButton___1ys3g\",\"inverse\":\"PaginationButton-module__inverse___1G4J1\"};","import React from 'react'\nimport { bool, func, oneOf } from 'prop-types'\nimport classNames from 'classnames'\n\nimport styles from './PaginationButton.module.scss'\n\nimport Icon from '../Icon'\n\nconst PaginationButton = ({ direction, disabled, inverse, onClick }) => (\n  <button\n    className={classNames(styles.PaginationButton, inverse && styles.inverse)}\n    type=\"button\"\n    onClick={onClick}\n    disabled={disabled}\n  >\n    {direction === 'previous' && (\n      <Icon type=\"arrow-back\" a11yText=\"Previous slide\" />\n    )}\n    {direction === 'next' && (\n      <Icon type=\"arrow-forward\" a11yText=\"Next slide\" />\n    )}\n  </button>\n)\n\nPaginationButton.propTypes = {\n  direction: oneOf(['previous', 'next']).isRequired,\n  disabled: bool,\n  inverse: bool,\n  onClick: func\n}\n\nexport default PaginationButton\n","import React, { cloneElement, useEffect, useState } from 'react'\nimport {\n  array,\n  bool,\n  func,\n  node,\n  number,\n  object,\n  oneOfType,\n  shape,\n  string\n} from 'prop-types'\nimport classNames from 'classnames'\n\nimport SwiperCore, { Keyboard, History } from 'swiper'\nimport { Swiper, SwiperSlide } from 'swiper/react'\n\nimport styles from './ViewerCarousel.module.scss'\n\nimport PaginationButton from '../PaginationButton'\n\nconst ViewerCarousel = ({\n  activeItem,\n  history,\n  initialSlide,\n  inverse,\n  onChange,\n  showcase,\n  slides,\n  thumbnails,\n  watermark\n}) => {\n  const swiperPlugins = [Keyboard]\n  history && swiperPlugins.push(History)\n  SwiperCore.use(swiperPlugins)\n  // const [hashSlide, setHashSlide] = useState()\n  const [activeSlide, setActiveSlide] = useState(initialSlide || 0)\n  const [viewerSwiper, setViewerSwiper] = useState(null)\n  const [thumbsSwiper, setThumbsSwiper] = useState(null)\n  const [mounted, setMounted] = useState(false)\n\n  // Ensures thumbsSwiper initialises its active slide correctly\n  useEffect(() => {\n    thumbsSwiper && thumbsSwiper.slideTo(activeSlide)\n  }, [activeSlide, thumbsSwiper])\n\n  useEffect(() => {\n    viewerSwiper &&\n      viewerSwiper.slideTo(\n        activeItem.index,\n        !mounted ? 0 : 500,\n        setMounted(true)\n      )\n  }, [activeItem, viewerSwiper, mounted])\n\n  const handlePrev = () => {\n    viewerSwiper.slidePrev()\n  }\n\n  const handleNext = () => {\n    viewerSwiper.slideNext()\n  }\n\n  const handleSlideChange = (a) => {\n    setActiveSlide(a.realIndex)\n    onChange && onChange(a.realIndex)\n  }\n\n  const handleThumbClick = (a) => {\n    if (!(a.clickedIndex >= 0)) return\n    setActiveSlide(a.clickedIndex)\n    onChange && onChange(a.clickedIndex)\n  }\n\n  return (\n    <div className={styles.ViewerCarousel}>\n      <div className={styles.ViewerCarouselPrimary}>\n        <Swiper\n          onSwiper={setViewerSwiper}\n          onSlideChange={handleSlideChange}\n          allowTouchMove={false}\n          keyboard\n          history={history}\n        >\n          {slides.map((slide, i) => (\n            <SwiperSlide data-history={slide.id || i} key={`Swiper:${i}`}>\n              {slide}\n            </SwiperSlide>\n          ))}\n        </Swiper>\n        {showcase && watermark && (\n          <div\n            className={classNames(\n              styles.ViewerCarouselLogo,\n              activeItem.type === 'video' && styles.inactive\n            )}\n          >\n            {watermark}\n          </div>\n        )}\n      </div>\n      {thumbnails.length > 1 && (\n        <div className={styles.ViewerCarouselSecondary}>\n          <Swiper\n            onSwiper={setThumbsSwiper}\n            slidesPerView=\"auto\"\n            centeredSlides\n            centeredSlidesBounds\n            centerInsufficientSlides\n            spaceBetween={8}\n            className=\"swiper-container__filmstrip\"\n            onClick={handleThumbClick}\n          >\n            {thumbnails.map((thumbnail, i) => (\n              <SwiperSlide key={`SwiperSlide:${i}`} style={{ width: 'auto' }}>\n                {cloneElement(thumbnail, { active: activeSlide === i })}\n              </SwiperSlide>\n            ))}\n          </Swiper>\n\n          <div\n            className={classNames(\n              styles.ViewerCarouselButton,\n              styles.ViewerCarouselButtonPrevious\n            )}\n          >\n            <PaginationButton\n              direction=\"previous\"\n              onClick={handlePrev}\n              disabled={activeSlide === 0}\n              inverse={inverse}\n            />\n          </div>\n          <div\n            className={classNames(\n              styles.ViewerCarouselButton,\n              styles.ViewerCarouselButtonNext\n            )}\n          >\n            <PaginationButton\n              direction=\"next\"\n              onClick={handleNext}\n              disabled={activeSlide === slides.length - 1}\n              inverse={inverse}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nViewerCarousel.defaultProps = {\n  slides: [],\n  thumbnails: [],\n  activeItem: {},\n  onChange: () => {}\n}\n\nViewerCarousel.propTypes = {\n  activeItem: object, // TODO: shape\n  history: oneOfType([\n    bool,\n    shape({\n      replaceState: bool,\n      key: string\n    })\n  ]),\n  initialSlide: number,\n  inverse: bool,\n  onChange: func,\n  showcase: bool,\n  slides: array, // TODO: shape\n  thumbnails: array, // TODO: shape\n  watermark: node\n}\n\nexport default ViewerCarousel\n","// extracted by mini-css-extract-plugin\nexport default {\"ViewerHeader\":\"ViewerHeader-module__ViewerHeader___3v98l\",\"ViewerHeaderTypeNav\":\"ViewerHeader-module__ViewerHeaderTypeNav___3J3qP\"};","import React from 'react'\nimport { array, func, string } from 'prop-types'\n\nimport styles from './ViewerHeader.module.scss'\n\nimport ButtonGroup from '../ButtonGroup'\nimport Icon from '../Icon'\nimport Inline from '../Inline'\nimport TypeNav from '../TypeNav'\n\nconst ViewerHeader = ({ activeType, availableTypes, onChange, onZoom }) => (\n  <div className={styles.ViewerHeader}>\n    <Inline>\n      <ButtonGroup inverse>\n        <ButtonGroup.Item tight onClick={onZoom}>\n          <Icon type=\"zoom-in\" a11yText=\"Zoom in\" />\n        </ButtonGroup.Item>\n      </ButtonGroup>\n\n      {availableTypes.length > 1 && (\n        <div className={styles.ViewerHeaderTypeNav}>\n          <TypeNav\n            availableTypes={availableTypes}\n            activeType={activeType}\n            inverse\n            onChange={onChange}\n          />\n        </div>\n      )}\n    </Inline>\n  </div>\n)\n\nViewerHeader.defaultProps = {\n  availableTypes: []\n}\n\nViewerHeader.propTypes = {\n  activeType: string,\n  availableTypes: array,\n  onChange: func,\n  onZoom: func\n}\n\nexport default ViewerHeader\n","// extracted by mini-css-extract-plugin\nexport default {\"Zoomer\":\"Zoomer-module__Zoomer___1d95R\",\"ZoomerLoader\":\"Zoomer-module__ZoomerLoader____UPps\",\"ZoomerInner\":\"Zoomer-module__ZoomerInner___1gSfK\",\"ZoomerControls\":\"Zoomer-module__ZoomerControls___1pesr\",\"ZoomerButtonPlus\":\"Zoomer-module__ZoomerButtonPlus___3yLon\",\"ZoomerButtonMinus\":\"Zoomer-module__ZoomerButtonMinus___2-wdI\",\"ZoomerButtonReset\":\"Zoomer-module__ZoomerButtonReset___38N1Y\",\"active\":\"Zoomer-module__active___3ca6h\",\"ZoomerMinimap\":\"Zoomer-module__ZoomerMinimap___2Qdso\"};","const mapTranslationToDecimal = ({\n  scale,\n  width,\n  height,\n  offsetX,\n  offsetY\n}) => {\n  // console.log({ scale, width, height, offsetX, offsetY })\n  if (scale === 1) return { x: 0.5, y: 0.5 }\n  return {\n    x: ((offsetX * -1) / (width - width * scale)) * -1,\n    y: ((offsetY * -1) / (height - height * scale)) * -1\n  }\n}\n\nconst mapTranslationToPixel = ({ scale, width, height, offsetX, offsetY }) => {\n  // console.log({ scale, width, height, offsetX, offsetY })\n  return {\n    x: (width - width * scale) * offsetX,\n    y: (height - height * scale) * offsetY\n  }\n}\n\nexport { mapTranslationToDecimal, mapTranslationToPixel }\n","// extracted by mini-css-extract-plugin\nexport default {\"Minimap\":\"Minimap-module__Minimap___2iijr\",\"MinimapLoader\":\"Minimap-module__MinimapLoader___2fD0B\",\"MinimapInner\":\"Minimap-module__MinimapInner___2frbB\",\"MinimapIndicator\":\"Minimap-module__MinimapIndicator___36CB8\"};","import React, { useEffect, useRef, useState } from 'react'\nimport { func, number, string } from 'prop-types'\nimport { MapInteractionCSS } from 'react-map-interaction'\nimport {\n  mapTranslationToDecimal,\n  mapTranslationToPixel\n} from '@/lib/map-translation-converter'\n\nimport styles from './Minimap.module.scss'\n\nimport ResponsiveMedia from '../ResponsiveMedia'\n\nconst Minimap = ({ onChange, ratio, scale, src, x, y }) => {\n  const [formattedValue, updateFormattedValue] = useState({\n    scale: 1,\n    translation: {\n      x: 0.5,\n      y: 0.5\n    }\n  })\n\n  const wrapper = useRef()\n\n  // const handleClick = (e) => {\n  //   const { top, left } = wrapper.current.getBoundingClientRect()\n  //   handleChange({\n  //     scale,\n  //     translation: {\n  //       x: e.clientX - left - (scale * wrapper.current.clientWidth) / 2,\n  //       y: e.clientY - top - (scale * wrapper.current.clientHeight) / 2\n  //     }\n  //   })\n  // }\n\n  const handleChange = ({ scale, translation }) => {\n    const newTranslation = mapTranslationToDecimal({\n      scale,\n      width: wrapper.current.clientWidth,\n      height: wrapper.current.clientHeight,\n      offsetX: translation.x,\n      offsetY: translation.y\n    })\n    onChange && onChange({ scale, translation: newTranslation })\n  }\n\n  useEffect(() => {\n    const newTranslation = mapTranslationToPixel({\n      scale,\n      width: wrapper.current.clientWidth,\n      height: wrapper.current.clientHeight,\n      offsetX: x,\n      offsetY: y\n    })\n    updateFormattedValue({ scale, translation: newTranslation })\n  }, [x, y, scale])\n\n  return (\n    <div className={styles.Minimap} style={{ backgroundImage: `url(${src})` }}>\n      <ResponsiveMedia ratio={ratio}>\n        <div\n          className={styles.MinimapInner}\n          ref={wrapper}\n          // onClick={handleClick}\n        >\n          <MapInteractionCSS\n            value={formattedValue}\n            onChange={handleChange}\n            disableZoom\n          >\n            <ResponsiveMedia ratio={ratio}>\n              <div\n                className={styles.MinimapIndicator}\n                style={{\n                  borderWidth: `${1.5 / scale}px`\n                }}\n              />\n            </ResponsiveMedia>\n          </MapInteractionCSS>\n        </div>\n      </ResponsiveMedia>\n    </div>\n  )\n}\n\nMinimap.defaultProps = {\n  ratio: 10 / 16,\n  scale: 1,\n  x: 0.5,\n  y: 0.5\n}\n\nMinimap.propTypes = {\n  onChange: func,\n  ratio: number,\n  scale: number,\n  src: string.isRequired,\n  x: number,\n  y: number\n}\n\nexport default Minimap\n","// extracted by mini-css-extract-plugin\nexport default {\"ZoomerImage\":\"ZoomerImage-module__ZoomerImage___2obWq\",\"defaultScale\":\"ZoomerImage-module__defaultScale___1GY64\"};","import React, { useEffect, useRef, useState } from 'react'\nimport {\n  array,\n  bool,\n  func,\n  number,\n  node,\n  object,\n  shape,\n  string\n} from 'prop-types'\nimport classNames from 'classnames'\nimport { MapInteractionCSS } from 'react-map-interaction'\nimport {\n  mapTranslationToDecimal,\n  mapTranslationToPixel\n} from '@/lib/map-translation-converter'\n\nimport styles from './ZoomerImage.module.scss'\n\nimport HotspotFrame from '../HotspotFrame'\nimport ResponsiveImage from '../ResponsiveImage'\nimport ResponsiveMedia from '../ResponsiveMedia'\n\nconst ZoomerImage = ({\n  children,\n  scale,\n  x,\n  y,\n  onChange,\n  ratio,\n  hotspots,\n  onHotspotClick,\n  image,\n  disableZoom,\n  minScale,\n  maxScale,\n  initialised\n}) => {\n  const [formattedValue, updateFormattedValue] = useState({\n    scale: 1,\n    translation: {\n      x: 0.5,\n      y: 0.5\n    }\n  })\n  const [wrapperWidth, updateWrapperWidth] = useState(0)\n\n  useEffect(() => {\n    updateWrapperWidth(wrapper.current.clientWidth)\n  }, [])\n\n  const wrapper = useRef()\n\n  const handleChange = ({ scale, translation }) => {\n    const newTranslation = mapTranslationToDecimal({\n      scale,\n      width: wrapper.current.clientWidth,\n      height: wrapper.current.clientHeight,\n      offsetX: translation.x,\n      offsetY: translation.y\n    })\n    onChange && onChange({ scale, translation: newTranslation })\n  }\n\n  useEffect(() => {\n    const newTranslation = mapTranslationToPixel({\n      scale,\n      width: wrapper.current.clientWidth,\n      height: wrapper.current.clientHeight,\n      offsetX: x,\n      offsetY: y\n    })\n    updateFormattedValue({ scale, translation: newTranslation })\n  }, [x, y, scale])\n\n  return (\n    <div\n      className={classNames(\n        styles.ZoomerImage,\n        scale === 1 && styles.defaultScale\n      )}\n      ref={wrapper}\n    >\n      <MapInteractionCSS\n        value={formattedValue}\n        onChange={handleChange}\n        disableZoom={disableZoom}\n        minScale={minScale}\n        maxScale={maxScale}\n      >\n        <div className={styles.ZoomerImageContent}>\n          {children}\n          <HotspotFrame\n            scale={scale}\n            hotspots={hotspots}\n            onClick={onHotspotClick}\n          >\n            <ResponsiveMedia ratio={ratio}>\n              {/* Load minimap image as low-res placeholder */}\n              {image.minimap && (\n                <ResponsiveImage\n                  alt=\"\"\n                  loading=\"lazy\"\n                  src={image.minimap}\n                  width={1000}\n                  height={562}\n                />\n              )}\n\n              {initialised && (\n                <ResponsiveImage\n                  alt={image.alt || ''}\n                  loading=\"eager\"\n                  src={image.src}\n                  srcSet={\n                    image.srcSet &&\n                    Object.entries(image.srcSet).map((src) => {\n                      return {\n                        width: parseInt(src[0], 10),\n                        src: src[1]\n                      }\n                    })\n                  }\n                  sizes={[`${wrapperWidth * scale}px`]}\n                  width={1000}\n                  height={562}\n                  // onLoad={handleImageLoad}\n                  // onError={handleImageLoad}\n                />\n              )}\n            </ResponsiveMedia>\n          </HotspotFrame>\n        </div>\n      </MapInteractionCSS>\n    </div>\n  )\n}\n\nZoomerImage.defaultProps = {\n  image: {},\n  minScale: 0.05,\n  maxScale: 3\n}\n\nZoomerImage.propTypes = {\n  scale: number,\n  x: number,\n  y: number,\n  onChange: func,\n  children: node,\n  ratio: number,\n  hotspots: array, // TODO: shape\n  onHotspotClick: func,\n  disableZoom: bool,\n  image: shape({\n    alt: string,\n    src: string.isRequired,\n    srcSet: object,\n    minimap: string\n  }),\n  minScale: number,\n  maxScale: number,\n  initialised: bool\n}\n\nexport default ZoomerImage\n","import React, { useEffect, useRef, useState } from 'react'\nimport {\n  arrayOf,\n  bool,\n  func,\n  number,\n  objectOf,\n  shape,\n  string\n} from 'prop-types'\nimport classNames from 'classnames'\n\nimport styles from './Zoomer.module.scss'\n\nimport Spinner from '../Spinner'\nimport ButtonSingle from '../ButtonSingle'\nimport ResponsiveMedia from '../ResponsiveMedia'\nimport Minimap from '../Minimap'\nimport Inline from '../Inline'\nimport ZoomerImage from '../ZoomerImage'\n\nimport shapeHotspotStandard from '@/shape/hotspot-standard'\n\nconst Zoomer = ({\n  alt,\n  controls,\n  defaultScale,\n  disableZoom,\n  hotspots,\n  loading,\n  max,\n  min,\n  minimap,\n  onHotspotClick,\n  ratio,\n  src,\n  srcSet,\n  step,\n  priorityLoading\n}) => {\n  const [initialised, setInitialised] = useState(false)\n  const [scale, updateScale] = useState(defaultScale)\n  const [decimalTranslation, updateDecimalTranslation] = useState({\n    x: 0.5,\n    y: 0.5\n  })\n\n  const wrapper = useRef()\n\n  const clamp = (min, value, max) => Math.min(Math.max(value, min), max)\n\n  const handleChange = ({ scale, translation }) => {\n    const newScale = clamp(min, scale, max)\n    const newTranslation = {\n      x: clamp(0, translation.x, 1),\n      y: clamp(0, translation.y, 1)\n    }\n    updateScale(newScale)\n    updateDecimalTranslation(newTranslation)\n  }\n\n  const handleMinimapChange = ({ scale, translation }) => {\n    const newScale = clamp(min, 1 / scale, max)\n    const newTranslation = {\n      x: clamp(0, translation.x, 1),\n      y: clamp(0, translation.y, 1)\n    }\n    updateScale(newScale)\n    updateDecimalTranslation(newTranslation)\n  }\n\n  const handleZoomIn = () => {\n    updateScale(clamp(min, scale + step, max))\n  }\n\n  const handleZoomOut = () => {\n    updateScale(clamp(min, scale - step, max))\n  }\n\n  const handleReset = () => {\n    updateScale(1)\n    updateDecimalTranslation({ x: 0.5, y: 0.5 })\n  }\n\n  useEffect(() => {\n    if (priorityLoading) {\n      setInitialised(true)\n    }\n  }, [priorityLoading])\n\n  return (\n    <div className={styles.Zoomer}>\n      <ResponsiveMedia ratio={ratio}>\n        <div className={styles.ZoomerInner} ref={wrapper}>\n          {controls && (\n            <div className={styles.ZoomerControls}>\n              <Inline gap=\"small\">\n                <ButtonSingle\n                  inverse\n                  icon=\"add\"\n                  inactive\n                  a11yText=\"Zoom in\"\n                  onClick={handleZoomIn}\n                  disabled={scale >= max}\n                />\n                <ButtonSingle\n                  inverse\n                  icon=\"remove\"\n                  inactive\n                  a11yText=\"Zoom out\"\n                  onClick={handleZoomOut}\n                  disabled={scale <= min}\n                />\n                <div\n                  className={classNames(\n                    styles.ZoomerButtonReset,\n                    scale !== 1 && styles.active\n                  )}\n                >\n                  <ButtonSingle\n                    inverse\n                    icon=\"refresh\"\n                    a11yText=\"Reset\"\n                    onClick={handleReset}\n                  />\n                </div>\n              </Inline>\n            </div>\n          )}\n          <ZoomerImage\n            scale={scale}\n            ratio={ratio}\n            x={decimalTranslation.x}\n            y={decimalTranslation.y}\n            onChange={handleChange}\n            disableZoom={disableZoom}\n            hotspots={hotspots}\n            onHotspotClick={onHotspotClick}\n            image={{\n              alt,\n              src,\n              srcSet,\n              minimap\n            }}\n            minScale={min}\n            maxScale={max}\n            initialised={initialised}\n          />\n        </div>\n        {loading && (\n          <div className={styles.ZoomerLoader}>\n            <Spinner spinning />\n          </div>\n        )}\n      </ResponsiveMedia>\n      {!disableZoom && controls && minimap && (\n        <div\n          className={classNames(\n            styles.ZoomerMinimap,\n            scale !== 1 && styles.active\n          )}\n        >\n          <Minimap\n            scale={1 / scale}\n            ratio={ratio}\n            x={decimalTranslation.x}\n            y={decimalTranslation.y}\n            onChange={handleMinimapChange}\n            src={minimap}\n          />\n        </div>\n      )}\n    </div>\n  )\n}\n\nZoomer.defaultProps = {\n  defaultScale: 1,\n  max: 4,\n  min: 1,\n  ratio: 10 / 16,\n  step: 0.5\n}\n\nZoomer.propTypes = {\n  alt: string,\n  controls: bool,\n  defaultScale: number,\n  hotspots: arrayOf(shape(shapeHotspotStandard)),\n  loading: bool,\n  max: number,\n  min: number,\n  minimap: string.isRequired,\n  onHotspotClick: func,\n  ratio: number,\n  src: string.isRequired,\n  srcSet: objectOf(string),\n  step: number,\n  disableZoom: bool,\n  priorityLoading: bool\n}\n\nexport default Zoomer\n","import React from 'react'\nimport classNames from 'classnames'\nimport { array, bool, func, node, number, object } from 'prop-types'\n\nimport styles from './Viewer.module.scss'\n\nimport FilmStripFrame from '@/component/Primitive/FilmstripFrame'\nimport Interior from '@/component/Primitive/Interior'\nimport Rotator from '@/component/Primitive/Rotator'\nimport VideoPlayer from '@/component/Primitive/VideoPlayer'\nimport ViewerCarousel from '@/component/Primitive/ViewerCarousel'\nimport ViewerHeader from '@/component/Primitive/ViewerHeader'\nimport Zoomer from '@/component/Primitive/Zoomer'\nimport Icon from '@/component/Primitive/Icon'\n\nconst Viewer = ({\n  activeItem,\n  availableTypes,\n  disableImageZoom,\n  history,\n  inverse,\n  items,\n  onHotspotClick,\n  onNavChange,\n  onVideoProgress,\n  onViewerChange,\n  onZoom,\n  rotatorScroll,\n  ratio,\n  showcase,\n  thumbnailRatio,\n  interiorMouseZoom,\n  watermark\n}) => {\n  const slides = items.map((item, i) => {\n    const key = `ViewerSlide:${i}`\n\n    // Signal the active item, plus the items either side, to load as priority\n    const priorityLoading =\n      activeItem.index >= i - 1 && activeItem.index <= i + 1\n\n    // DEBUG VARIABLES\n    // const priorityLoading = false\n    // if (item.type === 'interior') return <div />\n    // if (item.type === 'exterior') return <div />\n    // if (item.type === 'video') return <div />\n    // if (item.type === 'photo') return <div />\n\n    if (item.type === 'exterior')\n      return (\n        <Rotator\n          key={key}\n          {...item}\n          priorityLoading={priorityLoading}\n          inverse={inverse}\n          ratio={ratio}\n          scroll={rotatorScroll}\n          onHotspotClick={onHotspotClick}\n          inactive={activeItem.type !== 'exterior'}\n        />\n      )\n    if (item.type === 'interior')\n      return (\n        <Interior\n          key={key}\n          {...item}\n          priorityLoading={priorityLoading}\n          inverse={inverse}\n          ratio={ratio}\n          controls={showcase}\n          onHotspotClick={onHotspotClick}\n          inactive={activeItem.type !== 'interior'}\n          mouseZoom={interiorMouseZoom}\n        />\n      )\n    if (item.type === 'video')\n      return (\n        <VideoPlayer\n          key={key}\n          {...item}\n          inverse\n          onProgress={(e) => {\n            onVideoProgress &&\n              onVideoProgress({\n                progress: e.target.currentTime,\n                index: i,\n                id: item.id\n              })\n          }}\n          ratio={ratio}\n          disabled={activeItem.type !== 'video'}\n        />\n      )\n    if (item.type === 'photo') {\n      return (\n        <Zoomer\n          key={key}\n          {...item}\n          priorityLoading={priorityLoading}\n          ratio={ratio}\n          controls={showcase}\n          onHotspotClick={onHotspotClick}\n          disableZoom={disableImageZoom}\n        />\n      )\n    }\n  })\n\n  const icons = {\n    exterior: 'rotate-camera',\n    interior: 'rotate-camera',\n    video: 'video'\n  }\n\n  const captions = {\n    exterior: '360 Exterior',\n    interior: '360 Interior',\n    video: 'Video'\n  }\n\n  const thumbnails = items.map((item, i) => {\n    const key = `ViewerThumbnail:${i}`\n    const hasHotspots =\n      !!item.hotspots?.length ||\n      !!item.images?.find((image) => image.hotspots?.length)\n\n    return (\n      <FilmStripFrame\n        key={key}\n        src={item.thumbnail}\n        icon={icons[item.type] || null}\n        caption={item.caption || captions[item.type]}\n        inverse={inverse}\n        hotspot={hasHotspots}\n        ratio={thumbnailRatio}\n      />\n    )\n  })\n\n  return (\n    <div className={styles.Viewer}>\n      <ViewerCarousel\n        slides={slides}\n        thumbnails={thumbnails}\n        inverse={inverse}\n        activeItem={activeItem}\n        onChange={onViewerChange}\n        watermark={watermark}\n        showcase={showcase}\n        history={history}\n        disableImageZoom\n      />\n      {!showcase && (\n        <ViewerHeader\n          availableTypes={availableTypes}\n          activeType={activeItem.type}\n          onChange={onNavChange}\n          onZoom={onZoom}\n        />\n      )}\n      <div\n        className={classNames(\n          styles.ViewerTouchIcon,\n          showcase && styles.alignRight,\n          ['exterior', 'interior'].includes(activeItem.type) && styles.visible\n        )}\n      >\n        <Icon type=\"touch\" a11yText=\"\" height={38} />\n      </div>\n    </div>\n  )\n}\n\nViewer.defaultProps = {\n  items: [],\n  activeItem: {},\n  ratio: 10 / 16,\n  thumbnailRatio: 1 / 2\n}\n\nViewer.propTypes = {\n  activeItem: object,\n  availableTypes: array,\n  disableImageZoom: bool,\n  history: object,\n  inverse: bool,\n  items: array,\n  onHotspotClick: func,\n  onNavChange: func,\n  onVideoProgress: func,\n  onViewerChange: func,\n  onZoom: func,\n  ratio: number,\n  rotatorScroll: bool,\n  showcase: bool,\n  thumbnailRatio: number,\n  interiorMouseZoom: bool,\n  watermark: node\n}\n\nexport default Viewer\n","// extracted by mini-css-extract-plugin\nexport default {\"ViewerPlaceholderFilmstrip\":\"ViewerPlaceholder-module__ViewerPlaceholderFilmstrip___3GtZG\",\"ViewerPlaceholderFilmstripFrame\":\"ViewerPlaceholder-module__ViewerPlaceholderFilmstripFrame___KkhVx\"};","import React from 'react'\nimport { node } from 'prop-types'\n\nimport ImageFrame from '../ImageFrame'\nimport ResponsiveMedia from '../ResponsiveMedia'\n\nimport styles from './ViewerPlaceholder.module.scss'\n\nconst ViewerPlaceholder = ({ children }) => (\n  <div className={styles.ViewerPlaceholder}>\n    <ResponsiveMedia ratio={10 / 16}>\n      <ImageFrame>{children}</ImageFrame>\n    </ResponsiveMedia>\n    <div className={styles.ViewerPlaceholderFilmstrip}>\n      {[...Array(10).keys()].map((i) => (\n        <div\n          className={styles.ViewerPlaceholderFilmstripFrame}\n          key={`ViewerPlaceholderFilmstrip:${i}`}\n        >\n          <ResponsiveMedia\n            ratio={1 / 2}\n            key={`ViewerPlaceholderFilmstrip:${i}`}\n          >\n            <ImageFrame />\n          </ResponsiveMedia>\n        </div>\n      ))}\n    </div>\n  </div>\n)\n\nViewerPlaceholder.propTypes = {\n  children: node\n}\n\nexport default ViewerPlaceholder\n","import React, { useEffect, useState } from 'react'\nimport {\n  arrayOf,\n  bool,\n  func,\n  node,\n  number,\n  object,\n  oneOf,\n  shape,\n  string\n} from 'prop-types'\nimport classNames from 'classnames'\nimport minifyCssString from '@/lib/css-string-minifier'\nimport { HotspotDebugContextProvider } from '@/component/Context/HotspotDebugContext'\n\nimport styles from './Player.module.scss'\n\nimport Header from '../Header'\nimport Icon from '@/component/Primitive/Icon'\nimport InfoPanel from '../InfoPanel'\nimport Modal from '@/component/Primitive/Modal'\nimport ModalHeader from '@/component/Primitive/ModalHeader'\nimport Spinner from '@/component/Primitive/Spinner'\nimport Splash from '@/component/Primitive/Splash'\nimport Viewer from '@/component/Primitive/Viewer'\nimport ViewerPlaceholder from '@/component/Primitive/ViewerPlaceholder'\n\nconst Player = ({\n  colors,\n  containerClass,\n  hideBranding,\n  history,\n  hotspotDebug,\n  initialIndex,\n  infoChildren,\n  infoHeading,\n  infoHeadingSecondary,\n  infoHidden,\n  infoOnLeft,\n  infoTags,\n  infoText,\n  infoTextSecondary,\n  infoHeightMatch,\n  items,\n  modalZIndex,\n  onNavigation,\n  onShowcaseEnter,\n  onShowcaseExit,\n  onVideoProgress,\n  ratio,\n  showcaseDescription,\n  showcaseHeading,\n  splashDuration,\n  thumbnailRatio,\n  watermark\n}) => {\n  const [showcaseActive, toggleShowcaseActive] = useState(false)\n  const [activeItem, updateActiveItem] = useState({})\n  const [availableTypes, setAvailableTypes] = useState([])\n  const [splashComplete, setSplashComplete] = useState(false)\n  const [mounted, setMounted] = useState(false)\n\n  const showInfo = infoHidden\n    ? false\n    : infoChildren ||\n      infoHeading ||\n      infoText ||\n      infoTags ||\n      infoHeadingSecondary ||\n      infoTextSecondary\n\n  const handleModalClose = () => {\n    toggleShowcaseActive(false)\n    onShowcaseExit && onShowcaseExit()\n  }\n\n  const handleModalOpen = () => {\n    toggleShowcaseActive(true)\n    onShowcaseEnter && onShowcaseEnter()\n  }\n\n  const handleNavChange = (type) => {\n    const index = items.findIndex((item) => item.type === type)\n    handleUpdateActiveItem(index)\n  }\n\n  const handleViewerChange = (index) => {\n    handleUpdateActiveItem(index)\n  }\n\n  const handleHotspotClick = (hotspotId) => {\n    const index = items.findIndex((item) => item.id === hotspotId)\n    index >= 0 && handleUpdateActiveItem(index)\n  }\n\n  const handleUpdateActiveItem = (index) => {\n    if (!(index >= 0)) return\n    const activeItemData = {\n      index,\n      id: items[index].id,\n      type: items[index].type\n    }\n    onNavigation && onNavigation(activeItemData)\n    updateActiveItem(activeItemData)\n  }\n\n  const handleSetAvailableTypes = (items) => {\n    if (!items.length) return\n    const types = items.map((item) => item.type)\n    setAvailableTypes([...new Set(types)])\n  }\n\n  const handleSplashComplete = () => {\n    setSplashComplete(true)\n  }\n\n  useEffect(() => {\n    setMounted(true)\n  }, [])\n\n  useEffect(() => {\n    if (items.length && initialIndex < items.length) {\n      handleSetAvailableTypes(items)\n      handleNavChange(items[initialIndex].type)\n    }\n  }, [items, initialIndex])\n\n  useEffect(() => {\n    if (items.length) {\n      handleUpdateActiveItem(initialIndex)\n    }\n  }, [initialIndex])\n\n  const defaultColors = { accent: '#19c784', accentText: '#fff' }\n  const mergedColors = { ...defaultColors, ...colors }\n  const commonViewerProps = {\n    history,\n    items,\n    activeItem,\n    ratio,\n    thumbnailRatio,\n    onNavChange: handleNavChange,\n    onViewerChange: handleViewerChange,\n    onHotspotClick: handleHotspotClick,\n    onVideoProgress: onVideoProgress\n  }\n  return (\n    <HotspotDebugContextProvider active={hotspotDebug}>\n      <div\n        className={classNames(\n          styles.Player,\n          infoOnLeft && styles.infoOnLeft,\n          infoHidden && styles.infoHidden,\n          containerClass\n        )}\n      >\n        <style\n          dangerouslySetInnerHTML={{\n            __html: minifyCssString(`\n            .${styles.PlayerContent} {\n              --color-accent: ${mergedColors.accent};\n              --color-accent-text: ${mergedColors.accentText};\n            }\n          `)\n          }}\n        />\n        {splashDuration > 0 && !splashComplete && (\n          <Splash duration={splashDuration} onComplete={handleSplashComplete} />\n        )}\n\n        {!hideBranding && (\n          <div className={styles.PlayerHeader}>\n            <Header />\n          </div>\n        )}\n        <div className={styles.PlayerContent}>\n          <div className={styles.PlayerViewer}>\n            {(!mounted || showcaseActive || items.length === 0) && (\n              <ViewerPlaceholder>\n                <div style={{ textAlign: 'center' }}>\n                  {!mounted && <Spinner />}\n                  <noscript>\n                    <div>\n                      This functionality requires JavaScript to be enabled\n                    </div>\n                  </noscript>\n                </div>\n              </ViewerPlaceholder>\n            )}\n            {mounted && !showcaseActive && (\n              <Viewer\n                {...commonViewerProps}\n                availableTypes={availableTypes}\n                onZoom={handleModalOpen}\n                disableImageZoom\n                interiorMouseZoom={false}\n              />\n            )}\n          </div>\n          {showInfo && (\n            <div className={styles.PlayerInfo}>\n              <div\n                className={classNames(\n                  styles.PlayerInfoInner,\n                  infoHeightMatch && styles.heightMatch\n                )}\n              >\n                <InfoPanel\n                  heading={infoHeading}\n                  text={infoText}\n                  tags={infoTags}\n                  headingSecondary={infoHeadingSecondary}\n                  textSecondary={infoTextSecondary}\n                >\n                  {infoChildren}\n                </InfoPanel>\n              </div>\n            </div>\n          )}\n        </div>\n        <Modal\n          open={showcaseActive}\n          ariaLabel=\"Showcase mode\"\n          onClose={handleModalClose}\n          watermark={\n            watermark && (\n              <Icon type=\"autoloadit\" a11yText=\"AutoLoadIt\" width={150} />\n            )\n          }\n          colors={mergedColors}\n          zIndex={modalZIndex}\n        >\n          <ModalHeader\n            availableTypes={availableTypes}\n            activeType={activeItem.type}\n            onChange={handleNavChange}\n            heading={showcaseHeading}\n            description={showcaseDescription}\n            onClose={handleModalClose}\n            inverse\n          />\n          {mounted && showcaseActive && (\n            <Viewer\n              {...commonViewerProps}\n              showcase\n              inverse\n              rotatorScroll\n              interiorMouseZoom\n              watermark={\n                watermark && (\n                  <Icon type=\"autoloadit\" a11yText=\"AutoLoadIt\" width={150} />\n                )\n              }\n            />\n          )}\n        </Modal>\n      </div>\n    </HotspotDebugContextProvider>\n  )\n}\n\nPlayer.defaultProps = {\n  colors: {},\n  containerClass: null,\n  initialIndex: 0,\n  items: [],\n  splashDuration: 0,\n  watermark: true\n}\n\nPlayer.propTypes = {\n  colors: shape({\n    accent: string,\n    accentText: string\n  }),\n  containerClass: string,\n  hideBranding: bool,\n  history: object,\n  hotspotDebug: bool,\n  initialIndex: number,\n  infoChildren: node,\n  infoHeading: string,\n  infoHeadingSecondary: string,\n  infoHidden: bool,\n  infoOnLeft: bool,\n  infoTags: arrayOf(string),\n  infoText: string,\n  infoTextSecondary: string,\n  infoHeightMatch: bool,\n  onNavigation: func,\n  onShowcaseEnter: func,\n  onShowcaseExit: func,\n  onVideoProgress: func,\n  ratio: number,\n  showcaseDescription: string,\n  showcaseHeading: string,\n  splashDuration: number,\n  styles: string,\n  thumbnailRatio: number,\n  watermark: bool,\n  items: arrayOf(\n    shape({ type: oneOf(['exterior', 'interior', 'photo', 'video']) })\n  ).isRequired,\n  modalZIndex: number\n}\n\nexport default Player\n","import React from 'react'\n\nimport Player from '@/component/Structure/Player'\n\nconst AutoWorksPlayer = (props) => (\n  <div>\n    <Player {...props} />\n    <div id=\"player-portal\" />\n  </div>\n)\n\nAutoWorksPlayer.propTypes = Player.propTypes\n\nAutoWorksPlayer.displayName = 'AutoWorksPlayer'\n\nexport default AutoWorksPlayer\n"],"sourceRoot":""}